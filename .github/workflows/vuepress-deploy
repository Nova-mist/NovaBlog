name: Build and Deploy
on: [push]
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout
        uses: actions/checkout@v3

      - name: Configure Node
        uses: actions/setup-node@v3
        with:
          node-version: 16

      - name: Install
        run: |
          npm ci
          npm i yarn
          yarn && yarn docs:build

      # - name: vuepress-deploy
      #   uses: Nova-mist/NovaBlog@main
      #   env:
      #     ACCESS_TOKEN: ${{ secrets.GITHUB_TOKEN }}
      #     TARGET_REPO: Nova-mist/NovaBlog
      #     TARGET_BRANCH: main
      #     BUILD_SCRIPT: yarn && yarn docs:build
      #     BUILD_DIR: docs/.vuepress/dist
      #     CNAME: https://nova-mist.github.io/nova-blog
