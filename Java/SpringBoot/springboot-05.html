<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>springboot-05 | Nova Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="æˆ‘é‚£æ‘Šå¤§é¥¼ä¸€æ ·çš„é›¶æ•£å­¦ä¹ ç¬”è®°">
    
    <link rel="preload" href="/NovaBlog/assets/css/0.styles.26d8bde2.css" as="style"><link rel="preload" href="/NovaBlog/assets/js/app.7283b6f5.js" as="script"><link rel="preload" href="/NovaBlog/assets/js/2.6539ea43.js" as="script"><link rel="preload" href="/NovaBlog/assets/js/19.464c0b71.js" as="script"><link rel="prefetch" href="/NovaBlog/assets/js/10.681f19e7.js"><link rel="prefetch" href="/NovaBlog/assets/js/11.adb3fca2.js"><link rel="prefetch" href="/NovaBlog/assets/js/12.e509a0f8.js"><link rel="prefetch" href="/NovaBlog/assets/js/13.0ace9699.js"><link rel="prefetch" href="/NovaBlog/assets/js/14.f11331b6.js"><link rel="prefetch" href="/NovaBlog/assets/js/15.c3fe2b37.js"><link rel="prefetch" href="/NovaBlog/assets/js/16.76473f3a.js"><link rel="prefetch" href="/NovaBlog/assets/js/17.1e6e96a7.js"><link rel="prefetch" href="/NovaBlog/assets/js/18.de0f476b.js"><link rel="prefetch" href="/NovaBlog/assets/js/20.adc0ad6e.js"><link rel="prefetch" href="/NovaBlog/assets/js/21.a75102d0.js"><link rel="prefetch" href="/NovaBlog/assets/js/22.409ca266.js"><link rel="prefetch" href="/NovaBlog/assets/js/23.4b83f159.js"><link rel="prefetch" href="/NovaBlog/assets/js/24.b80958e2.js"><link rel="prefetch" href="/NovaBlog/assets/js/25.bbdd2bef.js"><link rel="prefetch" href="/NovaBlog/assets/js/26.0ed31014.js"><link rel="prefetch" href="/NovaBlog/assets/js/27.80bd39a6.js"><link rel="prefetch" href="/NovaBlog/assets/js/28.2772d3d5.js"><link rel="prefetch" href="/NovaBlog/assets/js/29.d14c59ce.js"><link rel="prefetch" href="/NovaBlog/assets/js/3.672c28f4.js"><link rel="prefetch" href="/NovaBlog/assets/js/30.3edde461.js"><link rel="prefetch" href="/NovaBlog/assets/js/31.da8777c1.js"><link rel="prefetch" href="/NovaBlog/assets/js/32.fa19d459.js"><link rel="prefetch" href="/NovaBlog/assets/js/33.2d3adc2b.js"><link rel="prefetch" href="/NovaBlog/assets/js/34.35850d01.js"><link rel="prefetch" href="/NovaBlog/assets/js/35.b14e62bb.js"><link rel="prefetch" href="/NovaBlog/assets/js/36.44753080.js"><link rel="prefetch" href="/NovaBlog/assets/js/37.8d2088d4.js"><link rel="prefetch" href="/NovaBlog/assets/js/38.4366f780.js"><link rel="prefetch" href="/NovaBlog/assets/js/39.c9f5137d.js"><link rel="prefetch" href="/NovaBlog/assets/js/4.854c56f8.js"><link rel="prefetch" href="/NovaBlog/assets/js/40.68c696f4.js"><link rel="prefetch" href="/NovaBlog/assets/js/41.7190c7b3.js"><link rel="prefetch" href="/NovaBlog/assets/js/42.7710aff4.js"><link rel="prefetch" href="/NovaBlog/assets/js/43.9f513289.js"><link rel="prefetch" href="/NovaBlog/assets/js/44.493f11ea.js"><link rel="prefetch" href="/NovaBlog/assets/js/45.66cd96d8.js"><link rel="prefetch" href="/NovaBlog/assets/js/46.f5e4e401.js"><link rel="prefetch" href="/NovaBlog/assets/js/47.c2f3caf8.js"><link rel="prefetch" href="/NovaBlog/assets/js/48.74afa3cf.js"><link rel="prefetch" href="/NovaBlog/assets/js/49.ea737da6.js"><link rel="prefetch" href="/NovaBlog/assets/js/5.f7ccee55.js"><link rel="prefetch" href="/NovaBlog/assets/js/50.3eca0141.js"><link rel="prefetch" href="/NovaBlog/assets/js/51.949ffca7.js"><link rel="prefetch" href="/NovaBlog/assets/js/52.d007ce86.js"><link rel="prefetch" href="/NovaBlog/assets/js/53.252a0d24.js"><link rel="prefetch" href="/NovaBlog/assets/js/54.97c86c53.js"><link rel="prefetch" href="/NovaBlog/assets/js/55.4577ea3a.js"><link rel="prefetch" href="/NovaBlog/assets/js/56.085a6c0d.js"><link rel="prefetch" href="/NovaBlog/assets/js/57.6804712d.js"><link rel="prefetch" href="/NovaBlog/assets/js/58.559b3cac.js"><link rel="prefetch" href="/NovaBlog/assets/js/59.48650730.js"><link rel="prefetch" href="/NovaBlog/assets/js/6.14027d31.js"><link rel="prefetch" href="/NovaBlog/assets/js/60.e53abbd4.js"><link rel="prefetch" href="/NovaBlog/assets/js/61.53d32451.js"><link rel="prefetch" href="/NovaBlog/assets/js/62.f93973c5.js"><link rel="prefetch" href="/NovaBlog/assets/js/63.9dd5b9b3.js"><link rel="prefetch" href="/NovaBlog/assets/js/64.4a1ac6da.js"><link rel="prefetch" href="/NovaBlog/assets/js/65.84f958d2.js"><link rel="prefetch" href="/NovaBlog/assets/js/66.38972cd8.js"><link rel="prefetch" href="/NovaBlog/assets/js/67.97df1d7d.js"><link rel="prefetch" href="/NovaBlog/assets/js/68.f78ccdc1.js"><link rel="prefetch" href="/NovaBlog/assets/js/69.9d476a9c.js"><link rel="prefetch" href="/NovaBlog/assets/js/7.5c5bd089.js"><link rel="prefetch" href="/NovaBlog/assets/js/70.28382d01.js"><link rel="prefetch" href="/NovaBlog/assets/js/71.4a4fdf3a.js"><link rel="prefetch" href="/NovaBlog/assets/js/72.646ad1ce.js"><link rel="prefetch" href="/NovaBlog/assets/js/73.2f2ebeb1.js"><link rel="prefetch" href="/NovaBlog/assets/js/74.22b83718.js"><link rel="prefetch" href="/NovaBlog/assets/js/75.50e2585a.js"><link rel="prefetch" href="/NovaBlog/assets/js/76.998e5fbe.js"><link rel="prefetch" href="/NovaBlog/assets/js/77.e805e4a0.js"><link rel="prefetch" href="/NovaBlog/assets/js/8.f20fe421.js"><link rel="prefetch" href="/NovaBlog/assets/js/9.749c610b.js">
    <link rel="stylesheet" href="/NovaBlog/assets/css/0.styles.26d8bde2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/NovaBlog/" class="home-link router-link-active"><!----> <span class="site-name">Nova Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/NovaBlog/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/SpringBoot/" class="nav-link router-link-active">
  Spring Boot
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/SpringMVC/" class="nav-link">
  Spring MVC
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/åŸºç¡€/" class="nav-link">
  åŸºç¡€
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tools" class="mobile-dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/æ¥å£/" class="nav-link">
  æ¥å£
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/" class="nav-link">
  æ—¥å¿—&amp;json
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/éƒ¨ç½²/" class="nav-link">
  éƒ¨ç½²
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web" class="dropdown-title"><span class="title">web</span> <span class="arrow down"></span></button> <button type="button" aria-label="web" class="mobile-dropdown-title"><span class="title">web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/web/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/åŸºç¡€/" class="nav-link">
  åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/çŠ¶æ€ç®¡ç†/" class="nav-link">
  çŠ¶æ€ç®¡ç†
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/ç»„ä»¶åº“/" class="nav-link">
  ç»„ä»¶åº“
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/è·¯ç”±/" class="nav-link">
  è·¯ç”±
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸­é—´ä»¶" class="mobile-dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/ä¸­é—´ä»¶/ELK/" class="nav-link">
  ELK
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ•°æ®åº“" class="mobile-dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/æ•°æ®åº“/MySQL/" class="nav-link">
  My SQL
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/æ•°æ®åº“/Redis/" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•" class="dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç®—æ³•" class="mobile-dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/å…¶ä»–/" class="nav-link">
  å…¶ä»–
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/åŠ¨è§„/" class="nav-link">
  åŠ¨è§„
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/è´ªå¿ƒ/" class="nav-link">
  è´ªå¿ƒ
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/é“¾è¡¨äºŒå‰æ ‘/" class="nav-link">
  é“¾è¡¨äºŒå‰æ ‘
</a></li></ul></div></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/NovaBlog/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/SpringBoot/" class="nav-link router-link-active">
  Spring Boot
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/SpringMVC/" class="nav-link">
  Spring MVC
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/åŸºç¡€/" class="nav-link">
  åŸºç¡€
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tools" class="mobile-dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/æ¥å£/" class="nav-link">
  æ¥å£
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/" class="nav-link">
  æ—¥å¿—&amp;json
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/éƒ¨ç½²/" class="nav-link">
  éƒ¨ç½²
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web" class="dropdown-title"><span class="title">web</span> <span class="arrow down"></span></button> <button type="button" aria-label="web" class="mobile-dropdown-title"><span class="title">web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/web/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/åŸºç¡€/" class="nav-link">
  åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/çŠ¶æ€ç®¡ç†/" class="nav-link">
  çŠ¶æ€ç®¡ç†
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/ç»„ä»¶åº“/" class="nav-link">
  ç»„ä»¶åº“
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/è·¯ç”±/" class="nav-link">
  è·¯ç”±
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸­é—´ä»¶" class="mobile-dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/ä¸­é—´ä»¶/ELK/" class="nav-link">
  ELK
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ•°æ®åº“" class="mobile-dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/æ•°æ®åº“/MySQL/" class="nav-link">
  My SQL
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/æ•°æ®åº“/Redis/" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•" class="dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç®—æ³•" class="mobile-dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/å…¶ä»–/" class="nav-link">
  å…¶ä»–
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/åŠ¨è§„/" class="nav-link">
  åŠ¨è§„
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/è´ªå¿ƒ/" class="nav-link">
  è´ªå¿ƒ
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/é“¾è¡¨äºŒå‰æ ‘/" class="nav-link">
  é“¾è¡¨äºŒå‰æ ‘
</a></li></ul></div></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Spring Boot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NovaBlog/Java/SpringBoot/" aria-current="page" class="sidebar-link">SpringBoot</a></li><li><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html" class="sidebar-link">SpringBoot ç»éªŒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#é¡¹ç›®ç»“æ„" class="sidebar-link">é¡¹ç›®ç»“æ„</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#å¤šæ¨¡å—" class="sidebar-link">å¤šæ¨¡å—</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#mybatis-é”™è¯¯" class="sidebar-link">Mybatis é”™è¯¯</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#è·å–æ³¨å…¥çš„-bean" class="sidebar-link">è·å–æ³¨å…¥çš„ Bean</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#å¸¸è§é”™è¯¯" class="sidebar-link">å¸¸è§é”™è¯¯</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#autowire-æœªæ‰¾åˆ°" class="sidebar-link">Autowire æœªæ‰¾åˆ°</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#ä½¿ç”¨-errorcontroller" class="sidebar-link">ä½¿ç”¨ ErrorController</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#springboot-é™æ€èµ„æºè¿‡æ»¤" class="sidebar-link">SpringBoot é™æ€èµ„æºè¿‡æ»¤</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#classpath" class="sidebar-link">ClassPath</a></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-00.html" class="sidebar-link">SpringBoot å†æ¬¡ç¬”è®°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#æ¦‚è¿°" class="sidebar-link">æ¦‚è¿°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#spring" class="sidebar-link">Spring</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#spring-boot" class="sidebar-link">Spring Boot</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#å¾®æœåŠ¡æ¶æ„" class="sidebar-link">å¾®æœåŠ¡æ¶æ„</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#hellospringboot" class="sidebar-link">HelloSpringBoot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#åˆ›å»ºé¡¹ç›®" class="sidebar-link">åˆ›å»ºé¡¹ç›®</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#ç”Ÿæˆ-jar-åŒ…" class="sidebar-link">ç”Ÿæˆ jar åŒ…</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é—®é¢˜" class="sidebar-link">é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é¡¹ç›®åˆ†æ" class="sidebar-link">é¡¹ç›®åˆ†æ</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é…ç½®æ–‡ä»¶" class="sidebar-link">é…ç½®æ–‡ä»¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é…ç½®åˆ†ç±»" class="sidebar-link">é…ç½®åˆ†ç±»</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#yaml-è¯­æ³•" class="sidebar-link">yaml è¯­æ³•</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#è¯»å–é…ç½®æ•°æ®" class="sidebar-link">è¯»å–é…ç½®æ•°æ®</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#jsr303æ•°æ®æ ¡éªŒ" class="sidebar-link">JSR303æ•°æ®æ ¡éªŒ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº" class="sidebar-link">é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é…ç½®ç¯å¢ƒåˆ‡æ¢-profile" class="sidebar-link">é…ç½®ç¯å¢ƒåˆ‡æ¢ profile</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é—®é¢˜-2" class="sidebar-link">é—®é¢˜</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#æ•´åˆæ¡†æ¶" class="sidebar-link">æ•´åˆæ¡†æ¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#junit" class="sidebar-link">Junit</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#mybatis" class="sidebar-link">MyBatis</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#redis" class="sidebar-link">Redis</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#condition" class="sidebar-link">Condition</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#spring-è‡ªåŠ¨åˆ›å»º-bean" class="sidebar-link">Spring è‡ªåŠ¨åˆ›å»º bean</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#è‡ªå®šä¹‰-bean-å¯¹è±¡åˆ›å»º" class="sidebar-link">è‡ªå®šä¹‰ bean å¯¹è±¡åˆ›å»º</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#æ ¹æ®æ¡ä»¶åˆ›å»ºè‡ªå®šä¹‰-bean" class="sidebar-link">æ ¹æ®æ¡ä»¶åˆ›å»ºè‡ªå®šä¹‰ bean</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#ä½¿ç”¨è‡ªå®šä¹‰-condition-æ³¨è§£" class="sidebar-link">ä½¿ç”¨è‡ªå®šä¹‰ Condition æ³¨è§£</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#ä½¿ç”¨-condition-åŒ…å†…åŸç”Ÿæ³¨è§£" class="sidebar-link">ä½¿ç”¨ Condition åŒ…å†…åŸç”Ÿæ³¨è§£</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#æ’é™¤ä¾èµ–" class="sidebar-link">æ’é™¤ä¾èµ–</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#import-enable" class="sidebar-link">@Import &amp; Enable</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#è‡ªåŠ¨é…ç½®åŸç†" class="sidebar-link">è‡ªåŠ¨é…ç½®åŸç†</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#è‡ªå®šä¹‰-starter" class="sidebar-link">è‡ªå®šä¹‰ starter</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é¡¹ç›®ç»“æ„" class="sidebar-link">é¡¹ç›®ç»“æ„</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#æ­¥éª¤åˆ†æ" class="sidebar-link">æ­¥éª¤åˆ†æ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#å®ç°" class="sidebar-link">å®ç°</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#äº‹ä»¶ç›‘å¬" class="sidebar-link">äº‹ä»¶ç›‘å¬</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#springboot-è¿ç»´" class="sidebar-link">SpringBoot è¿ç»´</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#ä½¿ç”¨-actuator-ç›‘æ§" class="sidebar-link">ä½¿ç”¨ actuator ç›‘æ§</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#ä½¿ç”¨å›¾å½¢åŒ–ç›‘æ§" class="sidebar-link">ä½¿ç”¨å›¾å½¢åŒ–ç›‘æ§</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#éƒ¨ç½²é¡¹ç›®" class="sidebar-link">éƒ¨ç½²é¡¹ç›®</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#ğŸŸ spring-boot-å¯åŠ¨æµç¨‹" class="sidebar-link">ğŸŸ Spring Boot å¯åŠ¨æµç¨‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#åˆå§‹åŒ–" class="sidebar-link">åˆå§‹åŒ–</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#run-æ–¹æ³•" class="sidebar-link">Run æ–¹æ³•</a></li></ul></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-01.html" class="sidebar-link">springboot-01</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#è·¯çº¿å‰æ¦‚" class="sidebar-link">è·¯çº¿å‰æ¦‚</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#ç›¸å…³ç®€ä»‹" class="sidebar-link">ç›¸å…³ç®€ä»‹</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#hellospringboot" class="sidebar-link">HelloSpringBoot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#åˆ›å»ºé¡¹ç›®" class="sidebar-link">åˆ›å»ºé¡¹ç›®</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#ç»“æ„åˆ†æ" class="sidebar-link">ç»“æ„åˆ†æ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#ç¼–å†™httpæ¥å£" class="sidebar-link">ç¼–å†™httpæ¥å£</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#æ‰“åŒ…" class="sidebar-link">æ‰“åŒ…</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#é—®é¢˜" class="sidebar-link">é—®é¢˜</a></li></ul></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-02.html" class="sidebar-link">springboot-02</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#è¿è¡ŒåŸç†" class="sidebar-link">è¿è¡ŒåŸç†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#å¯åŠ¨å™¨" class="sidebar-link">å¯åŠ¨å™¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#ä¸»å¯åŠ¨ç±»" class="sidebar-link">ä¸»å¯åŠ¨ç±»</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#spring-factories" class="sidebar-link">spring.factories</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#æ­¥éª¤æ€»ç»“" class="sidebar-link">æ­¥éª¤æ€»ç»“</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#springapplication" class="sidebar-link">SpringApplication</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#yamlé…ç½®æ³¨å…¥" class="sidebar-link">yamlé…ç½®æ³¨å…¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#è¯­æ³•" class="sidebar-link">è¯­æ³•</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#èµ‹å€¼" class="sidebar-link">èµ‹å€¼</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#é—®é¢˜" class="sidebar-link">é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#é…ç½®æ–‡ä»¶ä¸­çš„å˜é‡" class="sidebar-link">é…ç½®æ–‡ä»¶ä¸­çš„å˜é‡</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#å…¶ä»–çš„æ³¨å…¥å½¢å¼" class="sidebar-link">å…¶ä»–çš„æ³¨å…¥å½¢å¼</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#é…ç½®æ³¨å…¥å’Œ-valueå¯¹æ¯”" class="sidebar-link">é…ç½®æ³¨å…¥å’Œ@valueå¯¹æ¯”</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#jsr303æ•°æ®æ ¡éªŒ" class="sidebar-link">JSR303æ•°æ®æ ¡éªŒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#é—®é¢˜-2" class="sidebar-link">é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#å¸¸è§å‚æ•°" class="sidebar-link">å¸¸è§å‚æ•°</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#å¤šç¯å¢ƒåˆ‡æ¢" class="sidebar-link">å¤šç¯å¢ƒåˆ‡æ¢</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#é…ç½®æ–‡ä»¶çš„åŠ è½½ä½ç½®" class="sidebar-link">é…ç½®æ–‡ä»¶çš„åŠ è½½ä½ç½®</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#å¤šé…åˆ¶æ–‡ä»¶" class="sidebar-link">å¤šé…åˆ¶æ–‡ä»¶</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#yamlå¤šæ–‡æ¡£å—" class="sidebar-link">yamlå¤šæ–‡æ¡£å—</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#æ³¨æ„" class="sidebar-link">æ³¨æ„</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#è‡ªåŠ¨é…ç½®åŸç†" class="sidebar-link">è‡ªåŠ¨é…ç½®åŸç†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#åˆ†æåŸç†" class="sidebar-link">åˆ†æåŸç†</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#æ¦‚æ‹¬" class="sidebar-link">æ¦‚æ‹¬</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#conditional" class="sidebar-link">@Conditional</a></li></ul></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-03.html" class="sidebar-link">springboot-03</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#webå¼€å‘å‰æ¦‚" class="sidebar-link">Webå¼€å‘å‰æ¦‚</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#é™æ€èµ„æºå¯¼å…¥" class="sidebar-link">é™æ€èµ„æºå¯¼å…¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#æ˜ å°„è§„åˆ™æºç " class="sidebar-link">æ˜ å°„è§„åˆ™æºç </a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#webjars" class="sidebar-link">webjars</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#å¯¼å…¥è‡ªå·±çš„é™æ€èµ„æº" class="sidebar-link">å¯¼å…¥è‡ªå·±çš„é™æ€èµ„æº</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#è‡ªå®šä¹‰é™æ€èµ„æºè·¯å¾„" class="sidebar-link">è‡ªå®šä¹‰é™æ€èµ„æºè·¯å¾„</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#é¦–é¡µå¤„ç†" class="sidebar-link">é¦–é¡µå¤„ç†</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#thymeleafæ¨¡æ¿å¼•æ“" class="sidebar-link">Thymeleafæ¨¡æ¿å¼•æ“</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#æ¦‚å¿µ" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#é…ç½®å¹¶æµ‹è¯•ä½¿ç”¨" class="sidebar-link">é…ç½®å¹¶æµ‹è¯•ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#åˆ†æåŸç†" class="sidebar-link">åˆ†æåŸç†</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#è¯­æ³•å­¦ä¹ " class="sidebar-link">è¯­æ³•å­¦ä¹ </a></li></ul></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-04.html" class="sidebar-link">springboot-04</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#mvcè‡ªåŠ¨é…ç½®åŸç†" class="sidebar-link">MVCè‡ªåŠ¨é…ç½®åŸç†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#è‡ªå®šä¹‰è§†å›¾è§£æå™¨" class="sidebar-link">è‡ªå®šä¹‰è§†å›¾è§£æå™¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#æ ¼å¼è½¬æ¢å™¨" class="sidebar-link">æ ¼å¼è½¬æ¢å™¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#åˆ†æåŸç†" class="sidebar-link">åˆ†æåŸç†</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#å‘˜å·¥ç®¡ç†ç³»ç»Ÿ" class="sidebar-link">å‘˜å·¥ç®¡ç†ç³»ç»Ÿ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#å‡†å¤‡å·¥ä½œ" class="sidebar-link">å‡†å¤‡å·¥ä½œ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#é¦–é¡µå®ç°" class="sidebar-link">é¦–é¡µå®ç°</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#é¡µé¢å›½é™…åŒ–" class="sidebar-link">é¡µé¢å›½é™…åŒ–</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#ç™»å½•åŠŸèƒ½" class="sidebar-link">ç™»å½•åŠŸèƒ½</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#ç™»å½•æ‹¦æˆªå™¨" class="sidebar-link">ç™»å½•æ‹¦æˆªå™¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#crud" class="sidebar-link">CRUD</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#_404å¤„ç†" class="sidebar-link">404å¤„ç†</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#æ³¨é”€åŠŸèƒ½" class="sidebar-link">æ³¨é”€åŠŸèƒ½</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#å†™ç½‘ç«™çš„æ­¥éª¤" class="sidebar-link">å†™ç½‘ç«™çš„æ­¥éª¤</a></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-05.html" aria-current="page" class="active sidebar-link">springboot-05</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#æ•´åˆjdbc" class="sidebar-link">æ•´åˆJDBC</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#åˆ›å»ºé¡¹ç›®-æµ‹è¯•æ•°æ®æº" class="sidebar-link">åˆ›å»ºé¡¹ç›® æµ‹è¯•æ•°æ®æº</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#jdbctemplate" class="sidebar-link">JDBCTemplate</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#æ•´åˆdruid" class="sidebar-link">æ•´åˆDruid</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#åŸºæœ¬é…ç½®å‚æ•°" class="sidebar-link">åŸºæœ¬é…ç½®å‚æ•°</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#é…ç½®æ•°æ®æº" class="sidebar-link">é…ç½®æ•°æ®æº</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#é…ç½®druidæ•°æ®æºç›‘æ§" class="sidebar-link">é…ç½®Druidæ•°æ®æºç›‘æ§</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#æ•´åˆmybatis" class="sidebar-link">æ•´åˆMybatis</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#åŸºç¡€é…ç½®" class="sidebar-link">åŸºç¡€é…ç½®</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#é‡åˆ°çš„é—®é¢˜" class="sidebar-link">é‡åˆ°çš„é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#æµ‹è¯•å¢åŠ å‘˜å·¥ç±»" class="sidebar-link">æµ‹è¯•å¢åŠ å‘˜å·¥ç±»</a></li></ul></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-06.html" class="sidebar-link">TODOï¼šå¤ä¹ æ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#todo-å¤ä¹ æ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨" class="sidebar-link">TODOï¼šå¤ä¹ æ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#springsecurity" class="sidebar-link">SpringSecurity</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#é…ç½®ç¯å¢ƒ" class="sidebar-link">é…ç½®ç¯å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#ç”¨æˆ·è®¤è¯å’Œæˆæƒ" class="sidebar-link">ç”¨æˆ·è®¤è¯å’Œæˆæƒ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#æ³¨é”€ä¸è®°ä½æˆ‘" class="sidebar-link">æ³¨é”€ä¸è®°ä½æˆ‘</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#è‡ªå®šä¹‰ç™»å½•ç•Œé¢" class="sidebar-link">è‡ªå®šä¹‰ç™»å½•ç•Œé¢</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#æ­é…-thymeleaf-æ ¹æ®æƒé™æ˜¾ç¤ºå†…å®¹" class="sidebar-link">æ­é… thymeleaf æ ¹æ®æƒé™æ˜¾ç¤ºå†…å®¹</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#shiro" class="sidebar-link">Shiro</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#æ¦‚å¿µ" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#_10-minute-tutorial" class="sidebar-link">10-minute-tutorial</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#æ•´åˆè¿›-spring" class="sidebar-link">æ•´åˆè¿› Spring</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#å­¦ä¹ å®˜æ–¹æ¡ˆä¾‹" class="sidebar-link">å­¦ä¹ å®˜æ–¹æ¡ˆä¾‹</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#ä½¿ç”¨" class="sidebar-link">ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#æ·±å…¥è‡ªåŠ¨é…ç½®ç±»" class="sidebar-link">æ·±å…¥è‡ªåŠ¨é…ç½®ç±»</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#å¤šçº¿ç¨‹ä»»åŠ¡" class="sidebar-link">å¤šçº¿ç¨‹ä»»åŠ¡</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#é‚®ä»¶ä»»åŠ¡" class="sidebar-link">é‚®ä»¶ä»»åŠ¡</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#å®šæ—¶ä»»åŠ¡" class="sidebar-link">å®šæ—¶ä»»åŠ¡</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#å¤šä»»åŠ¡é¡¹ç›®ç»“æ„" class="sidebar-link">å¤šä»»åŠ¡é¡¹ç›®ç»“æ„</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#åˆ†å¸ƒå¼-dubbo-zookeeper" class="sidebar-link">åˆ†å¸ƒå¼ Dubbo / Zookeeper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#æ¦‚å¿µ-2" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#dubbo" class="sidebar-link">Dubbo</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#é¡¹ç›®æµ‹è¯•" class="sidebar-link">é¡¹ç›®æµ‹è¯•</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#å‚è€ƒ-2" class="sidebar-link">å‚è€ƒ</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><p><strong>æ•´åˆJDBCã€æ•´åˆDruidæ•°æ®æºã€æ•´åˆMybatis</strong></p> <h2 id="æ•´åˆjdbc"><a href="#æ•´åˆjdbc" class="header-anchor">#</a> æ•´åˆJDBC</h2> <blockquote><p>å¯¹äºæ•°æ®è®¿é—®å±‚ï¼Œæ— è®ºæ˜¯ SQL(å…³ç³»å‹æ•°æ®åº“) è¿˜æ˜¯ NOSQL(éå…³ç³»å‹æ•°æ®åº“)ï¼ŒSpring Boot åº•å±‚éƒ½æ˜¯é‡‡ç”¨ Spring Data çš„æ–¹å¼è¿›è¡Œç»Ÿä¸€å¤„ç†ã€‚</p></blockquote> <p>Spring Dataæ˜¯ä¸Spring Boot / Spring Cloudç­‰é¡¹ç›®åŒå±‚çº§çš„ã€‚</p> <p>Sping Data <a href="https://spring.io/projects/spring-data" target="_blank" rel="noopener noreferrer">å®˜ç½‘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>æ•°æ®åº“ç›¸å…³çš„å¯åŠ¨å™¨starterè§ <a href="https://docs.spring.io/spring-boot/docs/current/reference/html/using.html#using.build-systems.starters" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <hr> <h3 id="åˆ›å»ºé¡¹ç›®-æµ‹è¯•æ•°æ®æº"><a href="#åˆ›å»ºé¡¹ç›®-æµ‹è¯•æ•°æ®æº" class="header-anchor">#</a> åˆ›å»ºé¡¹ç›® æµ‹è¯•æ•°æ®æº</h3> <ol><li><strong>åˆ›å»ºæ–°é¡¹ç›®springboot-04-dataå¹¶å¼•å…¥ç›¸å…³ä¾èµ–</strong></li></ol> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources@main/images/2022/image-20220310233137464.png" alt="image-20220310233137464"></p> <ol start="2"><li><p>åœ¨pom.xmlä¸­çœ‹åˆ°è‡ªåŠ¨å¯¼å…¥äº†JDBCå’Œæ•°æ®é©±åŠ¨çš„å¯åŠ¨å™¨</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-jdbc<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>mysql<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mysql-connector-java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>runtime<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>åˆ›å»ºapplication.yamlé…ç½®æ–‡ä»¶ç”¨æ¥è®¾ç½®è¿æ¥æ•°æ®åº“ï¼ˆå¯ä»¥åˆ æ‰é»˜è®¤propertiesæ–‡ä»¶ï¼‰</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> ysama
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token comment">#?serverTimezone=UTCè§£å†³æ—¶åŒºçš„æŠ¥é”™</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/springboot<span class="token punctuation">?</span>serverTimezone=UTC<span class="token important">&amp;useUnicode=true&amp;characterEncoding=utf-</span><span class="token number">8</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
</code></pre></div></li> <li><p>åœ¨æµ‹è¯•ç±»ä¸­è¿›è¡Œæµ‹è¯•</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Springboot04DataApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// print test</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>
        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>å‘ç°é»˜è®¤é…ç½®çš„æ•°æ®æºæ˜¯ com.zaxxer.hikari.HikariDataSource</strong>
åœ¨DataSourceAutoConfigurationç±»ä¸­å¯çŸ¥è‡ªåŠ¨é…ç½®çš„æ•°æ®æºé¡ºåº
<img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources@main/images/2022/image-20220311151350930.png" alt="image-20220311151350930"></p> <p><strong>å¯ä»¥ä½¿ç”¨ spring.datasource.type æŒ‡å®šè‡ªå®šä¹‰çš„æ•°æ®æºç±»å‹ï¼Œå€¼ä¸º è¦ä½¿ç”¨çš„è¿æ¥æ± å®ç°çš„å®Œå…¨é™å®šåã€‚</strong></p></li> <li><p>åˆ›å»ºæ•°æ®åº“</p> <div class="language-mysql extra-class"><pre class="language-text"><code>create database `springboot`;
use `springboot`;
drop table if exists `employee`;
create table `employee`(
    `id` int(20) auto_increment,
    `name` varchar(30) default null,
    `email` varchar(100) default null,
    `gender` int(2) default 1,
    `department` int(10) default null,
    `birth` date not null default '2000-10-04',
    primary key (`id`)
) engine=innodb default charset=utf8;
insert into `employee`(`name`,`email`,`gender`,`department`)
values (
        'å¤©å¤©','1129096152@qq.com',2,255
       );
</code></pre></div></li></ol> <h3 id="jdbctemplate"><a href="#jdbctemplate" class="header-anchor">#</a> JDBCTemplate</h3> <ul><li>ä½¿ç”¨æ•°æ®æºï¼ˆcom.zaxxer.hikari.HikariDataSourceï¼‰è·å–æ•°æ®åº“è¿æ¥ï¼ˆjava.sql.Connectionï¼‰ï¼Œç»§è€Œå¯ä»¥ä½¿ç”¨åŸç”Ÿçš„JDBCè¯­å¥é€šè¿‡connectionæ¥æ“ä½œæ•°æ®åº“ã€‚</li> <li>MyBatiså°±æ˜¯å°è£…äº†JDBCçš„ç¬¬ä¸‰æ–¹æ•°æ®åº“æ“ä½œæ¡†æ¶ï¼Œè€ŒSpringæœ¬èº«ä¹Ÿæœ‰ä¸€ä¸ªå¯¹åŸç”ŸJDBCçš„è½»é‡å°è£…ç±»JdbcTemplateã€‚</li> <li>æ•°æ®åº“æ“ä½œçš„æ‰€æœ‰ CRUD æ–¹æ³•éƒ½åœ¨ JdbcTemplate ä¸­ã€‚</li> <li>SpringBooté…ç½®äº†é»˜è®¤çš„æ•°æ®æºï¼Œä¹Ÿåœ¨å®¹å™¨ä¸­é…ç½®äº†JDBCTemplateï¼Œ<strong>åªéœ€è¦æ‰‹åŠ¨æ³¨å…¥å°±å¯ä»¥ä½¿ç”¨ï¼ˆ@Autowiredï¼‰ã€‚</strong></li> <li>JdbcTemplate çš„è‡ªåŠ¨é…ç½®æ˜¯ä¾èµ– org.springframework.boot.autoconfigure.jdbc åŒ…ä¸‹çš„ JdbcTemplateConfiguration ç±»</li></ul> <p><strong>JdbcTemplateä¸»è¦æä¾›çš„æ–¹æ³•ï¼š</strong></p> <ul><li>executeæ–¹æ³•ï¼Œç”¨æ¥æ‰§è¡ŒSQLè¯­å¥</li> <li>updateæ–¹æ³•ï¼Œç”¨æ¥æ‰§è¡Œå¢åˆ æ”¹è¯­å¥ï¼›batchUpdateæ–¹æ³•ç”¨æ¥æ‰§è¡Œæ‰¹å¤„ç†è¯­å¥ã€‚</li> <li>query / queryForXXXï¼Œæ‰§è¡ŒæŸ¥è¯¢è¯­å¥</li> <li>callæ–¹æ³•ï¼Œç”¨äºæ‰§è¡Œå­˜å‚¨è¿‡ç¨‹ã€å‡½æ•°ç›¸å…³è¯­å¥</li></ul> <p><strong>ç¼–å†™controllerå¹¶æµ‹è¯•</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/jdbc&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">JdbcController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">JdbcTemplate</span> jdbc<span class="token punctuation">;</span>

    <span class="token comment">//æŸ¥è¯¢employeeè¡¨ä¸­æ‰€æœ‰æ•°æ®</span>
    <span class="token comment">//List ä¸­çš„1ä¸ª Map å¯¹åº”æ•°æ®åº“çš„ 1è¡Œæ•°æ®</span>
    <span class="token comment">//Map ä¸­çš„ key å¯¹åº”æ•°æ®åº“çš„å­—æ®µåï¼Œvalue å¯¹åº”æ•°æ®åº“çš„å­—æ®µå€¼</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/list&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> <span class="token function">userList</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;select * from employee&quot;</span><span class="token punctuation">;</span>
        <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Map</span><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">Object</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span> maps <span class="token operator">=</span> jdbc<span class="token punctuation">.</span><span class="token function">queryForList</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> maps<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//æ–°å¢ä¸€ä¸ªç”¨æˆ·</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/add&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">addUser</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;insert into employee(name, email,gender,department,birth)&quot;</span> <span class="token operator">+</span>
                <span class="token string">&quot; values ('ç‹‚ç¥è¯´','24736743@qq.com',1,101,'&quot;</span> <span class="token operator">+</span> <span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token string">&quot;yyyy-MM-dd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">format</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token operator">+</span> <span class="token string">&quot;')&quot;</span><span class="token punctuation">;</span>
        jdbc<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>sql<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;addOk&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">//ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/update/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">updateUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;update employee set name=?, email=? where id =&quot;</span> <span class="token operator">+</span> id<span class="token punctuation">;</span>
        <span class="token comment">// parameter</span>
        <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token punctuation">]</span> objects <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">[</span><span class="token number">2</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        objects<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;kk&quot;</span><span class="token punctuation">;</span>
        objects<span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token string">&quot;213456777@163.com&quot;</span><span class="token punctuation">;</span>
        jdbc<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span>objects<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token keyword">return</span> <span class="token string">&quot;updateOk&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">//åˆ é™¤ç”¨æˆ·</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/delete/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">delUser</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">String</span> sql <span class="token operator">=</span> <span class="token string">&quot;delete from employee where id=?&quot;</span><span class="token punctuation">;</span>
        jdbc<span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span>sql<span class="token punctuation">,</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> <span class="token string">&quot;deleteOK&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="æ•´åˆdruid"><a href="#æ•´åˆdruid" class="header-anchor">#</a> æ•´åˆDruid</h2> <blockquote><p>Druid æ˜¯é˜¿é‡Œå·´å·´å¼€æºå¹³å°ä¸Šä¸€ä¸ªæ•°æ®åº“è¿æ¥æ± å®ç°ï¼Œç»“åˆäº† C3P0ã€DBCP ç­‰ DB æ± çš„ä¼˜ç‚¹ï¼ŒåŒæ—¶åŠ å…¥äº†æ—¥å¿—ç›‘æ§ã€‚</p></blockquote> <p>https://github.com/alibaba/druid/</p> <h3 id="åŸºæœ¬é…ç½®å‚æ•°"><a href="#åŸºæœ¬é…ç½®å‚æ•°" class="header-anchor">#</a> åŸºæœ¬é…ç½®å‚æ•°</h3> <p><a href="https://github.com/alibaba/druid/wiki/DruidDataSource%E9%85%8D%E7%BD%AE%E5%B1%9E%E6%80%A7%E5%88%97%E8%A1%A8" target="_blank" rel="noopener noreferrer">DruidDataSourceé…ç½®å±æ€§åˆ—è¡¨ Â· alibaba/druid Wiki (github.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>SpringBooté»˜è®¤ä¸æ³¨å…¥ç¬¬ä¸‰æ–¹æ¡†æ¶çš„ä¸“æœ‰é…ç½®å±æ€§ï¼Œæ‰€ä»¥éœ€è¦è‡ªå·±ç»‘å®šã€‚</p> <h3 id="é…ç½®æ•°æ®æº"><a href="#é…ç½®æ•°æ®æº" class="header-anchor">#</a> é…ç½®æ•°æ®æº</h3> <ol><li><p>åœ¨pom.xmlæ·»åŠ Druidæ•°æ®æºä¾èµ–</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>åˆ‡æ¢æ•°æ®æºï¼Œåªéœ€è¦åœ¨æœ«å°¾æ·»åŠ ä¸€å¥é…ç½®</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> ysama
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token comment">#?serverTimezone=UTCè§£å†³æ—¶åŒºçš„æŠ¥é”™</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/springboot<span class="token punctuation">?</span>serverTimezone=UTC<span class="token important">&amp;useUnicode=true&amp;characterEncoding=utf-</span><span class="token number">8</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
    <span class="token key atrule">type</span><span class="token punctuation">:</span> com.alibaba.druid.pool.DruidDataSource <span class="token comment"># è‡ªå®šä¹‰æ•°æ®æº</span>
</code></pre></div></li> <li><p>åœ¨æµ‹è¯•ç±»ä¸­æ³¨å…¥DataSourceï¼Œè·å–åè¾“å‡ºæµ‹è¯•ã€‚</p> <p>æ–¹æ³•è§ä¸Šé¢æ•´åˆJDBCçš„æµ‹è¯•ã€‚</p> <p>æœ€ååœ¨è¾“å‡ºçœ‹åˆ° <code>com.alibaba.druid.pool.DruidDataSource</code> è¡¨ç¤ºæˆåŠŸã€‚</p></li> <li><p><strong>æŸ¥çœ‹æºç ï¼Œè¿›è¡Œè¯¦ç»†çš„é…ç½®ï¼Œå¦‚æ•°æ®æºè¿æ¥åˆå§‹åŒ–å¤§å°ã€æœ€å¤§è¿æ¥æ•°ã€ç­‰å¾…æ—¶é—´ã€æœ€å°è¿æ¥æ•°ç­‰ã€‚</strong></p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> ysama
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token comment">#?serverTimezone=UTCè§£å†³æ—¶åŒºçš„æŠ¥é”™</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/springboot<span class="token punctuation">?</span>serverTimezone=UTC<span class="token important">&amp;useUnicode=true&amp;characterEncoding=utf-</span><span class="token number">8</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
    <span class="token key atrule">type</span><span class="token punctuation">:</span> com.alibaba.druid.pool.DruidDataSource <span class="token comment"># è‡ªå®šä¹‰æ•°æ®æº</span>

    <span class="token comment">#Spring Boot é»˜è®¤æ˜¯ä¸æ³¨å…¥è¿™äº›å±æ€§å€¼çš„ï¼Œéœ€è¦è‡ªå·±ç»‘å®š</span>
    <span class="token comment">#druid æ•°æ®æºä¸“æœ‰é…ç½®</span>
    <span class="token key atrule">initialSize</span><span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token key atrule">minIdle</span><span class="token punctuation">:</span> <span class="token number">5</span>
    <span class="token key atrule">maxActive</span><span class="token punctuation">:</span> <span class="token number">20</span>
    <span class="token key atrule">maxWait</span><span class="token punctuation">:</span> <span class="token number">60000</span>
    <span class="token key atrule">timeBetweenEvictionRunsMillis</span><span class="token punctuation">:</span> <span class="token number">60000</span>
    <span class="token key atrule">minEvictableIdleTimeMillis</span><span class="token punctuation">:</span> <span class="token number">300000</span>
    <span class="token key atrule">validationQuery</span><span class="token punctuation">:</span> SELECT 1 FROM DUAL
    <span class="token key atrule">testWhileIdle</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">testOnBorrow</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">testOnReturn</span><span class="token punctuation">:</span> <span class="token boolean important">false</span>
    <span class="token key atrule">poolPreparedStatements</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>

    <span class="token comment">#é…ç½®ç›‘æ§ç»Ÿè®¡æ‹¦æˆªçš„filtersï¼Œstat:ç›‘æ§ç»Ÿè®¡ã€log4jï¼šæ—¥å¿—è®°å½•ã€wallï¼šé˜²å¾¡sqlæ³¨å…¥</span>
    <span class="token comment">#å¦‚æœå…è®¸æ—¶æŠ¥é”™  java.lang.ClassNotFoundException: org.apache.log4j.Priority</span>
    <span class="token comment">#åˆ™å¯¼å…¥ log4j ä¾èµ–å³å¯ï¼ŒMaven åœ°å€ï¼šhttps://mvnrepository.com/artifact/log4j/log4j</span>
    <span class="token key atrule">filters</span><span class="token punctuation">:</span> stat<span class="token punctuation">,</span>wall<span class="token punctuation">,</span>log4j
    <span class="token key atrule">maxPoolPreparedStatementPerConnectionSize</span><span class="token punctuation">:</span> <span class="token number">20</span>
    <span class="token key atrule">useGlobalDataSourceStat</span><span class="token punctuation">:</span> <span class="token boolean important">true</span>
    <span class="token key atrule">connectionProperties</span><span class="token punctuation">:</span> druid.stat.mergeSql=true;druid.stat.slowSqlMillis=500
</code></pre></div></li> <li><p>å¯¼å…¥Log4jä¾èµ–</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/log4j/log4j --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.17<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>ç¼–å†™DruidConfigç±»ï¼Œä¸ºDruidDataSource ç»‘å®šå…¨å±€é…ç½®æ–‡ä»¶ä¸­çš„å‚æ•°ï¼Œå†æ·»åŠ åˆ°å®¹å™¨ä¸­ï¼ˆä»¥å‰æ˜¯SpringBootè‡ªåŠ¨ç”Ÿæˆçš„æ­¥éª¤ï¼‰ã€‚</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DruidConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@ConfigurationProperties</span><span class="token punctuation">(</span>prefix <span class="token operator">=</span> <span class="token string">&quot;spring.datasource&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">DataSource</span> <span class="token function">druidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token keyword">new</span> <span class="token class-name">DruidDataSource</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>åœ¨æµ‹è¯•ç±»ä¸­æµ‹è¯•ï¼Œè¾“å‡ºè´Ÿè´£é…ç½®çš„ç”Ÿæ•ˆæƒ…å†µã€‚</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Springboot04DataApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">;</span>

    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token class-name">Connection</span> connection <span class="token operator">=</span> dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token comment">// print test</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>connection<span class="token punctuation">)</span><span class="token punctuation">;</span>

        <span class="token class-name">DruidDataSource</span> druidDataSource <span class="token operator">=</span> <span class="token punctuation">(</span><span class="token class-name">DruidDataSource</span><span class="token punctuation">)</span> dataSource<span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;druidDataSource æ•°æ®æºæœ€å¤§è¿æ¥æ•°ï¼š&quot;</span> <span class="token operator">+</span> druidDataSource<span class="token punctuation">.</span><span class="token function">getMaxActive</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;druidDataSource æ•°æ®æºåˆå§‹åŒ–è¿æ¥æ•°ï¼š&quot;</span> <span class="token operator">+</span> druidDataSource<span class="token punctuation">.</span><span class="token function">getInitialSize</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

        connection<span class="token punctuation">.</span><span class="token function">close</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="é…ç½®druidæ•°æ®æºç›‘æ§"><a href="#é…ç½®druidæ•°æ®æºç›‘æ§" class="header-anchor">#</a> é…ç½®Druidæ•°æ®æºç›‘æ§</h3> <p>Druid æ•°æ®æºå…·æœ‰ç›‘æ§çš„åŠŸèƒ½ï¼Œå¹¶æä¾›äº†ä¸€ä¸ª web ç•Œé¢æ–¹ä¾¿ç”¨æˆ·æŸ¥çœ‹ï¼Œè®¿é—® http://localhost:8080/druid/login.html</p> <p><strong>å…ˆåœ¨DruidConfigç±»ä¸­é…ç½®</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//é…ç½® Druid ç›‘æ§ç®¡ç†åå°çš„Servletï¼›</span>
<span class="token comment">//å†…ç½® Servlet å®¹å™¨æ—¶æ²¡æœ‰web.xmlæ–‡ä»¶ï¼Œæ‰€ä»¥ä½¿ç”¨ Spring Boot çš„æ³¨å†Œ Servlet æ–¹å¼</span>
<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">ServletRegistrationBean</span> <span class="token function">statViewServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">ServletRegistrationBean</span> bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ServletRegistrationBean</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">StatViewServlet</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token string">&quot;/druid/*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// è¿™äº›å‚æ•°å¯ä»¥åœ¨ com.alibaba.druid.support.http.StatViewServlet </span>
    <span class="token comment">// çš„çˆ¶ç±» com.alibaba.druid.support.http.ResourceServlet ä¸­æ‰¾åˆ°</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> initParams <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    initParams<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;loginUsername&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;admin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åå°ç®¡ç†ç•Œé¢çš„ç™»å½•è´¦å·</span>
    initParams<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;loginPassword&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">//åå°ç®¡ç†ç•Œé¢çš„ç™»å½•å¯†ç </span>

    <span class="token comment">//åå°å…è®¸è°å¯ä»¥è®¿é—®</span>
    <span class="token comment">//initParams.put(&quot;allow&quot;, &quot;localhost&quot;)ï¼šè¡¨ç¤ºåªæœ‰æœ¬æœºå¯ä»¥è®¿é—®</span>
    <span class="token comment">//initParams.put(&quot;allow&quot;, &quot;&quot;)ï¼šä¸ºç©ºæˆ–è€…ä¸ºnullæ—¶ï¼Œè¡¨ç¤ºå…è®¸æ‰€æœ‰è®¿é—®</span>
    initParams<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;allow&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//denyï¼šDruid åå°æ‹’ç»è°è®¿é—®</span>
    <span class="token comment">//initParams.put(&quot;kuangshen&quot;, &quot;192.168.1.20&quot;);è¡¨ç¤ºç¦æ­¢æ­¤ipè®¿é—®</span>

    <span class="token comment">//è®¾ç½®åˆå§‹åŒ–å‚æ•°</span>
    bean<span class="token punctuation">.</span><span class="token function">setInitParameters</span><span class="token punctuation">(</span>initParams<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨ç›‘æ§é¢æ¿å¯ä»¥æŸ¥çœ‹å†å²æäº¤çš„SQLå‘½ä»¤ç­‰æ•°æ®ã€‚</p> <p><strong>é…ç½® Druid web ç›‘æ§ filter è¿‡æ»¤å™¨ï¼ˆDruidConfigç±»ï¼‰</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//é…ç½® Druid ç›‘æ§ ä¹‹  web ç›‘æ§çš„ filter</span>
<span class="token comment">//WebStatFilterï¼šç”¨äºé…ç½®Webå’ŒDruidæ•°æ®æºä¹‹é—´çš„ç®¡ç†å…³è”ç›‘æ§ç»Ÿè®¡</span>
<span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">FilterRegistrationBean</span> <span class="token function">webStatFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">FilterRegistrationBean</span> bean <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">FilterRegistrationBean</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    bean<span class="token punctuation">.</span><span class="token function">setFilter</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">WebStatFilter</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// å‚æ•°</span>
    <span class="token class-name">Map</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">String</span><span class="token punctuation">,</span> <span class="token class-name">String</span><span class="token punctuation">&gt;</span></span> initParameters <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">HashMap</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//exclusionsï¼šè®¾ç½®å“ªäº›è¯·æ±‚è¿›è¡Œè¿‡æ»¤æ’é™¤æ‰ï¼Œä»è€Œä¸è¿›è¡Œç»Ÿè®¡</span>
    initParameters<span class="token punctuation">.</span><span class="token function">put</span><span class="token punctuation">(</span><span class="token string">&quot;exclusions&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;*.js,*.css,/druid/*,/jdbc/*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    bean<span class="token punctuation">.</span><span class="token function">setInitParameters</span><span class="token punctuation">(</span>initParameters<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">//&quot;/*&quot; è¡¨ç¤ºè¿‡æ»¤æ‰€æœ‰è¯·æ±‚</span>
    bean<span class="token punctuation">.</span><span class="token function">setUrlPatterns</span><span class="token punctuation">(</span><span class="token class-name">Arrays</span><span class="token punctuation">.</span><span class="token function">asList</span><span class="token punctuation">(</span><span class="token string">&quot;/*&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> bean<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="æ•´åˆmybatis"><a href="#æ•´åˆmybatis" class="header-anchor">#</a> æ•´åˆMybatis</h2> <h3 id="åŸºç¡€é…ç½®"><a href="#åŸºç¡€é…ç½®" class="header-anchor">#</a> åŸºç¡€é…ç½®</h3> <p><a href="http://mybatis.org/spring-boot-starter/mybatis-spring-boot-autoconfigure/" target="_blank" rel="noopener noreferrer">å®˜æ–¹æ–‡æ¡£ mybatis-spring-boot-autoconfigure â€“ Introduction<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol><li><p>åˆ›å»ºæ–°é¡¹ç›®springboot-05-mybatis
å‹¾é€‰ä¾èµ–ï¼šLombok / Spring Web / JDBC API / MySQL Driver
<img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources@main/images/2022/image-20220313233652178.png" alt="image-20220313233652178"></p></li> <li><p>å¯¼å…¥mybatisçš„å¯åŠ¨å™¨ä¾èµ–å’ŒDruidæ•°æ®æºä¾èµ–</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.mybatis.spring.boot/mybatis-spring-boot-starter --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.mybatis.spring.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>mybatis-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.2.2<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/com.alibaba/druid --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.alibaba<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>druid<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.2.8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>é…ç½®æ–‡ä»¶application.yaml ä¹Ÿä½¿ç”¨Druidæ•°æ®æº</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">datasource</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> ysama
    <span class="token key atrule">password</span><span class="token punctuation">:</span> <span class="token number">123456</span>
    <span class="token comment">#?serverTimezone=UTCè§£å†³æ—¶åŒºçš„æŠ¥é”™</span>
    <span class="token key atrule">url</span><span class="token punctuation">:</span> jdbc<span class="token punctuation">:</span>mysql<span class="token punctuation">:</span>//localhost<span class="token punctuation">:</span>3306/springboot<span class="token punctuation">?</span>serverTimezone=UTC<span class="token important">&amp;useUnicode=true&amp;characterEncoding=utf-</span><span class="token number">8</span>
    <span class="token key atrule">driver-class-name</span><span class="token punctuation">:</span> com.mysql.cj.jdbc.Driver
<span class="token comment"># mybatisé…ç½®resultTypeåˆ«åå’Œæ˜ å°„æ–‡ä»¶è·¯å¾„</span>
<span class="token key atrule">mybatis</span><span class="token punctuation">:</span>
  <span class="token key atrule">type-aliases-package</span><span class="token punctuation">:</span> com.ysama.pojo
  <span class="token key atrule">mapper-locations</span><span class="token punctuation">:</span> classpath<span class="token punctuation">:</span>mybatis/mapper/<span class="token important">*.xml</span>
</code></pre></div></li> <li><p><strong>æµ‹è¯•æ•°æ®åº“æ˜¯å¦è¿æ¥æˆåŠŸ</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">class</span> <span class="token class-name">Springboot05MybatisApplicationTests</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">DataSource</span> dataSource<span class="token punctuation">;</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">contextLoads</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">SQLException</span> <span class="token punctuation">{</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">.</span><span class="token function">getClass</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>dataSource<span class="token punctuation">.</span><span class="token function">getConnection</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>åˆ›å»ºpojoç›®å½•å®ä½“ç±»Department</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Department</span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> departmentName<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>åˆ›å»ºmapperç›®å½•çš„æ¥å£DepartmentMapper</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Mapper</span>
<span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">DepartmentMapper</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–æ‰€æœ‰éƒ¨é—¨ä¿¡æ¯</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Department</span><span class="token punctuation">&gt;</span></span> <span class="token function">getDepartments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// é€šè¿‡idæŸ¥æ‰¾</span>
    <span class="token class-name">Department</span> <span class="token function">getDepartment</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>åœ¨<strong>resources/mybatis/mapper</strong>ç›®å½•ä¸‹åˆ›å»ºå¯¹åº”çš„æ˜ å°„æ–‡ä»¶DeparMapper.xml
åœ¨ <a href="https://mybatis.org/mybatis-3/getting-started.html" target="_blank" rel="noopener noreferrer">mybatis æ–‡æ¡£<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> æŸ¥çœ‹æ ¼å¼ã€‚</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.ysama.mapper.DepartmentMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getDepartments<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Department<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from employee;
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getDepartment<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Department<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>integer<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from employee where id = #{id};
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p><strong>mavené…ç½®èµ„æºè¿‡æ»¤é—®é¢˜ buildæ ‡ç­¾ä¸‹</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resources</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resource</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>directory</span><span class="token punctuation">&gt;</span></span>src/main/java<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>directory</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>includes</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>include</span><span class="token punctuation">&gt;</span></span>**/*.xml<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>include</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>includes</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>filtering</span><span class="token punctuation">&gt;</span></span>true<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>filtering</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resource</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resources</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>ç¼–å†™æµ‹è¯•ç±»DeparControllerè¿›è¡Œæµ‹è¯•</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">DepartmentController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">DepartmentMapper</span> departmentMapper<span class="token punctuation">;</span>

    <span class="token comment">// æŸ¥è¯¢å…¨éƒ¨</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/getDepartments&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Department</span><span class="token punctuation">&gt;</span></span> <span class="token function">getDepartments</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> departmentMapper<span class="token punctuation">.</span><span class="token function">getDepartments</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token comment">// æ ¹æ®idæŸ¥è¯¢ restfulé£æ ¼</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/getDepartment/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Department</span> <span class="token function">getDepartment</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> departmentMapper<span class="token punctuation">.</span><span class="token function">getDepartment</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ol> <h3 id="é‡åˆ°çš„é—®é¢˜"><a href="#é‡åˆ°çš„é—®é¢˜" class="header-anchor">#</a> é‡åˆ°çš„é—®é¢˜</h3> <blockquote><p>Caused by: java.nio.charset.MalformedInputException: Input length = 1</p></blockquote> <p>åŸå› ï¼šapplication.ymlæ–‡ä»¶æ˜¯é€šè¿‡æŠŠå…¶ä»–ç±»å‹çš„æ–‡ä»¶åç¼€åç›´æ¥æ”¹ä¸ºymlç”Ÿæˆçš„</p> <p><strong>è§£å†³æ–¹æ³•ï¼šæ–°å»ºä¸€ä¸ªapplication.yaml</strong></p> <blockquote><p>Invalid bound statement (not found)</p></blockquote> <p>åŸå› ï¼šmapper.xmlä¸­çš„namespaceåº”è¯¥å¯¹åº”åˆ°å…·ä½“çš„ç±»å</p> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources@main/images/2022/image-20220314153858562.png" alt="image-20220314153858562"></p> <h3 id="æµ‹è¯•å¢åŠ å‘˜å·¥ç±»"><a href="#æµ‹è¯•å¢åŠ å‘˜å·¥ç±»" class="header-anchor">#</a> æµ‹è¯•å¢åŠ å‘˜å·¥ç±»</h3> <p><strong>éœ€è¦å…ˆå»ºç«‹ä¸€ä¸ªç¬¦åˆæ¡ä»¶çš„æ•°æ®åº“</strong></p> <ol><li><p>æ–°å»ºpojoç±»Employee</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token annotation punctuation">@AllArgsConstructor</span>
<span class="token annotation punctuation">@NoArgsConstructor</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Employee</span> <span class="token punctuation">{</span>

    <span class="token keyword">private</span> <span class="token class-name">Integer</span> id<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> lastName<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">String</span> email<span class="token punctuation">;</span>
    <span class="token comment">//1 male, 0 female</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> gender<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Integer</span> department<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">Date</span> birth<span class="token punctuation">;</span>

    <span class="token keyword">private</span> <span class="token class-name">Department</span> eDepartment<span class="token punctuation">;</span> <span class="token comment">// å†—ä½™è®¾è®¡</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>EmployeeMapperæ¥å£</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">//@Mapper : è¡¨ç¤ºæœ¬ç±»æ˜¯ä¸€ä¸ª MyBatis çš„ Mapper</span>
<span class="token annotation punctuation">@Mapper</span>
<span class="token annotation punctuation">@Repository</span>
<span class="token keyword">public</span> <span class="token keyword">interface</span> <span class="token class-name">EmployeeMapper</span> <span class="token punctuation">{</span>
    <span class="token comment">// è·å–æ‰€æœ‰å‘˜å·¥ä¿¡æ¯</span>
    <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> <span class="token function">getEmployees</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// æ–°å¢ä¸€ä¸ªå‘˜å·¥</span>
    <span class="token keyword">int</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token class-name">Employee</span> employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// é€šè¿‡idè·å¾—å‘˜å·¥ä¿¡æ¯</span>
    <span class="token class-name">Employee</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// é€šè¿‡idåˆ é™¤å‘˜å·¥</span>
    <span class="token keyword">int</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>EmployeeMapper.xml é…ç½®æ–‡ä»¶</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot; ?&gt;</span>
<span class="token doctype"><span class="token punctuation">&lt;!</span><span class="token doctype-tag">DOCTYPE</span> <span class="token name">mapper</span>
        <span class="token name">PUBLIC</span> <span class="token string">&quot;-//mybatis.org//DTD Mapper 3.0//EN&quot;</span>
        <span class="token string">&quot;http://mybatis.org/dtd/mybatis-3-mapper.dtd&quot;</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>mapper</span> <span class="token attr-name">namespace</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.ysama.mapper.EmployeeMapper<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>resultMap</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>EmployeeMap<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eid<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>lastName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>last_name<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>email<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gender<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birth<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>birth<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>association</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>eDepartment<span class="token punctuation">&quot;</span></span>  <span class="token attr-name">javaType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Department<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>id</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>id<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>did<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>result</span> <span class="token attr-name">property</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>departmentName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">column</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>dname<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>association</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>resultMap</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>getEmployees<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultMap</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>EmployeeMap<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select e.id as eid,last_name,email,gender,birth,d.id as did,d.department_name as dname
        from department d,employee e
        where d.id = e.department
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>insert</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>save<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        insert into employee (last_name,email,gender,department,birth)
        values (#{lastName},#{email},#{gender},#{department},#{birth});
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>insert</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>select</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>get<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span> <span class="token attr-name">resultType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Employee<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        select * from employee where id = #{id}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>select</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>delete</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>delete<span class="token punctuation">&quot;</span></span> <span class="token attr-name">parameterType</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>int<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        delete from employee where id = #{id}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>delete</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>mapper</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>ç¼–å†™EmployeeControllerç±»è¿›è¡Œæµ‹è¯•</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@RestController</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">EmployeeController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@Autowired</span>
    <span class="token class-name">EmployeeMapper</span> employeeMapper<span class="token punctuation">;</span>

    <span class="token comment">// è·å–æ‰€æœ‰å‘˜å·¥ä¿¡æ¯</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/getEmployees&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">List</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Employee</span><span class="token punctuation">&gt;</span></span> <span class="token function">getEmployees</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> employeeMapper<span class="token punctuation">.</span><span class="token function">getEmployees</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/save&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token class-name">Employee</span> employee <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Employee</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        employee<span class="token punctuation">.</span><span class="token function">setLastName</span><span class="token punctuation">(</span><span class="token string">&quot;kuangshen&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        employee<span class="token punctuation">.</span><span class="token function">setEmail</span><span class="token punctuation">(</span><span class="token string">&quot;qinjiang@qq.com&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        employee<span class="token punctuation">.</span><span class="token function">setGender</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        employee<span class="token punctuation">.</span><span class="token function">setDepartment</span><span class="token punctuation">(</span><span class="token number">101</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        employee<span class="token punctuation">.</span><span class="token function">setBirth</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> employeeMapper<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span>employee<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// é€šè¿‡idè·å¾—å‘˜å·¥ä¿¡æ¯</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/get/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Employee</span> <span class="token function">get</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> employeeMapper<span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// é€šè¿‡idåˆ é™¤å‘˜å·¥</span>
    <span class="token annotation punctuation">@GetMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/delete/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token keyword">int</span> <span class="token function">delete</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token class-name">Integer</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> employeeMapper<span class="token punctuation">.</span><span class="token function">delete</span><span class="token punctuation">(</span>id<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

<span class="token punctuation">}</span>
</code></pre></div></li></ol> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources@main/images/2022/image-20220314161051150.png" alt="image-20220314161051150"></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/8/2022, 2:56:58 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/NovaBlog/Java/SpringBoot/springboot-04.html" class="prev">
        springboot-04
      </a></span> <span class="next"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html">
        TODOï¼šå¤ä¹ æ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨
      </a>
      â†’
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/NovaBlog/assets/js/app.7283b6f5.js" defer></script><script src="/NovaBlog/assets/js/2.6539ea43.js" defer></script><script src="/NovaBlog/assets/js/19.464c0b71.js" defer></script>
  </body>
</html>
