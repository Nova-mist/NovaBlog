<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>TODOï¼šå¤ä¹ æ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨ | Nova Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="æˆ‘é‚£æ‘Šå¤§é¥¼ä¸€æ ·çš„é›¶æ•£å­¦ä¹ ç¬”è®°">
    
    <link rel="preload" href="/NovaBlog/assets/css/0.styles.26d8bde2.css" as="style"><link rel="preload" href="/NovaBlog/assets/js/app.7283b6f5.js" as="script"><link rel="preload" href="/NovaBlog/assets/js/2.6539ea43.js" as="script"><link rel="preload" href="/NovaBlog/assets/js/20.adc0ad6e.js" as="script"><link rel="prefetch" href="/NovaBlog/assets/js/10.681f19e7.js"><link rel="prefetch" href="/NovaBlog/assets/js/11.adb3fca2.js"><link rel="prefetch" href="/NovaBlog/assets/js/12.e509a0f8.js"><link rel="prefetch" href="/NovaBlog/assets/js/13.0ace9699.js"><link rel="prefetch" href="/NovaBlog/assets/js/14.f11331b6.js"><link rel="prefetch" href="/NovaBlog/assets/js/15.c3fe2b37.js"><link rel="prefetch" href="/NovaBlog/assets/js/16.76473f3a.js"><link rel="prefetch" href="/NovaBlog/assets/js/17.1e6e96a7.js"><link rel="prefetch" href="/NovaBlog/assets/js/18.de0f476b.js"><link rel="prefetch" href="/NovaBlog/assets/js/19.464c0b71.js"><link rel="prefetch" href="/NovaBlog/assets/js/21.a75102d0.js"><link rel="prefetch" href="/NovaBlog/assets/js/22.409ca266.js"><link rel="prefetch" href="/NovaBlog/assets/js/23.4b83f159.js"><link rel="prefetch" href="/NovaBlog/assets/js/24.b80958e2.js"><link rel="prefetch" href="/NovaBlog/assets/js/25.bbdd2bef.js"><link rel="prefetch" href="/NovaBlog/assets/js/26.0ed31014.js"><link rel="prefetch" href="/NovaBlog/assets/js/27.80bd39a6.js"><link rel="prefetch" href="/NovaBlog/assets/js/28.2772d3d5.js"><link rel="prefetch" href="/NovaBlog/assets/js/29.d14c59ce.js"><link rel="prefetch" href="/NovaBlog/assets/js/3.672c28f4.js"><link rel="prefetch" href="/NovaBlog/assets/js/30.3edde461.js"><link rel="prefetch" href="/NovaBlog/assets/js/31.da8777c1.js"><link rel="prefetch" href="/NovaBlog/assets/js/32.fa19d459.js"><link rel="prefetch" href="/NovaBlog/assets/js/33.2d3adc2b.js"><link rel="prefetch" href="/NovaBlog/assets/js/34.35850d01.js"><link rel="prefetch" href="/NovaBlog/assets/js/35.b14e62bb.js"><link rel="prefetch" href="/NovaBlog/assets/js/36.44753080.js"><link rel="prefetch" href="/NovaBlog/assets/js/37.8d2088d4.js"><link rel="prefetch" href="/NovaBlog/assets/js/38.4366f780.js"><link rel="prefetch" href="/NovaBlog/assets/js/39.c9f5137d.js"><link rel="prefetch" href="/NovaBlog/assets/js/4.854c56f8.js"><link rel="prefetch" href="/NovaBlog/assets/js/40.68c696f4.js"><link rel="prefetch" href="/NovaBlog/assets/js/41.7190c7b3.js"><link rel="prefetch" href="/NovaBlog/assets/js/42.7710aff4.js"><link rel="prefetch" href="/NovaBlog/assets/js/43.9f513289.js"><link rel="prefetch" href="/NovaBlog/assets/js/44.493f11ea.js"><link rel="prefetch" href="/NovaBlog/assets/js/45.66cd96d8.js"><link rel="prefetch" href="/NovaBlog/assets/js/46.f5e4e401.js"><link rel="prefetch" href="/NovaBlog/assets/js/47.c2f3caf8.js"><link rel="prefetch" href="/NovaBlog/assets/js/48.74afa3cf.js"><link rel="prefetch" href="/NovaBlog/assets/js/49.ea737da6.js"><link rel="prefetch" href="/NovaBlog/assets/js/5.f7ccee55.js"><link rel="prefetch" href="/NovaBlog/assets/js/50.3eca0141.js"><link rel="prefetch" href="/NovaBlog/assets/js/51.949ffca7.js"><link rel="prefetch" href="/NovaBlog/assets/js/52.d007ce86.js"><link rel="prefetch" href="/NovaBlog/assets/js/53.252a0d24.js"><link rel="prefetch" href="/NovaBlog/assets/js/54.97c86c53.js"><link rel="prefetch" href="/NovaBlog/assets/js/55.4577ea3a.js"><link rel="prefetch" href="/NovaBlog/assets/js/56.085a6c0d.js"><link rel="prefetch" href="/NovaBlog/assets/js/57.6804712d.js"><link rel="prefetch" href="/NovaBlog/assets/js/58.559b3cac.js"><link rel="prefetch" href="/NovaBlog/assets/js/59.48650730.js"><link rel="prefetch" href="/NovaBlog/assets/js/6.14027d31.js"><link rel="prefetch" href="/NovaBlog/assets/js/60.e53abbd4.js"><link rel="prefetch" href="/NovaBlog/assets/js/61.53d32451.js"><link rel="prefetch" href="/NovaBlog/assets/js/62.f93973c5.js"><link rel="prefetch" href="/NovaBlog/assets/js/63.9dd5b9b3.js"><link rel="prefetch" href="/NovaBlog/assets/js/64.4a1ac6da.js"><link rel="prefetch" href="/NovaBlog/assets/js/65.84f958d2.js"><link rel="prefetch" href="/NovaBlog/assets/js/66.38972cd8.js"><link rel="prefetch" href="/NovaBlog/assets/js/67.97df1d7d.js"><link rel="prefetch" href="/NovaBlog/assets/js/68.f78ccdc1.js"><link rel="prefetch" href="/NovaBlog/assets/js/69.9d476a9c.js"><link rel="prefetch" href="/NovaBlog/assets/js/7.5c5bd089.js"><link rel="prefetch" href="/NovaBlog/assets/js/70.28382d01.js"><link rel="prefetch" href="/NovaBlog/assets/js/71.4a4fdf3a.js"><link rel="prefetch" href="/NovaBlog/assets/js/72.646ad1ce.js"><link rel="prefetch" href="/NovaBlog/assets/js/73.2f2ebeb1.js"><link rel="prefetch" href="/NovaBlog/assets/js/74.22b83718.js"><link rel="prefetch" href="/NovaBlog/assets/js/75.50e2585a.js"><link rel="prefetch" href="/NovaBlog/assets/js/76.998e5fbe.js"><link rel="prefetch" href="/NovaBlog/assets/js/77.e805e4a0.js"><link rel="prefetch" href="/NovaBlog/assets/js/8.f20fe421.js"><link rel="prefetch" href="/NovaBlog/assets/js/9.749c610b.js">
    <link rel="stylesheet" href="/NovaBlog/assets/css/0.styles.26d8bde2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/NovaBlog/" class="home-link router-link-active"><!----> <span class="site-name">Nova Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/NovaBlog/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/SpringBoot/" class="nav-link router-link-active">
  Spring Boot
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/SpringMVC/" class="nav-link">
  Spring MVC
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/åŸºç¡€/" class="nav-link">
  åŸºç¡€
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tools" class="mobile-dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/æ¥å£/" class="nav-link">
  æ¥å£
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/" class="nav-link">
  æ—¥å¿—&amp;json
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/éƒ¨ç½²/" class="nav-link">
  éƒ¨ç½²
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web" class="dropdown-title"><span class="title">web</span> <span class="arrow down"></span></button> <button type="button" aria-label="web" class="mobile-dropdown-title"><span class="title">web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/web/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/åŸºç¡€/" class="nav-link">
  åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/çŠ¶æ€ç®¡ç†/" class="nav-link">
  çŠ¶æ€ç®¡ç†
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/ç»„ä»¶åº“/" class="nav-link">
  ç»„ä»¶åº“
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/è·¯ç”±/" class="nav-link">
  è·¯ç”±
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸­é—´ä»¶" class="mobile-dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/ä¸­é—´ä»¶/ELK/" class="nav-link">
  ELK
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ•°æ®åº“" class="mobile-dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/æ•°æ®åº“/MySQL/" class="nav-link">
  My SQL
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/æ•°æ®åº“/Redis/" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•" class="dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç®—æ³•" class="mobile-dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/å…¶ä»–/" class="nav-link">
  å…¶ä»–
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/åŠ¨è§„/" class="nav-link">
  åŠ¨è§„
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/è´ªå¿ƒ/" class="nav-link">
  è´ªå¿ƒ
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/é“¾è¡¨äºŒå‰æ ‘/" class="nav-link">
  é“¾è¡¨äºŒå‰æ ‘
</a></li></ul></div></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/NovaBlog/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/SpringBoot/" class="nav-link router-link-active">
  Spring Boot
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/SpringMVC/" class="nav-link">
  Spring MVC
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/åŸºç¡€/" class="nav-link">
  åŸºç¡€
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tools" class="mobile-dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/æ¥å£/" class="nav-link">
  æ¥å£
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/" class="nav-link">
  æ—¥å¿—&amp;json
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/éƒ¨ç½²/" class="nav-link">
  éƒ¨ç½²
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web" class="dropdown-title"><span class="title">web</span> <span class="arrow down"></span></button> <button type="button" aria-label="web" class="mobile-dropdown-title"><span class="title">web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/web/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/åŸºç¡€/" class="nav-link">
  åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/çŠ¶æ€ç®¡ç†/" class="nav-link">
  çŠ¶æ€ç®¡ç†
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/ç»„ä»¶åº“/" class="nav-link">
  ç»„ä»¶åº“
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/è·¯ç”±/" class="nav-link">
  è·¯ç”±
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸­é—´ä»¶" class="mobile-dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/ä¸­é—´ä»¶/ELK/" class="nav-link">
  ELK
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ•°æ®åº“" class="mobile-dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/æ•°æ®åº“/MySQL/" class="nav-link">
  My SQL
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/æ•°æ®åº“/Redis/" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•" class="dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç®—æ³•" class="mobile-dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/å…¶ä»–/" class="nav-link">
  å…¶ä»–
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/åŠ¨è§„/" class="nav-link">
  åŠ¨è§„
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/è´ªå¿ƒ/" class="nav-link">
  è´ªå¿ƒ
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/é“¾è¡¨äºŒå‰æ ‘/" class="nav-link">
  é“¾è¡¨äºŒå‰æ ‘
</a></li></ul></div></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>Spring Boot</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NovaBlog/Java/SpringBoot/" aria-current="page" class="sidebar-link">SpringBoot</a></li><li><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html" class="sidebar-link">SpringBoot ç»éªŒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#é¡¹ç›®ç»“æ„" class="sidebar-link">é¡¹ç›®ç»“æ„</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#å¤šæ¨¡å—" class="sidebar-link">å¤šæ¨¡å—</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#mybatis-é”™è¯¯" class="sidebar-link">Mybatis é”™è¯¯</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#è·å–æ³¨å…¥çš„-bean" class="sidebar-link">è·å–æ³¨å…¥çš„ Bean</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#å¸¸è§é”™è¯¯" class="sidebar-link">å¸¸è§é”™è¯¯</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#autowire-æœªæ‰¾åˆ°" class="sidebar-link">Autowire æœªæ‰¾åˆ°</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#ä½¿ç”¨-errorcontroller" class="sidebar-link">ä½¿ç”¨ ErrorController</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#springboot-é™æ€èµ„æºè¿‡æ»¤" class="sidebar-link">SpringBoot é™æ€èµ„æºè¿‡æ»¤</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/SpringBoot ç»éªŒ.html#classpath" class="sidebar-link">ClassPath</a></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-00.html" class="sidebar-link">SpringBoot å†æ¬¡ç¬”è®°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#æ¦‚è¿°" class="sidebar-link">æ¦‚è¿°</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#spring" class="sidebar-link">Spring</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#spring-boot" class="sidebar-link">Spring Boot</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#å¾®æœåŠ¡æ¶æ„" class="sidebar-link">å¾®æœåŠ¡æ¶æ„</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#hellospringboot" class="sidebar-link">HelloSpringBoot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#åˆ›å»ºé¡¹ç›®" class="sidebar-link">åˆ›å»ºé¡¹ç›®</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#ç”Ÿæˆ-jar-åŒ…" class="sidebar-link">ç”Ÿæˆ jar åŒ…</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é—®é¢˜" class="sidebar-link">é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é¡¹ç›®åˆ†æ" class="sidebar-link">é¡¹ç›®åˆ†æ</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é…ç½®æ–‡ä»¶" class="sidebar-link">é…ç½®æ–‡ä»¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é…ç½®åˆ†ç±»" class="sidebar-link">é…ç½®åˆ†ç±»</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#yaml-è¯­æ³•" class="sidebar-link">yaml è¯­æ³•</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#è¯»å–é…ç½®æ•°æ®" class="sidebar-link">è¯»å–é…ç½®æ•°æ®</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#jsr303æ•°æ®æ ¡éªŒ" class="sidebar-link">JSR303æ•°æ®æ ¡éªŒ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº" class="sidebar-link">é…ç½®æ–‡ä»¶åŠ è½½é¡ºåº</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é…ç½®ç¯å¢ƒåˆ‡æ¢-profile" class="sidebar-link">é…ç½®ç¯å¢ƒåˆ‡æ¢ profile</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é—®é¢˜-2" class="sidebar-link">é—®é¢˜</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#æ•´åˆæ¡†æ¶" class="sidebar-link">æ•´åˆæ¡†æ¶</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#junit" class="sidebar-link">Junit</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#mybatis" class="sidebar-link">MyBatis</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#redis" class="sidebar-link">Redis</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#condition" class="sidebar-link">Condition</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#spring-è‡ªåŠ¨åˆ›å»º-bean" class="sidebar-link">Spring è‡ªåŠ¨åˆ›å»º bean</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#è‡ªå®šä¹‰-bean-å¯¹è±¡åˆ›å»º" class="sidebar-link">è‡ªå®šä¹‰ bean å¯¹è±¡åˆ›å»º</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#æ ¹æ®æ¡ä»¶åˆ›å»ºè‡ªå®šä¹‰-bean" class="sidebar-link">æ ¹æ®æ¡ä»¶åˆ›å»ºè‡ªå®šä¹‰ bean</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#ä½¿ç”¨è‡ªå®šä¹‰-condition-æ³¨è§£" class="sidebar-link">ä½¿ç”¨è‡ªå®šä¹‰ Condition æ³¨è§£</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#ä½¿ç”¨-condition-åŒ…å†…åŸç”Ÿæ³¨è§£" class="sidebar-link">ä½¿ç”¨ Condition åŒ…å†…åŸç”Ÿæ³¨è§£</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#æ’é™¤ä¾èµ–" class="sidebar-link">æ’é™¤ä¾èµ–</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#import-enable" class="sidebar-link">@Import &amp; Enable</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#è‡ªåŠ¨é…ç½®åŸç†" class="sidebar-link">è‡ªåŠ¨é…ç½®åŸç†</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#è‡ªå®šä¹‰-starter" class="sidebar-link">è‡ªå®šä¹‰ starter</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#é¡¹ç›®ç»“æ„" class="sidebar-link">é¡¹ç›®ç»“æ„</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#æ­¥éª¤åˆ†æ" class="sidebar-link">æ­¥éª¤åˆ†æ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#å®ç°" class="sidebar-link">å®ç°</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#äº‹ä»¶ç›‘å¬" class="sidebar-link">äº‹ä»¶ç›‘å¬</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#springboot-è¿ç»´" class="sidebar-link">SpringBoot è¿ç»´</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#ä½¿ç”¨-actuator-ç›‘æ§" class="sidebar-link">ä½¿ç”¨ actuator ç›‘æ§</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#ä½¿ç”¨å›¾å½¢åŒ–ç›‘æ§" class="sidebar-link">ä½¿ç”¨å›¾å½¢åŒ–ç›‘æ§</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#éƒ¨ç½²é¡¹ç›®" class="sidebar-link">éƒ¨ç½²é¡¹ç›®</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#ğŸŸ spring-boot-å¯åŠ¨æµç¨‹" class="sidebar-link">ğŸŸ Spring Boot å¯åŠ¨æµç¨‹</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#åˆå§‹åŒ–" class="sidebar-link">åˆå§‹åŒ–</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-00.html#run-æ–¹æ³•" class="sidebar-link">Run æ–¹æ³•</a></li></ul></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-01.html" class="sidebar-link">springboot-01</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#è·¯çº¿å‰æ¦‚" class="sidebar-link">è·¯çº¿å‰æ¦‚</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#ç›¸å…³ç®€ä»‹" class="sidebar-link">ç›¸å…³ç®€ä»‹</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#hellospringboot" class="sidebar-link">HelloSpringBoot</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#åˆ›å»ºé¡¹ç›®" class="sidebar-link">åˆ›å»ºé¡¹ç›®</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#ç»“æ„åˆ†æ" class="sidebar-link">ç»“æ„åˆ†æ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#ç¼–å†™httpæ¥å£" class="sidebar-link">ç¼–å†™httpæ¥å£</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#æ‰“åŒ…" class="sidebar-link">æ‰“åŒ…</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-01.html#é—®é¢˜" class="sidebar-link">é—®é¢˜</a></li></ul></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-02.html" class="sidebar-link">springboot-02</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#è¿è¡ŒåŸç†" class="sidebar-link">è¿è¡ŒåŸç†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#å¯åŠ¨å™¨" class="sidebar-link">å¯åŠ¨å™¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#ä¸»å¯åŠ¨ç±»" class="sidebar-link">ä¸»å¯åŠ¨ç±»</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#spring-factories" class="sidebar-link">spring.factories</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#æ­¥éª¤æ€»ç»“" class="sidebar-link">æ­¥éª¤æ€»ç»“</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#springapplication" class="sidebar-link">SpringApplication</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#yamlé…ç½®æ³¨å…¥" class="sidebar-link">yamlé…ç½®æ³¨å…¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#è¯­æ³•" class="sidebar-link">è¯­æ³•</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#èµ‹å€¼" class="sidebar-link">èµ‹å€¼</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#é—®é¢˜" class="sidebar-link">é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#é…ç½®æ–‡ä»¶ä¸­çš„å˜é‡" class="sidebar-link">é…ç½®æ–‡ä»¶ä¸­çš„å˜é‡</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#å…¶ä»–çš„æ³¨å…¥å½¢å¼" class="sidebar-link">å…¶ä»–çš„æ³¨å…¥å½¢å¼</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#é…ç½®æ³¨å…¥å’Œ-valueå¯¹æ¯”" class="sidebar-link">é…ç½®æ³¨å…¥å’Œ@valueå¯¹æ¯”</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#jsr303æ•°æ®æ ¡éªŒ" class="sidebar-link">JSR303æ•°æ®æ ¡éªŒ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#é—®é¢˜-2" class="sidebar-link">é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#å¸¸è§å‚æ•°" class="sidebar-link">å¸¸è§å‚æ•°</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#å¤šç¯å¢ƒåˆ‡æ¢" class="sidebar-link">å¤šç¯å¢ƒåˆ‡æ¢</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#é…ç½®æ–‡ä»¶çš„åŠ è½½ä½ç½®" class="sidebar-link">é…ç½®æ–‡ä»¶çš„åŠ è½½ä½ç½®</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#å¤šé…åˆ¶æ–‡ä»¶" class="sidebar-link">å¤šé…åˆ¶æ–‡ä»¶</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#yamlå¤šæ–‡æ¡£å—" class="sidebar-link">yamlå¤šæ–‡æ¡£å—</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#æ³¨æ„" class="sidebar-link">æ³¨æ„</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#è‡ªåŠ¨é…ç½®åŸç†" class="sidebar-link">è‡ªåŠ¨é…ç½®åŸç†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#åˆ†æåŸç†" class="sidebar-link">åˆ†æåŸç†</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#æ¦‚æ‹¬" class="sidebar-link">æ¦‚æ‹¬</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-02.html#conditional" class="sidebar-link">@Conditional</a></li></ul></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-03.html" class="sidebar-link">springboot-03</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#webå¼€å‘å‰æ¦‚" class="sidebar-link">Webå¼€å‘å‰æ¦‚</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#é™æ€èµ„æºå¯¼å…¥" class="sidebar-link">é™æ€èµ„æºå¯¼å…¥</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#æ˜ å°„è§„åˆ™æºç " class="sidebar-link">æ˜ å°„è§„åˆ™æºç </a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#webjars" class="sidebar-link">webjars</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#å¯¼å…¥è‡ªå·±çš„é™æ€èµ„æº" class="sidebar-link">å¯¼å…¥è‡ªå·±çš„é™æ€èµ„æº</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#è‡ªå®šä¹‰é™æ€èµ„æºè·¯å¾„" class="sidebar-link">è‡ªå®šä¹‰é™æ€èµ„æºè·¯å¾„</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#é¦–é¡µå¤„ç†" class="sidebar-link">é¦–é¡µå¤„ç†</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#thymeleafæ¨¡æ¿å¼•æ“" class="sidebar-link">Thymeleafæ¨¡æ¿å¼•æ“</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#æ¦‚å¿µ" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#é…ç½®å¹¶æµ‹è¯•ä½¿ç”¨" class="sidebar-link">é…ç½®å¹¶æµ‹è¯•ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#åˆ†æåŸç†" class="sidebar-link">åˆ†æåŸç†</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-03.html#è¯­æ³•å­¦ä¹ " class="sidebar-link">è¯­æ³•å­¦ä¹ </a></li></ul></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-04.html" class="sidebar-link">springboot-04</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#mvcè‡ªåŠ¨é…ç½®åŸç†" class="sidebar-link">MVCè‡ªåŠ¨é…ç½®åŸç†</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#è‡ªå®šä¹‰è§†å›¾è§£æå™¨" class="sidebar-link">è‡ªå®šä¹‰è§†å›¾è§£æå™¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#æ ¼å¼è½¬æ¢å™¨" class="sidebar-link">æ ¼å¼è½¬æ¢å™¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#åˆ†æåŸç†" class="sidebar-link">åˆ†æåŸç†</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#å‘˜å·¥ç®¡ç†ç³»ç»Ÿ" class="sidebar-link">å‘˜å·¥ç®¡ç†ç³»ç»Ÿ</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#å‡†å¤‡å·¥ä½œ" class="sidebar-link">å‡†å¤‡å·¥ä½œ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#é¦–é¡µå®ç°" class="sidebar-link">é¦–é¡µå®ç°</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#é¡µé¢å›½é™…åŒ–" class="sidebar-link">é¡µé¢å›½é™…åŒ–</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#ç™»å½•åŠŸèƒ½" class="sidebar-link">ç™»å½•åŠŸèƒ½</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#ç™»å½•æ‹¦æˆªå™¨" class="sidebar-link">ç™»å½•æ‹¦æˆªå™¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#crud" class="sidebar-link">CRUD</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#_404å¤„ç†" class="sidebar-link">404å¤„ç†</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#æ³¨é”€åŠŸèƒ½" class="sidebar-link">æ³¨é”€åŠŸèƒ½</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-04.html#å†™ç½‘ç«™çš„æ­¥éª¤" class="sidebar-link">å†™ç½‘ç«™çš„æ­¥éª¤</a></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-05.html" class="sidebar-link">springboot-05</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#æ•´åˆjdbc" class="sidebar-link">æ•´åˆJDBC</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#åˆ›å»ºé¡¹ç›®-æµ‹è¯•æ•°æ®æº" class="sidebar-link">åˆ›å»ºé¡¹ç›® æµ‹è¯•æ•°æ®æº</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#jdbctemplate" class="sidebar-link">JDBCTemplate</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#æ•´åˆdruid" class="sidebar-link">æ•´åˆDruid</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#åŸºæœ¬é…ç½®å‚æ•°" class="sidebar-link">åŸºæœ¬é…ç½®å‚æ•°</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#é…ç½®æ•°æ®æº" class="sidebar-link">é…ç½®æ•°æ®æº</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#é…ç½®druidæ•°æ®æºç›‘æ§" class="sidebar-link">é…ç½®Druidæ•°æ®æºç›‘æ§</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#æ•´åˆmybatis" class="sidebar-link">æ•´åˆMybatis</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#åŸºç¡€é…ç½®" class="sidebar-link">åŸºç¡€é…ç½®</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#é‡åˆ°çš„é—®é¢˜" class="sidebar-link">é‡åˆ°çš„é—®é¢˜</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-05.html#æµ‹è¯•å¢åŠ å‘˜å·¥ç±»" class="sidebar-link">æµ‹è¯•å¢åŠ å‘˜å·¥ç±»</a></li></ul></li></ul></li><li><a href="/NovaBlog/Java/SpringBoot/springboot-06.html" aria-current="page" class="active sidebar-link">TODOï¼šå¤ä¹ æ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#todo-å¤ä¹ æ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨" class="sidebar-link">TODOï¼šå¤ä¹ æ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#springsecurity" class="sidebar-link">SpringSecurity</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#é…ç½®ç¯å¢ƒ" class="sidebar-link">é…ç½®ç¯å¢ƒ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#ç”¨æˆ·è®¤è¯å’Œæˆæƒ" class="sidebar-link">ç”¨æˆ·è®¤è¯å’Œæˆæƒ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#æ³¨é”€ä¸è®°ä½æˆ‘" class="sidebar-link">æ³¨é”€ä¸è®°ä½æˆ‘</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#è‡ªå®šä¹‰ç™»å½•ç•Œé¢" class="sidebar-link">è‡ªå®šä¹‰ç™»å½•ç•Œé¢</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#æ­é…-thymeleaf-æ ¹æ®æƒé™æ˜¾ç¤ºå†…å®¹" class="sidebar-link">æ­é… thymeleaf æ ¹æ®æƒé™æ˜¾ç¤ºå†…å®¹</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#å‚è€ƒ" class="sidebar-link">å‚è€ƒ</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#shiro" class="sidebar-link">Shiro</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#æ¦‚å¿µ" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#_10-minute-tutorial" class="sidebar-link">10-minute-tutorial</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#æ•´åˆè¿›-spring" class="sidebar-link">æ•´åˆè¿› Spring</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#å­¦ä¹ å®˜æ–¹æ¡ˆä¾‹" class="sidebar-link">å­¦ä¹ å®˜æ–¹æ¡ˆä¾‹</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#ä½¿ç”¨" class="sidebar-link">ä½¿ç”¨</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#æ·±å…¥è‡ªåŠ¨é…ç½®ç±»" class="sidebar-link">æ·±å…¥è‡ªåŠ¨é…ç½®ç±»</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#å¤šçº¿ç¨‹ä»»åŠ¡" class="sidebar-link">å¤šçº¿ç¨‹ä»»åŠ¡</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#é‚®ä»¶ä»»åŠ¡" class="sidebar-link">é‚®ä»¶ä»»åŠ¡</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#å®šæ—¶ä»»åŠ¡" class="sidebar-link">å®šæ—¶ä»»åŠ¡</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#å¤šä»»åŠ¡é¡¹ç›®ç»“æ„" class="sidebar-link">å¤šä»»åŠ¡é¡¹ç›®ç»“æ„</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#åˆ†å¸ƒå¼-dubbo-zookeeper" class="sidebar-link">åˆ†å¸ƒå¼ Dubbo / Zookeeper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#æ¦‚å¿µ-2" class="sidebar-link">æ¦‚å¿µ</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#dubbo" class="sidebar-link">Dubbo</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#é¡¹ç›®æµ‹è¯•" class="sidebar-link">é¡¹ç›®æµ‹è¯•</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Java/SpringBoot/springboot-06.html#å‚è€ƒ-2" class="sidebar-link">å‚è€ƒ</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="todo-å¤ä¹ æ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨"><a href="#todo-å¤ä¹ æ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨" class="header-anchor">#</a> TODOï¼šå¤ä¹ æ‹¦æˆªå™¨ã€è¿‡æ»¤å™¨</h2> <h2 id="springsecurity"><a href="#springsecurity" class="header-anchor">#</a> SpringSecurity</h2> <p>èº«ä»½è®¤è¯ã€æƒé™æ§åˆ¶ã€‚ï¼ˆè®¤è¯ä¸æˆæƒï¼‰</p> <p>æ¡†æ¶æ˜¯åŸºäº AOP åŸç†çš„ã€‚</p> <h3 id="é…ç½®ç¯å¢ƒ"><a href="#é…ç½®ç¯å¢ƒ" class="header-anchor">#</a> é…ç½®ç¯å¢ƒ</h3> <ol><li><p>å¯¼å…¥å‰ç«¯é™æ€é¡µé¢ï¼ˆä½¿ç”¨äº† thymeleaf æ¨¡æ¿ï¼‰</p></li> <li><p>åœ¨ <code>pom.xml</code> ä¸­å¯¼å…¥ thymeleaf å’Œ spring security çš„<strong>æ•´åˆä¾èµ–</strong>ã€‚</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- thymeleaf --&gt;</span>
    <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-thymeleaf --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-thymeleaf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.7.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- spring security --&gt;</span>
    <span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-security --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-security<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.7.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>æ ¹æ®å‰ç«¯é¡µé¢çš„æ¥å£ç¼–å†™ Controllerï¼Œå®ç°é¡µé¢çš„è·³è½¬ã€‚</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">RouteController</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;index&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">index</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;index&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/toLogin&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;views/login&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/logout&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;views/login&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/level1/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">level1</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;views/level1/&quot;</span><span class="token operator">+</span>id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/level2/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">level2</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;views/level2/&quot;</span><span class="token operator">+</span>id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/level3/{id}&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">level3</span><span class="token punctuation">(</span><span class="token annotation punctuation">@PathVariable</span><span class="token punctuation">(</span><span class="token string">&quot;id&quot;</span><span class="token punctuation">)</span> <span class="token keyword">int</span> id<span class="token punctuation">)</span><span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;views/level3/&quot;</span><span class="token operator">+</span>id<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>åˆ›å»ºå¯åŠ¨ç±»</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Application</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Application</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>ä¿®æ”¹é…ç½®æ–‡ä»¶ <code>application.properties</code>ï¼Œå…³é—­ç¼“å­˜å®ç°çƒ­éƒ¨ç½²</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">spring.thymeleaf.cache</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
<span class="token key attr-name">server.port</span> <span class="token punctuation">=</span> <span class="token value attr-value">7775</span>
</code></pre></div></li> <li><p>å¯åŠ¨ï¼ŒæŸ¥çœ‹æ•ˆæœ
<em><em>æ³¨æ„ï¼šè¯·æ±‚ä¼šé»˜è®¤è¢«æ‹¦æˆªåˆ°å†…ç½®çš„ç™»å½•é¡µé¢</em>ï¼ˆSpring Boot è‡ªåŠ¨é…ç½®ï¼‰</em>*
<img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210061318891.png" alt="image-20221006131845148"></p> <p>ç”¨æˆ·åä¸º <code>user</code> ï¼Œå¯†ç åˆ™æ˜¯åœ¨æ§åˆ¶å°è‡ªåŠ¨ç”Ÿæˆçš„ã€‚
<img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210061320183.png" alt="image-20221006132001442"></p> <p>ç™»å½•ä¹‹åä¼šè·³è½¬åˆ°å‰ç«¯æ¨¡æ¿é¡µé¢ï¼Œä¹Ÿå°±æ˜¯è¯´æ¨¡æ¿ä¸­çš„ç™»å½•ç•Œé¢å…¶å®æ˜¯æ— ç”¨çš„ã€‚</p></li></ol> <h3 id="ç”¨æˆ·è®¤è¯å’Œæˆæƒ"><a href="#ç”¨æˆ·è®¤è¯å’Œæˆæƒ" class="header-anchor">#</a> ç”¨æˆ·è®¤è¯å’Œæˆæƒ</h3> <p><a href="https://docs.spring.io/spring-security/site/docs/5.3.13.RELEASE/reference/html5/#jc" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£ Spring Security Reference<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>æ–¹æ³•ä¸€ï¼šé…ç½®ç±»ç»§æ‰¿ <code>WebSecurityConfigurerAdapter</code></p> <p>å®ç°ä¸¤ä¸ªæ–¹æ³•ï¼š</p> <ol><li><code>void configure(HttpSecurity http)</code> åŒ¹é…é¡µé¢ã€è®¾å®šæƒé™</li> <li><code>void configure(AuthenticationManagerBuilder auth)</code> ç”¨æˆ·è®¤è¯å¹¶æˆæƒã€‚å¯ä»¥åœ¨å†…å­˜ä¸­å­˜å‚¨ä¸´æ—¶çš„ç”¨æˆ·åå’Œå¯†ç ï¼ˆä¾¿äºæµ‹è¯•ï¼‰</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@EnableWebSecurity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Override</span>
    <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ğŸŸ¢æ–¹æ³•äºŒï¼šé…ç½®ç±»çš„<strong>é™æ€å­ç±»</strong> ç»§æ‰¿  <code>WebSecurityConfigurerAdapter</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@EnableWebSecurity</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">WebSecurityConfig</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Configuration</span>
    <span class="token annotation punctuation">@Order</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span> <span class="token comment">// ä¼˜å…ˆçº§</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">class</span> <span class="token class-name">SimpleWebSecurityConfigurationAdapter</span> <span class="token keyword">extends</span> <span class="token class-name">WebSecurityConfigurerAdapter</span> <span class="token punctuation">{</span>
        <span class="token annotation punctuation">@Bean</span>
        <span class="token keyword">public</span> <span class="token class-name">UserDetailsService</span> <span class="token function">userDetailsService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
            <span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// é¡µé¢æƒé™</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">HttpSecurity</span> http<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
            http<span class="token punctuation">.</span><span class="token function">authorizeRequests</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">permitAll</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">&quot;/level1/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">&quot;vip1&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">&quot;/level2/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">&quot;vip2&quot;</span><span class="token punctuation">)</span>
                <span class="token punctuation">.</span><span class="token function">antMatchers</span><span class="token punctuation">(</span><span class="token string">&quot;/level3/**&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">&quot;vip3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
            <span class="token comment">// æ²¡æœ‰æƒé™é»˜è®¤é‡å®šå‘åˆ°è‡ªå®šä¹‰çš„ç™»é™†ç•Œé¢</span>
            http<span class="token punctuation">.</span><span class="token function">formLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loginPage</span><span class="token punctuation">(</span><span class="token string">&quot;/toLogin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">usernameParameter</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">passwordParameter</span><span class="token punctuation">(</span><span class="token string">&quot;pwd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loginProcessingUrl</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

            <span class="token comment">// ä½¿ç”¨å†…ç½®ç™»å½•ç•Œé¢</span>
            <span class="token comment">// http.formLogin(withDefaults());</span>
        <span class="token punctuation">}</span>

        <span class="token comment">// ç”¨æˆ·è®¤è¯å¹¶æˆæƒ å·²ç»ç”±userDetailsService()å®ç°</span>
        <span class="token annotation punctuation">@Override</span>
        <span class="token keyword">protected</span> <span class="token keyword">void</span> <span class="token function">configure</span><span class="token punctuation">(</span><span class="token class-name">AuthenticationManagerBuilder</span> auth<span class="token punctuation">)</span> <span class="token keyword">throws</span> <span class="token class-name">Exception</span> <span class="token punctuation">{</span>
            <span class="token keyword">super</span><span class="token punctuation">.</span><span class="token function">configure</span><span class="token punctuation">(</span>auth<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ç”¨æˆ·è®¤è¯çš„æ­¥éª¤è¿˜å¯ä»¥é€šè¿‡å•ç‹¬æ³¨å…¥ Bean çš„æ–¹å¼å®ç°</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">UserDetailsService</span> <span class="token function">userDetailsService</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// è‡ªåŠ¨ç¼–ç ç”¨æˆ·åå’Œå¯†ç </span>
    <span class="token class-name">User<span class="token punctuation">.</span>UserBuilder</span> users <span class="token operator">=</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token function">withDefaultPasswordEncoder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">InMemoryUserDetailsManager</span> manager <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">InMemoryUserDetailsManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    manager<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span>users<span class="token punctuation">.</span><span class="token function">username</span><span class="token punctuation">(</span><span class="token string">&quot;ysama&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">roles</span><span class="token punctuation">(</span><span class="token string">&quot;vip1&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;vip2&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    manager<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span>users<span class="token punctuation">.</span><span class="token function">username</span><span class="token punctuation">(</span><span class="token string">&quot;root&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">roles</span><span class="token punctuation">(</span><span class="token string">&quot;vip1&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vip2&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;vip3&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    manager<span class="token punctuation">.</span><span class="token function">createUser</span><span class="token punctuation">(</span>users<span class="token punctuation">.</span><span class="token function">username</span><span class="token punctuation">(</span><span class="token string">&quot;guest&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">password</span><span class="token punctuation">(</span><span class="token string">&quot;123456&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">roles</span><span class="token punctuation">(</span><span class="token string">&quot;vip1&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> manager<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="todo-jdbc-è®¤è¯"><a href="#todo-jdbc-è®¤è¯" class="header-anchor">#</a> TODOï¼šJDBC è®¤è¯</h4> <p>https://docs.spring.io/spring-security/site/docs/5.3.13.RELEASE/reference/html5/#servlet-authentication-jdbc</p> <h3 id="æ³¨é”€ä¸è®°ä½æˆ‘"><a href="#æ³¨é”€ä¸è®°ä½æˆ‘" class="header-anchor">#</a> æ³¨é”€ä¸è®°ä½æˆ‘</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// ç™»å½•</span>
http<span class="token punctuation">.</span><span class="token function">formLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loginPage</span><span class="token punctuation">(</span><span class="token string">&quot;/toLogin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">usernameParameter</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">passwordParameter</span><span class="token punctuation">(</span><span class="token string">&quot;pwd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loginProcessingUrl</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// æ³¨é”€ï¼Œå¼€å¯æ³¨é”€åŠŸèƒ½ï¼Œè·³åˆ°é¦–é¡µ</span>
http<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">deleteCookies</span><span class="token punctuation">(</span><span class="token string">&quot;JSESSIONID&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;remember-me&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;rem-token&quot;</span><span class="token punctuation">)</span>
    <span class="token punctuation">.</span><span class="token function">logoutSuccessUrl</span><span class="token punctuation">(</span><span class="token string">&quot;/&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// å¼€å¯è®°ä½æˆ‘åŠŸèƒ½ cookieï¼Œé»˜è®¤ä¿å­˜ä¸¤å‘¨ï¼Œè‡ªå®šä¹‰æ¥æ”¶å‰ç«¯çš„å‚æ•°</span>
http<span class="token punctuation">.</span><span class="token function">rememberMe</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rememberMeParameter</span><span class="token punctuation">(</span><span class="token string">&quot;remember&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">rememberMeCookieName</span><span class="token punctuation">(</span><span class="token string">&quot;rem-token&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">tokenValiditySeconds</span><span class="token punctuation">(</span><span class="token number">100</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>é€šè¿‡ Cookies æ¥å®ç°è®°ä½æˆ‘çš„åŠŸèƒ½ï¼Œå¯ä»¥è®¾å®š Cookies åå­—ã€è¿‡æœŸæ—¶é—´ã€‚</p> <p>ğŸŸ å­˜åœ¨çš„é—®é¢˜ï¼š</p> <ol><li>ç‚¹å‡»æ³¨é”€ä¹‹åï¼Œè¿˜å¯ä»¥è®¿é—®åˆ°é¦–é¡µçš„æƒé™å†…å®¹ï¼Œéœ€è¦å…³é—­æµè§ˆå™¨ã€‚</li></ol> <h3 id="è‡ªå®šä¹‰ç™»å½•ç•Œé¢"><a href="#è‡ªå®šä¹‰ç™»å½•ç•Œé¢" class="header-anchor">#</a> è‡ªå®šä¹‰ç™»å½•ç•Œé¢</h3> <p><a href="https://docs.spring.io/spring-security/site/docs/5.3.13.RELEASE/reference/html5/#servlet-authentication-form" target="_blank" rel="noopener noreferrer">å‚è€ƒæ–‡æ¡£æ­¤å°èŠ‚<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// RouterController</span>
<span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token punctuation">{</span><span class="token string">&quot;/toLogin&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">toLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">return</span> <span class="token string">&quot;views/login&quot;</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// WebSecuriryConfig</span>
http<span class="token punctuation">.</span><span class="token function">formLogin</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loginPage</span><span class="token punctuation">(</span><span class="token string">&quot;/toLogin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">usernameParameter</span><span class="token punctuation">(</span><span class="token string">&quot;user&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">passwordParameter</span><span class="token punctuation">(</span><span class="token string">&quot;pwd&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">loginProcessingUrl</span><span class="token punctuation">(</span><span class="token string">&quot;/login&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!-- index.html --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name"><span class="token namespace">th:</span>action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/login}<span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>post<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>user<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>pwd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>ä¸Šé¢ä»£ç çš„æ“ä½œï¼š</p> <ol><li>è®¾ç½®ä½¿ç”¨äº†è‡ªå®šä¹‰çš„ç•Œé¢ï¼Œä¼šä½¿ç”¨æ‹¦æˆªå™¨å…¨å±€è·¯ç”±åˆ° <code>/toLogin</code> ï¼Œè½¬åˆ° <code>views/index.html</code></li> <li>ä¹Ÿå¯ä»¥è®¿é—® <code>/login</code> é¡µé¢ï¼Œä¼šè½¬å‘åˆ° <code>/toLogin</code> è·¯ç”±ï¼Œæ˜¯ GET è¯·æ±‚</li> <li>ç™»å½•é¡µé¢ä¸­æäº¤è¡¨å•çš„åœ°å€ï¼Œæ˜¯ä¸€ä¸ª POST è¯·æ±‚ï¼Œéœ€è¦è®¾ç½® <code>loginProcessingUrl(&quot;/login&quot;)</code>ï¼Œå› ä¸º Spring Security é»˜è®¤å¤„ç† POST çš„ <code>/login</code> è¯·æ±‚ï¼Œå¹¶ä¸”å¦‚æœä¸æ˜¯é»˜è®¤çš„è¡¨å•åå­—ä¹Ÿéœ€è¦è®¾ç½® Parameter</li></ol> <h3 id="æ­é…-thymeleaf-æ ¹æ®æƒé™æ˜¾ç¤ºå†…å®¹"><a href="#æ­é…-thymeleaf-æ ¹æ®æƒé™æ˜¾ç¤ºå†…å®¹" class="header-anchor">#</a> æ­é… thymeleaf æ ¹æ®æƒé™æ˜¾ç¤ºå†…å®¹</h3> <p>å¯¼å…¥ä¾èµ–ï¼Œæœ€æ–°çš„ <a href="https://mvnrepository.com/artifact/org.thymeleaf.extras/thymeleaf-extras-springsecurity5/3.1.0.M1" target="_blank" rel="noopener noreferrer">3.1.0.M1<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ç‰ˆæœ¬ä¼šæŠ¥é”™ã€‚</p> <blockquote><p>java.lang.NoSuchMethodError: org.thymeleaf.context.IWebContext.getExchange()Lorg/thymeleaf/web/IWebExchange;] with root cause</p></blockquote> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.thymeleaf.extras/thymeleaf-extras-springsecurity5 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.thymeleaf.extras<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>thymeleaf-extras-springsecurity5<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>3.0.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å°±å¯ä»¥åœ¨ html ä¸­ä½¿ç”¨æ–°ç‰¹æ€§äº†ï¼Œå‚è€ƒ <a href="https://github.com/thymeleaf/thymeleaf-extras-springsecurity" target="_blank" rel="noopener noreferrer">thymeleaf-extras-springsecurity ä»“åº“<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ã€‚</p> <p>ä½¿ç”¨æ ‡ç­¾å±æ€§æ¥æ ¹æ®æƒé™æ˜¾ç¤ºé¡µé¢</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token comment">&lt;!--æœªç™»å½•--&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name"><span class="token namespace">sec:</span>authorize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>!isAuthenticated()<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>a</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>item<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">th:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>@{/toLogin}<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>i</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>address card icon<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>i</span><span class="token punctuation">&gt;</span></span> ç™»å½•
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>a</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>column<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">sec:</span>authorize</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>hasRole('vip1')<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>p</span><span class="token punctuation">&gt;</span></span>
        æœ‰ç›¸åº”æƒé™æ‰ä¼šæ˜¾ç¤º
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>p</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="å‚è€ƒ"><a href="#å‚è€ƒ" class="header-anchor">#</a> å‚è€ƒ</h3> <ul><li><a href="https://gitee.com/dotJunz/kuangshen-spring-security" target="_blank" rel="noopener noreferrer">kuangshen-SpringSecurity: ç‹‚ç¥è®²çš„SpringSecurity (gitee.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <h2 id="shiro"><a href="#shiro" class="header-anchor">#</a> Shiro</h2> <h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="header-anchor">#</a> æ¦‚å¿µ</h3> <blockquote><p>Apache Shiro æ˜¯ä¸€ä¸ª Java å®‰å…¨æƒé™æ¡†æ¶ã€‚</p></blockquote> <p>JaveSE / JaveEE</p> <p>ä¸€äº›åŠŸèƒ½ï¼š</p> <ul><li>èº«ä»½éªŒè¯</li> <li>æƒé™æ§åˆ¶ï¼šè§’è‰²æƒé™æˆ–è€…ç‰¹å®šåšæŸäº‹çš„æƒé™</li> <li>ä»»ä½•ç¯å¢ƒéƒ½å¯ä½¿ç”¨ Session API</li> <li>åœ¨èº«ä»½éªŒè¯ã€è®¿é—®æƒé™æ§åˆ¶çš„è¿‡ç¨‹ä¸­æˆ–è€… session ç”Ÿå‘½å‘¨æœŸä¸­éƒ½å¯ä»¥<strong>åšå‡ºå“åº”</strong></li> <li>åˆå¹¶å¤šä¸ªç”¨æˆ·æƒé™çš„æ•°æ®æºï¼Œæœ€ç»ˆå‘ˆç°ç”¨æˆ·çš„å®Œæ•´æƒé™</li></ul> <p><strong>High-Level Overview</strong></p> <p><img src="https://shiro.apache.org/images/ShiroBasicArchitecture.png" alt="Shiro Basic Architecture Diagram"></p> <h3 id="_10-minute-tutorial"><a href="#_10-minute-tutorial" class="header-anchor">#</a> 10-minute-tutorial</h3> <p><strong>è·å–å½“å‰ Subject</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Subject</span> currentUser <span class="token operator">=</span> <span class="token class-name">SecurityUtils</span><span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><code>Subject</code> å…¶å®å°±æ˜¯ç”¨æˆ·ï¼Œå–å†³äºå½“å‰çº¿ç¨‹ä¸ä¼ å…¥çš„è¯·æ±‚ã€‚</p> <p><strong>è·å– Session</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Session</span> session <span class="token operator">=</span> currentUser<span class="token punctuation">.</span><span class="token function">getSession</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
session<span class="token punctuation">.</span><span class="token function">setAttribute</span><span class="token punctuation">(</span> <span class="token string">&quot;someKey&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;aValue&quot;</span> <span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>è¿™ä¸ª Session æ—¨åœ¨ç”¨æˆ·å¯ä»¥åœ¨åº”ç”¨ä¸­ä½¿ç”¨ç›¸åŒçš„ API</p> <ul><li>Web App ä¸­åŸºäº HttpSession</li> <li>no-web app ä¸­å°±æ˜¯ Enterprise Session</li></ul> <p><strong>ç”¨æˆ·ç™»å½•</strong></p> <div class="language-java extra-class"><pre class="language-java"><code>currentUser<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ç™»å½•ä¹‹åå°±å¯ä»¥æ“ä½œå½“å‰ç”¨æˆ·ï¼š</p> <ul><li>æ‰“å°å§“å</li> <li>åˆ¤æ–­è§’è‰²</li> <li>åˆ¤æ–­æƒé™</li></ul> <blockquote><p>ã€è¿‡æ—¶çš„æ–‡ç« ã€‘</p> <p><a href="https://shiro.apache.org/webapp-tutorial.html" target="_blank" rel="noopener noreferrer">Securing Web Applications with Apache Shiro | Apache Shiro<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>åœ¨ jsp çš„ web app ä¸­æ•´åˆ shiroï¼š</p> <ol><li>é…ç½® <code>web.xml</code></li> <li><code>shiro.ini</code></li> <li>åœ¨ jsp ä¸­ä½¿ç”¨ <code>&lt;shiro&gt;</code> æ ‡ç­¾</li> <li>ä»åç«¯è¯»å–è§’è‰²å’Œæƒé™ä¿¡æ¯</li></ol></blockquote> <h3 id="æ•´åˆè¿›-spring"><a href="#æ•´åˆè¿›-spring" class="header-anchor">#</a> æ•´åˆè¿› Spring</h3> <p>æ–¹æ³•ä¸€ï¼šä¾èµ– <code>shiro-spring</code>ï¼Œä¼ ç»Ÿ Spring é¡¹ç›®</p> <ol><li><p>å¯¼å…¥å‰ç«¯é™æ€é¡µé¢ï¼Œä¸¤ä¸ªç®€å•å­é¡µé¢ã€ä¸€ä¸ªç™»å½•é¡µé¢</p></li> <li><p>åˆ›å»º <code>UserRealm</code> ç»§æ‰¿ <code>AuthorizingRealm</code>ï¼Œé‡å†™<strong>æˆæƒ</strong>å’Œ<strong>è®¤è¯</strong>æ–¹æ³•ã€‚</p></li> <li><p><code>ShiroConfig</code> é…ç½®ç±»ä¸­åˆ†åˆ«æ³¨å…¥ï¼š</p> <ul><li>UserRealm</li> <li>DefaultWebSecurityManager</li> <li>ShiroFilterFactoryBean</li></ul> <p>ğŸŸ è¿™é‡Œçš„å†™æ³•å€¼å¾—å­¦ä¹ ï¼Œå¤šä¸ª @Bean çš„é“¾å¼è°ƒç”¨</p></li> <li><p>åœ¨ <code>ShiroFilterFactoryBean</code> ä¸­è®¾ç½®è®¿é—®æƒé™å’Œç™»å½•è·³è½¬</p></li> <li><p>åœ¨ Controller ä¸­è¿›è¡Œç”¨æˆ·ç™»å½•æ“ä½œ <code>subject.login()</code>ï¼Œæ­¤æ—¶å°±ä¼šè½¬åˆ° <code>UserRealm</code> ä¸­è¿›è¡Œæˆæƒå’Œè®¤è¯æ“ä½œ</p></li> <li><p>æ•´åˆ MyBatisï¼Œåœ¨ <code>UserRealm</code> ä¸­æŸ¥è¯¢æ•°æ®åº“</p></li> <li><p>æ­é… thymeleaf æ ¹æ®æƒé™æ˜¾ç¤ºå†…å®¹</p></li></ol> <blockquote><p>è¿™é‡Œåˆ›å»ºä¸‰ä¸ª Bean å’Œ Realm ç±»çš„æ“ä½œå¯¹åº”ç€å®˜æ–¹æ–‡æ¡£ä¸­ <a href="https://shiro.apache.org/spring-framework.html" target="_blank" rel="noopener noreferrer">æ•´åˆè¿›Spring Standalone Applications<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a>ï¼Œæ³¨æ„æœ‰æ›´å¥½çš„ Web App ç‰ˆæœ¬ã€‚</p></blockquote> <hr> <p>âœ…æ–¹æ³•äºŒï¼šå‚è€ƒ <a href="https://shiro.apache.org/spring-boot.html" target="_blank" rel="noopener noreferrer">å®˜ç½‘<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ï¼Œä½¿ç”¨æ•´åˆä¾èµ– <code>shiro-spring-boot-web-starter</code></p> <ol><li><p>å¯¼å…¥ä¾èµ–</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.shiro<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>shiro-spring-boot-web-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.9.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>æ³¨å…¥ä¸€ä¸ª Realm ç±»çš„å®ç°ï¼Œè®¾ç½®ç”¨æˆ·åã€å¯†ç å’Œè§’è‰²æƒé™ã€‚</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">Realm</span> <span class="token function">realm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">TextConfigurationRealm</span> realm <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">TextConfigurationRealm</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    realm<span class="token punctuation">.</span><span class="token function">setUserDefinitions</span><span class="token punctuation">(</span><span class="token string">&quot;joe.coder=password,user\n&quot;</span> <span class="token operator">+</span>
                             <span class="token string">&quot;jill.coder=password,admin&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    realm<span class="token punctuation">.</span><span class="token function">setRoleDefinitions</span><span class="token punctuation">(</span><span class="token string">&quot;admin=read,write\n&quot;</span> <span class="token operator">+</span>
                             <span class="token string">&quot;user=read&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    realm<span class="token punctuation">.</span><span class="token function">setCachingEnabled</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">return</span> realm<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>æ³¨å…¥ä¸€ä¸ª <code>ShiroFilterChainDefinition</code> æ¥ç®¡ç†è¯·æ±‚æ˜ å°„çš„æƒé™ã€‚
å› ä¸ºé»˜è®¤å¼€å¯äº†æ³¨è§£ï¼Œæ‰€ä»¥ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ Controller ç±»ä¸­ä½¿ç”¨ <code>@RequiresRoles</code> å’Œ <code>@RequiresPermissions</code> ç›´æ¥åœ¨æ–¹æ³•ä¸Šæ£€æŸ¥æƒé™ã€‚</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">ShiroFilterChainDefinition</span> <span class="token function">shiroFilterChainDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">DefaultShiroFilterChainDefinition</span> chainDefinition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultShiroFilterChainDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    chainDefinition<span class="token punctuation">.</span><span class="token function">addPathDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;/**&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;anon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// all paths are managed via annotations</span>
    
    <span class="token keyword">return</span> chainDefinition<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Controller</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">AccountInfoController</span> <span class="token punctuation">{</span>

    <span class="token annotation punctuation">@RequiresRoles</span><span class="token punctuation">(</span><span class="token string">&quot;admin&quot;</span><span class="token punctuation">)</span>
    <span class="token annotation punctuation">@RequestMapping</span><span class="token punctuation">(</span><span class="token string">&quot;/admin/config&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">String</span> <span class="token function">adminConfig</span><span class="token punctuation">(</span><span class="token class-name">Model</span> model<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token string">&quot;view&quot;</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>é…ç½®æ–‡ä»¶</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">shiro.loginUrl</span> <span class="token punctuation">=</span> <span class="token value attr-value">/login.html</span>

<span class="token comment"># Let Shiro Manage the sessions</span>
<span class="token key attr-name">shiro.userNativeSessionManager</span> <span class="token punctuation">=</span> <span class="token value attr-value">true</span>

<span class="token comment"># disable URL session rewriting</span>
<span class="token key attr-name">shiro.sessionManager.sessionIdUrlRewritingEnabled</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span>

<span class="token comment"># æ˜¯å¦å¼€å¯åŠŸèƒ½</span>
<span class="token key attr-name">shiro.web.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">true</span>
</code></pre></div><p>å…³é—­ shiro ä¹‹åï¼Œè¿˜æœ‰ <code>@RequiresRoles</code> æ³¨è§£çš„æ–¹æ³•å°±ä¼šæŠ¥é”™ã€‚</p></li></ol> <h3 id="å­¦ä¹ å®˜æ–¹æ¡ˆä¾‹"><a href="#å­¦ä¹ å®˜æ–¹æ¡ˆä¾‹" class="header-anchor">#</a> å­¦ä¹ å®˜æ–¹æ¡ˆä¾‹</h3> <p>çœ‹çš„æ˜¯å®˜æ–¹ç¤ºä¾‹é¡¹ç›® <a href="https://github.com/apache/shiro/tree/main/samples/spring-boot-web" target="_blank" rel="noopener noreferrer">shiro/samples/spring-boot-web at main Â· apache/shiro (github.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p><strong>ä¸¤ä¸ªå’Œé™æ€é¡µé¢ç´§å¯†ç›¸å…³çš„æ³¨è§£</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@ControllerAdvice</span>
<span class="token annotation punctuation">@Configuration</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SecurityConfig</span> <span class="token punctuation">{</span>
    
    <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">Realm</span> <span class="token function">realm</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    
     <span class="token annotation punctuation">@Bean</span>
    <span class="token keyword">public</span> <span class="token class-name">ShiroFilterChainDefinition</span> <span class="token function">shiroFilterChainDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    
	<span class="token annotation punctuation">@ModelAttribute</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;subject&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">public</span> <span class="token class-name">Subject</span> <span class="token function">subject</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span> <span class="token class-name">SecurityUtils</span><span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å› ä¸ºé¡µé¢ä¸­éœ€è¦è§£æç”¨æˆ·çš„èº«ä»½éªŒè¯æƒ…å†µï¼Œæ‰€ä»¥è¦ä½¿ç”¨ <code>@ModelAttribute</code> åœ¨è¯·æ±‚ä¹‹å‰åœ¨å“åº”ä¸­å¹¶ç»‘å®šä¸€ä¸ªå½“å‰ç”¨æˆ·çš„å±æ€§ã€‚</p> <ul><li><code>ModelAttribute</code> éœ€è¦å†™åœ¨ <code>@Controller</code> æ§åˆ¶ç±»ä¸­ï¼Œåªå¤„ç†æ­¤ Controller çš„è¯·æ±‚ã€‚</li> <li>æˆ–è€…ä¸ <code>@ControllerAdvice</code> æ­é…å†™åœ¨ <code>@Configuration</code> é…ç½®ç±»ä¸­ï¼Œä¼šå‚ä¸<strong>å…¨å±€çš„è¯·æ±‚</strong>ã€‚</li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210091159108.png" alt="image-20221009115918635"></p> <p><strong>å…³äºç™»å½•è¡¨å•</strong></p> <p>å¦‚æœä¸å»æŒ‡å®š <code>action</code> å±æ€§ï¼Œé»˜è®¤ä¼š POST è¯·æ±‚åˆ°å½“å‰ç½‘é¡µåœ°å€ã€‚ä½†å‡¡å†™ä¸ª <code>/test</code> æäº¤çš„æ—¶å€™åœ°å€å°±ä¼šä¸ä¸€æ ·ã€‚</p> <div class="language-html extra-class"><pre class="language-html"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>form</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>loginform<span class="token punctuation">&quot;</span></span> <span class="token attr-name">action</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span> <span class="token attr-name">method</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>POST<span class="token punctuation">&quot;</span></span> <span class="token attr-name">accept-charset</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>UTF-8<span class="token punctuation">&quot;</span></span> <span class="token attr-name">role</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fieldset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Username or Email<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>text<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-group<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>form-control<span class="token punctuation">&quot;</span></span> <span class="token attr-name">placeholder</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>password<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span><span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>input</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>btn btn-lg btn-success btn-block<span class="token punctuation">&quot;</span></span> <span class="token attr-name">type</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>submit<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>Login<span class="token punctuation">&quot;</span></span><span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fieldset</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>form</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>ç™»å½•çš„è¯·æ±‚è·¯å¾„</strong></p> <ul><li><p>Controller ä¸­æ¥å—çš„è·¯å¾„æ¥æºäºé¡µé¢ä¸­çš„ç™»å½•é¡µé¢é“¾æ¥ <code>/login</code>ï¼Œç„¶åä¼šäº¤ç»™è§†å›¾è§£æå™¨å¤„ç†è¿”å›æ¨¡æ¿ä¸­çš„ç™»å½•é¡µé¢ã€‚</p></li> <li><p>ç™»å½•é¡µé¢ä¸­çš„è¡¨å•æäº¤è·¯å¾„ <code>/api/login</code> å¯¹åº”ç€é…ç½®æ–‡ä»¶ä¸­çš„ <code>shiro.loginUrl</code> å’Œ ShiroFilterChainDefinition çš„è¿‡æ»¤å™¨è®¾ç½®</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Bean</span>
<span class="token keyword">public</span> <span class="token class-name">ShiroFilterChainDefinition</span> <span class="token function">shiroFilterChainDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">DefaultShiroFilterChainDefinition</span> chainDefinition <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">DefaultShiroFilterChainDefinition</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    chainDefinition<span class="token punctuation">.</span><span class="token function">addPathDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;/api/login&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;authc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// need to accept POSTs from the login form</span>
    chainDefinition<span class="token punctuation">.</span><span class="token function">addPathDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;/logout&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;logout&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    chainDefinition<span class="token punctuation">.</span><span class="token function">addPathDefinition</span><span class="token punctuation">(</span><span class="token string">&quot;/admin/**&quot;</span><span class="token punctuation">,</span> <span class="token string">&quot;anon&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// äº¤ç»™æ³¨è§£å¤„ç†</span>

    <span class="token keyword">return</span> chainDefinition<span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div></li></ul> <p><strong>ç™»å½•å’Œæ³¨é”€è¯·æ±‚éœ€è¦æ˜¾ç¤ºå£°æ˜</strong>ï¼Œå…¶ä½™çš„è¯·æ±‚å¯ä»¥äº¤ç»™æ³¨è§£å¤„ç†ï¼š</p> <p><code>@RequiresGuest</code> <code>@RequiresUser</code> <code>@RequiresRoles</code></p> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210091208710.png" alt="image-20221009120831573"></p> <p><strong>è§’è‰²çš„æƒé™åˆ™æ˜¯åœ¨æ³¨å…¥ Realm çš„æ–¹æ³•ä¸­è®¾ç½®ã€‚</strong></p> <h4 id="æ€»ç»“"><a href="#æ€»ç»“" class="header-anchor">#</a> æ€»ç»“</h4> <p>ä½¿ç”¨ <code>shiro-spring-boot-web-starter</code> æ¥é›†æˆ shiroï¼Œæ€»ä½“åªéœ€è¦ä¸¤ä¸ªæ­¥éª¤ï¼š</p> <ol><li>å°† Realm å®ä¾‹é€šè¿‡ <code>@Bean</code> æ–¹æ³•æ³¨å…¥å®¹å™¨ï¼Œéœ€è¦è¿›è¡Œä¸€äº›è®¾ç½®ï¼Œå¦‚ç”¨æˆ·å’Œæƒé™å£°æ˜ã€‚</li> <li>æ³¨å…¥ ShiroFilterChainDefinition å®ä¾‹ï¼Œæœ€åŸºç¡€çš„å¯ä»¥ç”¨ DefaultShiroFilterChainDefinition çš„æ–¹æ³• <code>addPathDefinition</code> è®¾ç½®è¯·æ±‚è¿‡æ»¤å™¨ã€‚</li></ol> <p>âœ…ä¸Šé¢ä¸¤ä¸ªæ­¥éª¤ä¸­çš„è®¾ç½®éƒ¨åˆ†å°±å¯ä»¥ä¸ Service å±‚æˆ–é…ç½®æ–‡ä»¶äº¤äº’ï¼Œè¿›è¡Œåˆ—è¡¨é…ç½®ã€‚</p> <p>ç›¸æ¯”äºä¼ ç»Ÿæ•´åˆï¼Œ<code>SecurityManager</code> å’Œ <code>ShiroFilterFactoryBean</code> éƒ½æ˜¯ç”± SpringBoot è‡ªåŠ¨é…ç½®çš„ã€‚</p> <p>==TODOï¼šshiro.loginUrlÂ å…¶å®åº”è¯¥æ˜¯æŒ‡å®šç™»å½•é¡µé¢ï¼Œåº”è¯¥æœ‰ä¸ªè‡ªåŠ¨éªŒè¯èº«ä»½çš„è‡ªåŠ¨é…ç½®ä¼šé»˜è®¤å¤„ç†æ­¤POSTå‘½ä»¤ï¼Œå¯¼è‡´GETå’ŒPOSTå¿…é¡»æ˜¯ç›¸åŒé¡µé¢==</p> <p>è‡ªå·±å¤„ç†èº«ä»½éªŒè¯ï¼Œå°±æ˜¯åœ¨ controller ä¸­</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Subject</span> subject <span class="token operator">=</span> <span class="token class-name">SecurityUtils</span><span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    subject<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">UsernamePasswordToken</span><span class="token punctuation">(</span>username<span class="token punctuation">,</span> password<span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•æˆåŠŸ!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token class-name">AuthenticationException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;ç™»å½•å¤±è´¥!&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>å‚è€ƒï¼š</p> <ul><li><a href="https://zhuanlan.zhihu.com/p/75848572" target="_blank" rel="noopener noreferrer">Shiro å’Œ spring boot çš„é›†æˆ - çŸ¥ä¹ (zhihu.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul> <p><strong>é…ç½® shiro</strong></p> <p>==TODO:Â è¿˜éœ€è¦Â iniÂ æ–‡ä»¶å—==</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">shiro.loginUrl</span> <span class="token punctuation">=</span> <span class="token value attr-value">/login.html</span>

<span class="token comment"># Let Shiro Manage the sessions</span>
<span class="token key attr-name">shiro.userNativeSessionManager</span> <span class="token punctuation">=</span> <span class="token value attr-value">true</span>

<span class="token comment"># disable URL session rewriting</span>
<span class="token key attr-name">shiro.sessionManager.sessionIdUrlRewritingEnabled</span> <span class="token punctuation">=</span> <span class="token value attr-value">false</span>

<span class="token comment"># å¯ä»¥ç¦ç”¨shiro</span>
<span class="token key attr-name">shiro.web.enabled</span><span class="token punctuation">=</span><span class="token value attr-value">false</span>
</code></pre></div><p><strong>æµ‹è¯•</strong></p> <div class="language- extra-class"><pre class="language-text"><code>@RestController = @Controller + @ResponseBody
</code></pre></div><p>è¿”å›çš„æ˜¯æ–‡æœ¬ï¼Œä¸äº¤ç»™<strong>è§†å›¾è§£æå™¨</strong>å¤„ç†ã€‚</p> <p>åªæœ‰ <code>@Controller</code> åˆ™ä¼šè¢«è§†å›¾è§£æå™¨è§£æã€‚</p> <p>==TODOï¼šè§†å›¾è§£æå™¨æ˜¯æ€ä¹ˆè¢«Â SpringÂ BootÂ é…ç½®çš„ï¼Ÿ==</p> <blockquote><p>ä» ThymeleafAutoConfiguration æ‰¾åˆ° ThymeleafProperties</p> <p>å¯ä»¥çœ‹åˆ° Thymeleaf å¤„ç†è§£æçš„å‰åç¼€</p> <div class="language- extra-class"><pre class="language-text"><code>private static final Charset DEFAULT_ENCODING = StandardCharsets.UTF_8;

public static final String DEFAULT_PREFIX = &quot;classpath:/templates/&quot;;

public static final String DEFAULT_SUFFIX = &quot;.html&quot;;
</code></pre></div></blockquote> <h3 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="header-anchor">#</a> ä½¿ç”¨</h3> <h4 id="èº«ä»½éªŒè¯-authentication"><a href="#èº«ä»½éªŒè¯-authentication" class="header-anchor">#</a> èº«ä»½éªŒè¯ Authentication</h4> <p><a href="https://shiro.apache.org/java-authentication-guide.html" target="_blank" rel="noopener noreferrer">Java Authentication Guide with Apache Shiro | Apache Shiro<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <ol><li>æ”¶é›†ç”¨æˆ·çš„èº«ä»½æ ‡è¯†ï¼ˆprincipalsï¼‰å’Œè¯ä¹¦ï¼ˆcredentialsï¼‰</li> <li>å°†ä¸Šé¢ä¸¤ä¸ªæäº¤ç»™èº«ä»½éªŒè¯ç³»ç»Ÿ</li> <li>ç»“æœæ˜¯æˆåŠŸã€é‡è¯•æˆ–æ‹’ç»</li></ol> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// è·å–å½“å‰ç”¨æˆ·</span>
<span class="token class-name">Subject</span> currentUser <span class="token operator">=</span> <span class="token class-name">SecurityUtils</span><span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ä¼ é€’å§“åå¯†ç ç­‰</span>
<span class="token comment">// éœ€è¦åœ¨try-catchå—ä¸­ ç™»é™†å¤±è´¥ä¼šæŠ›å‡ºå¼‚å¸¸</span>
<span class="token keyword">try</span> <span class="token punctuation">{</span>
    currentUser<span class="token punctuation">.</span><span class="token function">login</span><span class="token punctuation">(</span>token<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span> <span class="token keyword">catch</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> 

currentUser<span class="token punctuation">.</span><span class="token function">logout</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>Subject å¯¹è±¡æ”¯æŒä¸¤ä¸ªæ–¹æ³•ï¼š<code>isRemembered()</code> å’Œ <code>isAuthenticated()</code></p> <blockquote><p>æ³¨æ„ï¼šå¦‚æœç”¨æˆ·è¢«è®°ä½äº†ï¼Œ<strong>å¹¶ä¸ä»£è¡¨</strong>è¯¥ç”¨æˆ·å·²ç»è¢«è®¤è¯ã€‚</p> <p>è®°ä½ç”¨æˆ·åªæ˜¯ä¸ºäº†åœ¨ä½æƒé™å±‚é¢æä¾›æœåŠ¡ï¼Œä¾‹å¦‚å®šåˆ¶åŒ–ç•Œé¢ã€‚å¦‚æœéœ€è¦ä½¿ç”¨é«˜çº§æƒé™ä¸€å®šè¦è¿›è¡Œè®¤è¯ã€‚</p></blockquote> <h4 id="æˆæƒ-authorization"><a href="#æˆæƒ-authorization" class="header-anchor">#</a> æˆæƒ Authorization</h4> <p><a href="https://shiro.apache.org/java-authorization-guide.html" target="_blank" rel="noopener noreferrer">Java Authorization Guide with Apache Shiro | Apache Shiro<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>æ ¸å¿ƒå…ƒç´ ï¼š</p> <ol><li><code>permissions</code> æè¿°äº†<strong>èµ„æºç±»å‹</strong>å’Œèƒ½å¯¹å…¶è¿›è¡Œçš„<strong>æ“ä½œ</strong>ï¼Œ<code>èƒ½å¹²ä»€ä¹ˆäº‹</code> <ul><li>èµ„æºå±‚é¢ï¼Œæ“ä½œæŠ½è±¡çš„äº‹ç‰©</li> <li>å®ä¾‹å±‚é¢ï¼Œæ“ä½œå…·ä½“çš„äº‹ç‰©</li> <li>å±æ€§å±‚é¢ï¼Œæ“ä½œå…·ä½“äº‹ç‰©ä¸Šçš„å‡ ä¸ªå…·ä½“å±æ€§</li></ul></li> <li><code>Roles</code> ç”¨ä¸€ç³»åˆ—ç‰¹å®šçš„æƒé™ç®€åŒ–äº†å¯¹è§’è‰²å’Œæƒé™çš„ç®¡ç†
<ul><li>éšå¼è§’è‰²ï¼š<code>ç”¨æˆ·æ˜¯ admin</code></li> <li>æ˜¾ç¤ºè§’è‰²ï¼š<code>ç”¨æˆ·èƒ½å¹²ä»€ä¹ˆäº‹å› ä¸ºæ˜¯ admin è§’è‰²</code></li></ul></li> <li><code>Users</code> å¯ä»¥åšç‰¹å®šçš„äº‹æƒ…</li></ol> <p><strong>ä½¿ç”¨æˆæƒçš„ä¸‰ç§æ–¹æ³•</strong></p> <ul><li>ç¼–ç¨‹å¼</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Subject</span> currentUser <span class="token operator">=</span> <span class="token class-name">SecurityUtils</span><span class="token punctuation">.</span><span class="token function">getSubject</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// è§’è‰²æ£€æµ‹</span>
<span class="token keyword">if</span> <span class="token punctuation">(</span>currentUser<span class="token punctuation">.</span><span class="token function">hasRole</span><span class="token punctuation">(</span><span class="token string">&quot;administrator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// do sth.</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>

<span class="token comment">// æƒé™æ£€æµ‹</span>
<span class="token comment">// String perm = &quot;printer:print:laserjet4400n&quot;;</span>
<span class="token class-name">Permission</span> printPermission <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">PrinterPermission</span><span class="token punctuation">(</span><span class="token string">&quot;laserjet3000n&quot;</span><span class="token punctuation">,</span><span class="token string">&quot;print&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">if</span> <span class="token punctuation">(</span>currentUser<span class="token punctuation">.</span><span class="token function">isPermitted</span><span class="token punctuation">(</span>printPermission<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//do one thing</span>
<span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>æ³¨è§£å¼ï¼Œä¸ Spring æ•´åˆå¹¶å¼€å¯æ³¨è§£</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// æƒé™æ§åˆ¶</span>
<span class="token annotation punctuation">@RequiresPermissions</span><span class="token punctuation">(</span><span class="token string">&quot;account:create&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">openAccount</span><span class="token punctuation">(</span> <span class="token class-name">Account</span> acct <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//create the account</span>
<span class="token punctuation">}</span>

<span class="token comment">// è§’è‰²æ§åˆ¶</span>
<span class="token annotation punctuation">@RequiresRoles</span><span class="token punctuation">(</span> <span class="token string">&quot;teller&quot;</span> <span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">openAccount</span><span class="token punctuation">(</span> <span class="token class-name">Account</span> acct <span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">//do something in here that only a teller</span>
    <span class="token comment">//should do</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>é€šè¿‡ JSP æ ‡ç­¾æ¥è¿›è¡Œæ§åˆ¶</li></ul> <h4 id="æ•°æ®è®¿é—®å¯¹è±¡-realm"><a href="#æ•°æ®è®¿é—®å¯¹è±¡-realm" class="header-anchor">#</a> æ•°æ®è®¿é—®å¯¹è±¡ Realm</h4> <p><a href="https://shiro.apache.org/realm.html" target="_blank" rel="noopener noreferrer">Apache Shiro Realms | Apache Shiro<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>å› ä¸ºæ•°æ®æºä¼šåŒæ—¶å­˜æ”¾èº«ä»½éªŒè¯æ•°æ®ï¼ˆå¯†ç ï¼‰å’Œæˆæƒæ•°æ®ï¼ˆè§’è‰²æˆ–æƒé™ï¼‰ï¼Œæ‰€ä»¥ <code>Realm</code> å¯ä»¥è¿›è¡Œèº«ä»½éªŒè¯å’Œæˆæƒæ“ä½œã€‚</p> <p>é…ç½® Realm çš„ä¸¤ç§æ–¹æ³•ï¼š</p> <ol><li>âœ…åœ¨ <code>ini</code> æ–‡ä»¶ä¸­é…ç½® Realm</li> <li>ä½¿ç”¨å®ä½“ç±»ç»§æ‰¿ Realmï¼Œå¹¶é‡å†™æ–¹æ³•</li></ol> <div class="language-ini extra-class"><pre class="language-ini"><code><span class="token key attr-name">fooRealm</span> <span class="token punctuation">=</span> <span class="token value attr-value">com.company.foo.Realm</span>
<span class="token key attr-name">barRealm</span> <span class="token punctuation">=</span> <span class="token value attr-value">com.company.another.Realm</span>
<span class="token key attr-name">bazRealm</span> <span class="token punctuation">=</span> <span class="token value attr-value">com.company.baz.Realm</span>

<span class="token key attr-name">securityManager.realms</span> <span class="token punctuation">=</span> <span class="token value attr-value">$fooRealm, $barRealm, $bazRealm</span>
</code></pre></div><h3 id="æ·±å…¥è‡ªåŠ¨é…ç½®ç±»"><a href="#æ·±å…¥è‡ªåŠ¨é…ç½®ç±»" class="header-anchor">#</a> æ·±å…¥è‡ªåŠ¨é…ç½®ç±»</h3> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210091450166.png" alt="image-20221009145035989"></p> <p><strong>è‡ªåŠ¨é…ç½®çš„å…ˆåé¡ºåºï¼š</strong></p> <ol><li><p><code>ShiroWebMvcAutoConfiguration</code> ä¸­é€šè¿‡å¯¼å…¥ <code>ShiroRequestMappingConfig</code> ç±»ã€åˆ¤æ–­æœ‰è¯·æ±‚æ˜ å°„å¤„ç†å™¨å¹¶ä¸”æ˜¯ servlet-based çš„ web åº”ç”¨æ‰ä¼šç”Ÿæ•ˆï¼Œè¿˜ä¼šæ£€æŸ¥ <code>shiro.web.enabled</code> çš„é…ç½®æ˜¯å¦å¼€å¯ shiroã€‚</p></li> <li><p><code>ShiroWebAutoConfiguration</code> ç»§æ‰¿äº† <code>AbstractShiroWebConfiguration</code> ï¼Œç¡®ä¿åœ¨ä¸€äº›ç»„ä»¶æ²¡æœ‰è¢«æ˜¾ç¤ºæ³¨å…¥çš„æ—¶å€™ä¼šæ³¨å…¥é»˜è®¤å®ç°ç±»ï¼Œä¾‹å¦‚ <code>SessionsSecurityManager</code> / <code>ShiroFilterChainDefinition</code> ç­‰ã€‚</p></li> <li><p><code>ShiroAutoConfiguration</code> ç»§æ‰¿äº† <code>AbstractShiroConfiguration</code>ï¼Œæ˜¯ shiro çš„æœ€åŸºç¡€é…ç½®ï¼Œä¼šè¯»å– <code>classpath:shiro.ini</code> å¹¶æ³¨å…¥ Realm å®ä¾‹ï¼Œä½¿ç”¨é…ç½®æ–‡ä»¶å°±ä¸ç”¨å»å®ç° Realm ç±»ã€‚</p></li></ol> <p>åœ¨ <code>shiro.ini</code> ä¸­å°±å¯ä»¥è®¾å®šç”¨æˆ·ã€è§’è‰²å’Œæƒé™ï¼Œä½†æ˜¯ SpringBoot é¡¹ç›®ä¸­æ˜¯è¦<strong>ä¸æ•°æ®åº“äº¤äº’</strong>ï¼Œæ‰€ä»¥è¿˜æ˜¯è¦ä¸“æ³¨äº Java Configã€‚</p> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210091508545.png" alt="image-20221009150843226"></p> <h2 id="å¤šçº¿ç¨‹ä»»åŠ¡"><a href="#å¤šçº¿ç¨‹ä»»åŠ¡" class="header-anchor">#</a> å¤šçº¿ç¨‹ä»»åŠ¡</h2> <ol><li><p>å¼€å¯å¼‚æ­¥ <code>@EnableAsync</code></p></li> <li><p>ä½¿ç”¨æ³¨è§£ <code>@Async</code></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// service</span>
<span class="token annotation punctuation">@Async</span>
<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">hello</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">try</span> <span class="token punctuation">{</span>
        <span class="token class-name">Thread</span><span class="token punctuation">.</span><span class="token function">sleep</span><span class="token punctuation">(</span><span class="token number">3000</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span> <span class="token keyword">catch</span><span class="token punctuation">(</span><span class="token class-name">InterruptedException</span> e<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        e<span class="token punctuation">.</span><span class="token function">printStackTrace</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span><span class="token string">&quot;Hello...&quot;</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div></li> <li><p>è¿™æ · Controller ä¸­è°ƒç”¨æ­¤æ–¹æ³•åï¼Œè¿˜æ˜¯èƒ½æ­£å¸¸ç»§ç»­å¤„ç†è¯·æ±‚ï¼ˆç½‘é¡µä¸ä¼šå¡åœ¨åŠ è½½ä¸­ï¼‰ã€‚</p></li></ol> <p><strong>é‡åˆ°æŠ¥é”™</strong></p> <p>å¦‚æœæŠ¥é”™åˆ™ä½¿ç”¨ <code>@EnableAsync(proxyTargetClass = true)</code></p> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210081600411.png" alt="image-20221008160045937"></p> <h2 id="é‚®ä»¶ä»»åŠ¡"><a href="#é‚®ä»¶ä»»åŠ¡" class="header-anchor">#</a> é‚®ä»¶ä»»åŠ¡</h2> <blockquote><p>æ€ä¹ˆå»çœ‹é…ç½®ï¼Ÿ</p> <p>ä¾èµ– -&gt; AutoConfigure -&gt; ConfigProperties</p></blockquote> <ol><li><p>å¯¼å…¥ä¾èµ– <code>spring-boot-starter-mail</code></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.springframework.boot/spring-boot-starter-mail --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter-mail<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.7.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li> <li><p>é…ç½®æ–‡ä»¶</p> <div class="language-yaml extra-class"><pre class="language-yaml"><code><span class="token key atrule">spring</span><span class="token punctuation">:</span>
  <span class="token key atrule">mail</span><span class="token punctuation">:</span>
    <span class="token key atrule">username</span><span class="token punctuation">:</span> é‚®ç®±åœ°å€
    <span class="token key atrule">password</span><span class="token punctuation">:</span> å¼€å¯smtpæ—¶çš„æˆæƒå¯†ç 
    <span class="token key atrule">host</span><span class="token punctuation">:</span> smtp.163.com
</code></pre></div></li> <li><p>æµ‹è¯•ç±»ä¸­è¿›è¡Œæµ‹è¯•
<strong>å‘é€æ–¹å¿…é¡»æ˜¯è‡ªå·±çš„é‚®ç®±</strong></p></li></ol> <p><strong>ç®€å•é‚®ä»¶</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Autowired</span>
<span class="token class-name">JavaMailSenderImpl</span> mailSender<span class="token punctuation">;</span>

<span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testSend</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token class-name">SimpleMailMessage</span> mailMessage <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">SimpleMailMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// set mailMessage</span>
    mailMessage<span class="token punctuation">.</span><span class="token function">setSubject</span><span class="token punctuation">(</span><span class="token string">&quot;æµ‹è¯•&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mailMessage<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;ä¸­åˆå¥½&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mailMessage<span class="token punctuation">.</span><span class="token function">setFrom</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mailMessage<span class="token punctuation">.</span><span class="token function">setTo</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mailSender<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>mailMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>å¤æ‚é‚®ä»¶</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Test</span>
<span class="token keyword">void</span> <span class="token function">testSend2</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
	<span class="token class-name">MimeMessage</span> mimeMessage <span class="token operator">=</span> mailSender<span class="token punctuation">.</span><span class="token function">createMimeMessage</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token comment">// ä½¿ç”¨Helperæ¥æ·»åŠ å†…å®¹å’Œé™„ä»¶ç­‰</span>
    <span class="token class-name">MimeMessageHelper</span> helper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">MimeMessageHelper</span><span class="token punctuation">(</span>mimeMessage<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// tureè¡¨ç¤ºå…è®¸åˆ†å¤šä¸ªéƒ¨åˆ†</span>
    helpr<span class="token punctuation">.</span><span class="token function">setSubject</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    helper<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// å¯ä»¥æ˜¯å¯Œæ–‡æœ¬</span>
    helper<span class="token punctuation">.</span><span class="token function">addAttachment</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// é™„ä»¶</span>
   	
    helper<span class="token punctuation">.</span><span class="token function">setTo</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    helper<span class="token punctuation">.</span><span class="token function">setFrom</span><span class="token punctuation">(</span><span class="token string">&quot;&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    mailSender<span class="token punctuation">.</span><span class="token function">send</span><span class="token punctuation">(</span>mailMessage<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><code>MimeMessage</code> å¯ä»¥åŒ…å« HTML æ–‡æœ¬ï¼Œä¹Ÿèƒ½ä½¿ç”¨ <code>&lt;style&gt;</code> æ ‡ç­¾ç„¶åæŒ‡å®š classã€‚</p> <p>å±…ä¸­çš„æ’ç‰ˆå¯ä»¥ä½¿ç”¨ flexbox æ¥å®ç°</p> <p><strong>ä½¿ç”¨å†…åµŒå›¾ç‰‡</strong></p> <p>é€šè¿‡ contentId è·å–</p> <div class="language-java extra-class"><pre class="language-java"><code>message<span class="token punctuation">.</span><span class="token function">setText</span><span class="token punctuation">(</span><span class="token string">&quot;my text &lt;img src='cid:myLogo'&gt;&quot;</span><span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// trueå¼€å¯htmlæ”¯æŒ</span>
message<span class="token punctuation">.</span><span class="token function">addInline</span><span class="token punctuation">(</span><span class="token string">&quot;myLogo&quot;</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">ClassPathResource</span><span class="token punctuation">(</span><span class="token string">&quot;img/mylogo.gif&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210081302048.png" alt="image-20221008130248949"></p> <h2 id="å®šæ—¶ä»»åŠ¡"><a href="#å®šæ—¶ä»»åŠ¡" class="header-anchor">#</a> å®šæ—¶ä»»åŠ¡</h2> <ol><li>å¼€å¯å®šæ—¶åŠŸèƒ½ <code>@EnableScheduling</code> å¯ä»¥åŠ åˆ° Config ç±»ä¸Š</li> <li>åœ¨ Service çš„æ–¹æ³•ä¸Šä½¿ç”¨ <code>@Scheduled(cron = &quot;&quot;)</code> éœ€è¦ä½¿ç”¨ cron è¡¨è¾¾å¼</li></ol> <blockquote><p>cron è¡¨è¾¾å¼</p> <p>ç§’ åˆ† æ—¶ æ—¥ æœˆ å‘¨å‡ </p> <p>ä½¿ç”¨åœ¨çº¿è¡¨è¾¾å¼å·¥å…·</p></blockquote> <p>æ³¨æ„ï¼šåº”ç”¨å¼€å¯ä¹‹åï¼Œæ–¹æ³•çš„è®¡åˆ’ä»»åŠ¡å°±<strong>å·²ç»å¼€å§‹</strong>äº†ï¼Œä¸æ˜¯è¦å»è°ƒç”¨å®ƒæ‰ä¼šå¼€å§‹ã€‚</p> <p>å¦‚æœå†™åœ¨æµ‹è¯•ç±»ä¸­ç”±äºåº”ç”¨æ‰§è¡Œå®Œ <code>@Test</code> æ–¹æ³•å°±ä¼šç»“æŸæ‰€ä»¥æ²¡æ³•æµ‹è¯•ã€‚éœ€è¦æ·»åŠ  <a href="https://github.com/awaitility/awaitility" target="_blank" rel="noopener noreferrer">Awaitility<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a> ä¾èµ–ä½†æ˜¯æ²¡æœ‰å¿…è¦ï¼Œç›´æ¥å¯åŠ¨ web åº”ç”¨å°±è¡Œäº†ã€‚</p> <p>==TODOï¼šæ€ä¹ˆå»å¼€å¯ä¸åœç”¨==</p> <h2 id="å¤šä»»åŠ¡é¡¹ç›®ç»“æ„"><a href="#å¤šä»»åŠ¡é¡¹ç›®ç»“æ„" class="header-anchor">#</a> å¤šä»»åŠ¡é¡¹ç›®ç»“æ„</h2> <p>ä¸€ã€å°†å¼€å¯å¼‚æ­¥ã€å®šæ—¶ä»»åŠ¡çš„æ³¨è§£éƒ½æ”¾åˆ° Config ç±»ä¸Šã€‚</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Configuration</span>
<span class="token annotation punctuation">@EnableScheduling</span>
<span class="token annotation punctuation">@EnableAsync</span><span class="token punctuation">(</span>proxyTargetClass <span class="token operator">=</span> <span class="token boolean">true</span><span class="token punctuation">)</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">TaskConfig</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span>
</code></pre></div><p>è¿™æ ·åœ¨ Service å±‚å°±èƒ½ç›´æ¥ä½¿ç”¨ç›¸åº”æ³¨è§£ã€‚</p> <p>äºŒã€è®°å¾—è¦å£°æ˜ Service æ¥å£å†å»å®ç°ï¼Œ<code>@Autowired</code> è£…é…çš„æ˜¯å®ç°ç±»ã€‚</p> <p>ä¸‰ã€è¿è¡Œæµ‹è¯•ç±»è¦æœ‰ä¸»è¿è¡Œç±»</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootApplication</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">Main</span> <span class="token punctuation">{</span>
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token keyword">void</span> <span class="token function">main</span><span class="token punctuation">(</span><span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> args<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">SpringApplication</span><span class="token punctuation">.</span><span class="token function">run</span><span class="token punctuation">(</span><span class="token class-name">Main</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@SpringBootTest</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">SendMailTest</span> <span class="token punctuation">{</span>
    <span class="token annotation punctuation">@Test</span>
    <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="åˆ†å¸ƒå¼-dubbo-zookeeper"><a href="#åˆ†å¸ƒå¼-dubbo-zookeeper" class="header-anchor">#</a> åˆ†å¸ƒå¼ Dubbo / Zookeeper</h2> <h3 id="æ¦‚å¿µ-2"><a href="#æ¦‚å¿µ-2" class="header-anchor">#</a> æ¦‚å¿µ</h3> <blockquote><p>åˆ†å¸ƒå¼ç³»ç»Ÿæ˜¯è‹¥å¹²ç‹¬ç«‹è®¡ç®—æœºçš„é›†åˆï¼Œè¿™äº›è®¡ç®—æœºå¯¹äºç”¨æˆ·æ¥è¯´å°±åƒå•ä¸ªç›¸å…³ç³»ç»Ÿã€‚</p></blockquote> <p>æ¶æ„çš„å˜åŒ–ï¼š</p> <ul><li>å•ä¸€åº”ç”¨æ¶æ„ ORM</li> <li>å‚ç›´åº”ç”¨æ¶æ„ MVC</li> <li>åˆ†å¸ƒå¼æœåŠ¡æ¶æ„ RPCï¼šæŠ½å–æ ¸å¿ƒä¸šåŠ¡ï¼Œå½¢æˆæœåŠ¡ä¸­å¿ƒ</li> <li>æµåŠ¨è®¡ç®—æ¶æ„ SOAï¼šèµ„æºè°ƒåº¦å’Œæ²»ç†ä¸­å¿ƒ</li></ul> <p>RPCï¼ˆRemote Procedure Callï¼‰<strong>è¿œç¨‹è¿‡ç¨‹è°ƒç”¨</strong>ã€‚</p> <p>æ ¸å¿ƒæ¨¡å—ï¼šé€šè®¯ã€åºåˆ—åŒ–ã€‚</p> <blockquote><p>ä¸¤å°æœåŠ¡å™¨Aï¼ŒBï¼Œä¸€ä¸ªåº”ç”¨éƒ¨ç½²åœ¨AæœåŠ¡å™¨ä¸Šï¼Œæƒ³è¦è°ƒç”¨BæœåŠ¡å™¨ä¸Šåº”ç”¨æä¾›çš„å‡½æ•°/æ–¹æ³•ï¼Œç”±äºä¸åœ¨ä¸€ä¸ªå†…å­˜ç©ºé—´ï¼Œä¸èƒ½ç›´æ¥è°ƒç”¨ï¼Œéœ€è¦é€šè¿‡ç½‘ç»œæ¥è¡¨è¾¾è°ƒç”¨çš„è¯­ä¹‰å’Œä¼ è¾¾è°ƒç”¨çš„æ•°æ®ã€‚</p></blockquote> <p><img src="https://learn.microsoft.com/en-us/windows/win32/rpc/images/prog-a11.png" alt="rpc architecture"></p> <h3 id="dubbo"><a href="#dubbo" class="header-anchor">#</a> Dubbo</h3> <p><img src="https://dubbo.apache.org/imgs/architecture.png" alt="//imgs/architecture.png"></p> <table><thead><tr><th>èŠ‚ç‚¹</th> <th>è§’è‰²è¯´æ˜</th></tr></thead> <tbody><tr><td><code>Provider</code></td> <td>æš´éœ²æœåŠ¡çš„æœåŠ¡æä¾›æ–¹</td></tr> <tr><td><code>Consumer</code></td> <td>è°ƒç”¨è¿œç¨‹æœåŠ¡çš„æœåŠ¡æ¶ˆè´¹æ–¹</td></tr> <tr><td><code>Registry</code></td> <td>æœåŠ¡æ³¨å†Œä¸å‘ç°çš„æ³¨å†Œä¸­å¿ƒ</td></tr> <tr><td><code>Monitor</code></td> <td>ç»Ÿè®¡æœåŠ¡çš„è°ƒç”¨æ¬¡æ•°å’Œè°ƒç”¨æ—¶é—´çš„ç›‘æ§ä¸­å¿ƒ</td></tr> <tr><td><code>Container</code></td> <td>æœåŠ¡è¿è¡Œå®¹å™¨</td></tr></tbody></table> <p><strong>éœ€è¦å®‰è£… zookeeper æ¥æä¾›æœåŠ¡çš„æ³¨å†Œä¸å‘ç°ã€‚</strong></p> <blockquote><p>å®ç°æœåŠ¡å‘ç°çš„æ–¹å¼æœ‰å¾ˆå¤šç§ï¼ŒDubbo æä¾›çš„æ˜¯ä¸€ç§ Client-Based çš„æœåŠ¡å‘ç°æœºåˆ¶ï¼Œé€šå¸¸è¿˜éœ€è¦éƒ¨ç½²é¢å¤–çš„ç¬¬ä¸‰æ–¹æ³¨å†Œä¸­å¿ƒç»„ä»¶æ¥åè°ƒæœåŠ¡å‘ç°è¿‡ç¨‹ï¼Œå¦‚å¸¸ç”¨çš„ Nacosã€Consulã€Zookeeper ç­‰</p></blockquote> <p>zookeeper æ˜¯æœåŠ¡ç«¯ï¼ŒJava ç¨‹åºæ˜¯å®¢æˆ·ç«¯ã€‚</p> <p>è¿˜å¯ä»¥ä½¿ç”¨ dubbo-admin æ¥å¯è§†åŒ–ç®¡ç†æœåŠ¡ã€‚</p> <h3 id="é¡¹ç›®æµ‹è¯•"><a href="#é¡¹ç›®æµ‹è¯•" class="header-anchor">#</a> é¡¹ç›®æµ‹è¯•</h3> <p><a href="https://dubbo.apache.org/zh/docs3-v2/java-sdk/reference-manual/config/annotation/" target="_blank" rel="noopener noreferrer">Annotation é…ç½® | Apache Dubbo<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <p>å‚è€ƒå®˜æ–¹æ–‡æ¡£å’Œé¡¹ç›®è¿›è¡Œé…ç½®ã€‚</p> <p><strong>consumer å’Œ provider è¦æœ‰ç›¸åŒçš„åŒ…ç»“æ„ï¼Œç„¶å provider ä½œä¸ºä¾èµ–è¢«å¼•ç”¨</strong></p> <blockquote><p>æŠ¥é”™ï¼š@Service interfaceClass() or interfaceName() or interface class must be present</p> <p>åŸå› ï¼š@DubboService ä¿®é¥°çš„ç±»å¿…é¡»æ˜¯å®ç°æ¥å£çš„å½¢å¼ã€‚</p> <p>äºæ˜¯çˆ¶é¡¹ç›®æœ€å¥½è¦æœ‰ä¸‰ä¸ªæ¨¡å—ï¼š</p> <ul><li>interface</li> <li>provider</li> <li>consumer</li></ul></blockquote> <p><code>@DubboService</code> æ³¨è§£åº”ç”¨äº provider çš„æœåŠ¡ç±»ä¸Šï¼Œå¹¶ä¸”å¿…é¡»æ˜¯ä¸€ä¸ªæœåŠ¡æ¥å£çš„<strong>å®ç°ç±»</strong>ã€‚</p> <p><code>@EnableDubbo</code> è¦åŠ åœ¨ provider å’Œ consumer çš„å¯åŠ¨ç±»ä¸Šã€‚</p> <p><code>@DubboReference</code> æ³¨è§£åˆ™æ˜¯ä½¿ç”¨åœ¨ consumer æ¨¡å—ä¸­ï¼Œ<strong>åœ¨é™æ€æ–¹æ³•ä¸­ä½¿ç”¨æ—¶éœ€è¦ä»å®¹å™¨ä¸­å–</strong>ã€‚</p> <p>çˆ¶é¡¹ç›®ä¾èµ–ï¼š</p> <p>âœ… <code>&lt;dependencyManagement&gt;</code> çš„ä½œç”¨å°±æ˜¯ç»Ÿä¸€ç®¡ç†å­æ¨¡å—ä¾èµ–ç‰ˆæœ¬ã€‚</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>properties</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.source</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maven.compiler.target</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring.version</span><span class="token punctuation">&gt;</span></span>4.3.16.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dubbo.version</span><span class="token punctuation">&gt;</span></span>3.0.7<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dubbo.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>junit.version</span><span class="token punctuation">&gt;</span></span>4.13.1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>junit.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>slf4j-log4j12.version</span><span class="token punctuation">&gt;</span></span>1.7.25<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>slf4j-log4j12.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-boot.version</span><span class="token punctuation">&gt;</span></span>2.3.1.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-boot.version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>spring-boot-maven-plugin.version</span><span class="token punctuation">&gt;</span></span>2.1.4.RELEASE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>spring-boot-maven-plugin.version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>properties</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
        <span class="token comment">&lt;!-- Spring Boot --&gt;</span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-dependencies<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${spring-boot.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.dubbo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>dubbo-bom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${dubbo.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>import<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.dubbo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>dubbo-dependencies-zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${dubbo.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${junit.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencyManagement</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-log4j12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>${slf4j-log4j12.version}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>junit<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>å­æ¨¡å—ä¾èµ–ï¼š</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependencies</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- dubbo --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.dubbo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>dubbo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.dubbo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>dubbo-dependencies-zookeeper<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>type</span><span class="token punctuation">&gt;</span></span>pom<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>type</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- dubbo starter --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.apache.dubbo<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>dubbo-spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- spring starter --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-starter<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.springframework.boot<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>spring-boot-autoconfigure<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependencies</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><strong>å…³äº zookeeper</strong></p> <p>å®˜æ–¹ç¤ºä¾‹é¡¹ç›®ä¸­ä½¿ç”¨äº†ä¸€ä¸ªå†…ç½®çš„ zookeeperã€‚</p> <p>åœ¨æˆ‘æµ‹è¯•çš„æ—¶å€™ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨ docker å®¹å™¨ã€‚<a href="https://hub.docker.com/_/zookeeper" target="_blank" rel="noopener noreferrer">zookeeper - Official Image | Docker Hub<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></p> <div class="language-bash extra-class"><pre class="language-bash"><code>$ <span class="token function">docker</span> run <span class="token parameter variable">--name</span> some-zookeeper <span class="token parameter variable">--restart</span> always <span class="token parameter variable">-d</span> zookeeper
</code></pre></div><p>ä¼šè‡ªåŠ¨æš´éœ² 2181 ç«¯å£ï¼Œå¾ˆæ–¹ä¾¿ã€‚</p> <h4 id="æ€»ç»“-2"><a href="#æ€»ç»“-2" class="header-anchor">#</a> æ€»ç»“</h4> <ol><li>ä½¿ç”¨ Docker å¯åŠ¨ zookeeper å®¹å™¨æŒ‚åœ¨åå°ã€‚</li> <li>ä»”ç»†é…ç½®å¥½çˆ¶é¡¹ç›®å’Œå­æ¨¡å—çš„ä¾èµ–</li> <li>å­æ¨¡å—çš„é…ç½®æ–‡ä»¶ <code>application.yml</code></li> <li>ä½¿ç”¨ <code>@DubboService</code> ã€ <code>@DubboReference</code> ã€ <code>EnableDubbo</code> ç­‰æ³¨è§£ã€‚</li> <li>ä¾æ¬¡å¯åŠ¨ provider ç±»å’Œ consumer ç±»ã€‚</li></ol> <h3 id="å‚è€ƒ-2"><a href="#å‚è€ƒ-2" class="header-anchor">#</a> å‚è€ƒ</h3> <ul><li><a href="https://gitee.com/fenggbinn/shiro_kuang" target="_blank" rel="noopener noreferrer">shiro_kuang: åˆ†äº«ç¬¬ä¸€æ¬¡å­¦ä¹ shiroï¼Œæ•´åˆspringbootï¼Œåœ¨ideaä¸­ã€‚ å­¦ä¹ è§†é¢‘æ¥æºï¼ˆç‹‚ç¥è¯´Javaï¼‰ (gitee.com)<span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/8/2022, 2:56:58 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/NovaBlog/Java/SpringBoot/springboot-05.html" class="prev">
        springboot-05
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/NovaBlog/assets/js/app.7283b6f5.js" defer></script><script src="/NovaBlog/assets/js/2.6539ea43.js" defer></script><script src="/NovaBlog/assets/js/20.adc0ad6e.js" defer></script>
  </body>
</html>
