# åšå®¢æ­å»º



## GitHub Pages

é™æ€é¡µé¢å¦‚æ­¤ç®€å•ï¼š

1. åˆ›å»ºé¡¹ç›®
2. æ ¹ç›®å½•æ–°å»º `index.html`
3. è¿›å…¥é¡¹ç›®è®¾ç½®é¡µé¢çš„ *Pages* é€‰é¡¹é¡µé¢
4. è®¾ç½® Source  å’Œ Branch
   æ³¨æ„ï¼šé€‰æ‹© Branch çš„æ—¶å€™ï¼Œæºæ–‡ä»¶çš„è·¯å¾„åªèƒ½æ˜¯ `/` æˆ– `/docs`
5. è®¿é—® `https://[your-name].github.io/[repo-name]`





å…³äºè®¾ç½®é¡µé¢ä¸Šæåˆ°çš„ `Jekyll`ï¼š

æˆ‘ä¹‹å‰çš„åšå®¢ä½¿ç”¨çš„ `hexo` å°±æ˜¯åœ¨æœ¬åœ°ç¼–è¯‘åå°† `public` ç›®å½•ä¸‹çš„é™æ€é¡µé¢å‘å¸ƒåˆ°è¿œç¨‹ä»“åº“å¹¶ç”± GitHub Pages æ‰˜ç®¡ã€‚

`Jekyll` å’Œ `hexo` åœ¨æœ¬è´¨ä¸Šéƒ½æ˜¯é™æ€æ–‡æ¡£ç”Ÿæˆå™¨ã€‚

ä¹Ÿå¯ä»¥ç›´æ¥å°† `vuepress` ç¼–è¯‘åçš„æ–‡ä»¶æ”¾åˆ°ä»“åº“ä¸­ï¼ŒğŸŸ ä½†æ˜¯ä¸€å®šè¦è®¾ç½® `config.js` ä¸­çš„ `base` ç½‘å€ã€‚å¯ä»¥ç¼–å†™ä¸€ä¸ª `deploy.sh` ç„¶åæ¯æ¬¡è¿è¡Œï¼Œåœ¨æœ¬åœ°ç¼–è¯‘åæ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚



âœ…å¯ä»¥è®¾ç½® GitHub Pages ä½¿ç”¨åˆ†æ”¯ä¸­çš„æºæ–‡ä»¶ï¼Œä¾¿äºå†…å®¹ç®¡ç†å’Œç‰ˆæœ¬æ§åˆ¶ã€‚

> ä¸€äº›ä½¿ç”¨ github åˆ†æ”¯çš„å‘½ä»¤

```bash
# è¿æ¥ä¸€ä¸ªæ–°å»ºçš„ç©ºé¡¹ç›®
git remote add origin git@github.com:Nova-mist/xxxx.git
git branch -M main
git push -u origin main # -u è®¾ç½®æ¨é€æµ ä»¥å git push é»˜è®¤æ¨é€æ­¤æµ

git checkout -b "new branch"

git diff
git add.
git status
git commit -m ""

git push origin "new branch"
```





## GitHub Actions

gh-pages å…¶å®ä¹Ÿæ˜¯ä¸€ä¸ª gh-action

æˆ‘æ„Ÿè§‰ç‰¹åˆ«åƒ Dockerã€‚



### æ„å»º vuepress

1. åˆ›å»ºä¸€ä¸ª GitHub Actionsï¼Œå…·ä½“å†…å®¹è§ä¸‹ã€‚
2. å°†æ–‡ç« ä¿®æ”¹æ¨é€åˆ°è¿œç¨‹ä»“åº“ `main` åˆ†æ”¯æ—¶ï¼ŒGitHub Actions ä¼šè‡ªåŠ¨æ„å»ºæ–°çš„é™æ€é¡µé¢ç„¶åæ¨é€åˆ° `gh-pages` åˆ†æ”¯ã€‚
3. è®¾ç½® GitHub Pages æ‰˜ç®¡ `gh-pages` 

`vuepress-deploy.yml`

```yaml
name: Build and Deploy
on: [push]
jobs:
  build-and-deploy:
    runs-on: ubuntu-latest
    steps:
    - name: Checkout
      uses: actions/checkout@master

    - name: vuepress-deploy
      uses: jenkey2011/vuepress-deploy@master
      env:
        ACCESS_TOKEN: ${{  secrets.ACCESS_TOKEN  }}
        BUILD_SCRIPT: yarn && yarn docs:build
        BUILD_DIR: docs/.vuepress/dist

```

ä½¿ç”¨ `secrets.ACCESS_TOKEN` ä¹‹å‰éœ€è¦åšçš„æ­¥éª¤ï¼š

1. è·å– *Personal access token*
2. åœ¨è¯¥ä»“åº“è®¾ç½®é¡µé¢çš„ *Secrets* é€‰é¡¹ï¼Œåˆ›å»ºä¸€ä¸ª `ACCESS_TOKEN` å€¼ï¼Œè¿™æ · Actions å°±å¯ä»¥è·å–åˆ°ã€‚

å‚è€ƒï¼š

1. [éƒ¨ç½² | VuePress (vuejs.org)](https://vuepress.vuejs.org/zh/guide/deploy.html#github-pages)
2. [jenkey2011/vuepress-deploy: A GitHub Action to build and deploy Vuepress sites to GitHub Pages](https://github.com/jenkey2011/vuepress-deploy/)