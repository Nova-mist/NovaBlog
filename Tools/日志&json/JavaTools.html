<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>JSON | Nova Blog</title>
    <meta name="generator" content="VuePress 1.9.7">
    
    <meta name="description" content="æˆ‘é‚£æ‘Šå¤§é¥¼ä¸€æ ·çš„é›¶æ•£å­¦ä¹ ç¬”è®°">
    
    <link rel="preload" href="/NovaBlog/assets/css/0.styles.26d8bde2.css" as="style"><link rel="preload" href="/NovaBlog/assets/js/app.7283b6f5.js" as="script"><link rel="preload" href="/NovaBlog/assets/js/2.6539ea43.js" as="script"><link rel="preload" href="/NovaBlog/assets/js/36.44753080.js" as="script"><link rel="prefetch" href="/NovaBlog/assets/js/10.681f19e7.js"><link rel="prefetch" href="/NovaBlog/assets/js/11.adb3fca2.js"><link rel="prefetch" href="/NovaBlog/assets/js/12.e509a0f8.js"><link rel="prefetch" href="/NovaBlog/assets/js/13.0ace9699.js"><link rel="prefetch" href="/NovaBlog/assets/js/14.f11331b6.js"><link rel="prefetch" href="/NovaBlog/assets/js/15.c3fe2b37.js"><link rel="prefetch" href="/NovaBlog/assets/js/16.76473f3a.js"><link rel="prefetch" href="/NovaBlog/assets/js/17.1e6e96a7.js"><link rel="prefetch" href="/NovaBlog/assets/js/18.de0f476b.js"><link rel="prefetch" href="/NovaBlog/assets/js/19.464c0b71.js"><link rel="prefetch" href="/NovaBlog/assets/js/20.adc0ad6e.js"><link rel="prefetch" href="/NovaBlog/assets/js/21.a75102d0.js"><link rel="prefetch" href="/NovaBlog/assets/js/22.409ca266.js"><link rel="prefetch" href="/NovaBlog/assets/js/23.4b83f159.js"><link rel="prefetch" href="/NovaBlog/assets/js/24.b80958e2.js"><link rel="prefetch" href="/NovaBlog/assets/js/25.bbdd2bef.js"><link rel="prefetch" href="/NovaBlog/assets/js/26.0ed31014.js"><link rel="prefetch" href="/NovaBlog/assets/js/27.80bd39a6.js"><link rel="prefetch" href="/NovaBlog/assets/js/28.2772d3d5.js"><link rel="prefetch" href="/NovaBlog/assets/js/29.d14c59ce.js"><link rel="prefetch" href="/NovaBlog/assets/js/3.672c28f4.js"><link rel="prefetch" href="/NovaBlog/assets/js/30.3edde461.js"><link rel="prefetch" href="/NovaBlog/assets/js/31.da8777c1.js"><link rel="prefetch" href="/NovaBlog/assets/js/32.fa19d459.js"><link rel="prefetch" href="/NovaBlog/assets/js/33.2d3adc2b.js"><link rel="prefetch" href="/NovaBlog/assets/js/34.35850d01.js"><link rel="prefetch" href="/NovaBlog/assets/js/35.b14e62bb.js"><link rel="prefetch" href="/NovaBlog/assets/js/37.8d2088d4.js"><link rel="prefetch" href="/NovaBlog/assets/js/38.4366f780.js"><link rel="prefetch" href="/NovaBlog/assets/js/39.c9f5137d.js"><link rel="prefetch" href="/NovaBlog/assets/js/4.854c56f8.js"><link rel="prefetch" href="/NovaBlog/assets/js/40.68c696f4.js"><link rel="prefetch" href="/NovaBlog/assets/js/41.7190c7b3.js"><link rel="prefetch" href="/NovaBlog/assets/js/42.7710aff4.js"><link rel="prefetch" href="/NovaBlog/assets/js/43.9f513289.js"><link rel="prefetch" href="/NovaBlog/assets/js/44.493f11ea.js"><link rel="prefetch" href="/NovaBlog/assets/js/45.66cd96d8.js"><link rel="prefetch" href="/NovaBlog/assets/js/46.f5e4e401.js"><link rel="prefetch" href="/NovaBlog/assets/js/47.c2f3caf8.js"><link rel="prefetch" href="/NovaBlog/assets/js/48.74afa3cf.js"><link rel="prefetch" href="/NovaBlog/assets/js/49.ea737da6.js"><link rel="prefetch" href="/NovaBlog/assets/js/5.f7ccee55.js"><link rel="prefetch" href="/NovaBlog/assets/js/50.3eca0141.js"><link rel="prefetch" href="/NovaBlog/assets/js/51.949ffca7.js"><link rel="prefetch" href="/NovaBlog/assets/js/52.d007ce86.js"><link rel="prefetch" href="/NovaBlog/assets/js/53.252a0d24.js"><link rel="prefetch" href="/NovaBlog/assets/js/54.97c86c53.js"><link rel="prefetch" href="/NovaBlog/assets/js/55.4577ea3a.js"><link rel="prefetch" href="/NovaBlog/assets/js/56.085a6c0d.js"><link rel="prefetch" href="/NovaBlog/assets/js/57.6804712d.js"><link rel="prefetch" href="/NovaBlog/assets/js/58.559b3cac.js"><link rel="prefetch" href="/NovaBlog/assets/js/59.48650730.js"><link rel="prefetch" href="/NovaBlog/assets/js/6.14027d31.js"><link rel="prefetch" href="/NovaBlog/assets/js/60.e53abbd4.js"><link rel="prefetch" href="/NovaBlog/assets/js/61.53d32451.js"><link rel="prefetch" href="/NovaBlog/assets/js/62.f93973c5.js"><link rel="prefetch" href="/NovaBlog/assets/js/63.9dd5b9b3.js"><link rel="prefetch" href="/NovaBlog/assets/js/64.4a1ac6da.js"><link rel="prefetch" href="/NovaBlog/assets/js/65.84f958d2.js"><link rel="prefetch" href="/NovaBlog/assets/js/66.38972cd8.js"><link rel="prefetch" href="/NovaBlog/assets/js/67.97df1d7d.js"><link rel="prefetch" href="/NovaBlog/assets/js/68.f78ccdc1.js"><link rel="prefetch" href="/NovaBlog/assets/js/69.9d476a9c.js"><link rel="prefetch" href="/NovaBlog/assets/js/7.5c5bd089.js"><link rel="prefetch" href="/NovaBlog/assets/js/70.28382d01.js"><link rel="prefetch" href="/NovaBlog/assets/js/71.4a4fdf3a.js"><link rel="prefetch" href="/NovaBlog/assets/js/72.646ad1ce.js"><link rel="prefetch" href="/NovaBlog/assets/js/73.2f2ebeb1.js"><link rel="prefetch" href="/NovaBlog/assets/js/74.22b83718.js"><link rel="prefetch" href="/NovaBlog/assets/js/75.50e2585a.js"><link rel="prefetch" href="/NovaBlog/assets/js/76.998e5fbe.js"><link rel="prefetch" href="/NovaBlog/assets/js/77.e805e4a0.js"><link rel="prefetch" href="/NovaBlog/assets/js/8.f20fe421.js"><link rel="prefetch" href="/NovaBlog/assets/js/9.749c610b.js">
    <link rel="stylesheet" href="/NovaBlog/assets/css/0.styles.26d8bde2.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/NovaBlog/" class="home-link router-link-active"><!----> <span class="site-name">Nova Blog</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/NovaBlog/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/SpringBoot/" class="nav-link">
  Spring Boot
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/SpringMVC/" class="nav-link">
  Spring MVC
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/åŸºç¡€/" class="nav-link">
  åŸºç¡€
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tools" class="mobile-dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/æ¥å£/" class="nav-link">
  æ¥å£
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/" class="nav-link">
  æ—¥å¿—&amp;json
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/éƒ¨ç½²/" class="nav-link">
  éƒ¨ç½²
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web" class="dropdown-title"><span class="title">web</span> <span class="arrow down"></span></button> <button type="button" aria-label="web" class="mobile-dropdown-title"><span class="title">web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/web/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/åŸºç¡€/" class="nav-link">
  åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/çŠ¶æ€ç®¡ç†/" class="nav-link">
  çŠ¶æ€ç®¡ç†
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/ç»„ä»¶åº“/" class="nav-link">
  ç»„ä»¶åº“
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/è·¯ç”±/" class="nav-link">
  è·¯ç”±
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸­é—´ä»¶" class="mobile-dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/ä¸­é—´ä»¶/ELK/" class="nav-link">
  ELK
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ•°æ®åº“" class="mobile-dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/æ•°æ®åº“/MySQL/" class="nav-link">
  My SQL
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/æ•°æ®åº“/Redis/" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•" class="dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç®—æ³•" class="mobile-dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/å…¶ä»–/" class="nav-link">
  å…¶ä»–
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/åŠ¨è§„/" class="nav-link">
  åŠ¨è§„
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/è´ªå¿ƒ/" class="nav-link">
  è´ªå¿ƒ
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/é“¾è¡¨äºŒå‰æ ‘/" class="nav-link">
  é“¾è¡¨äºŒå‰æ ‘
</a></li></ul></div></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/NovaBlog/" class="nav-link">
  Home
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Java" class="dropdown-title"><span class="title">Java</span> <span class="arrow down"></span></button> <button type="button" aria-label="Java" class="mobile-dropdown-title"><span class="title">Java</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/Mybatis/" class="nav-link">
  Mybatis
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/Spring/" class="nav-link">
  Spring
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/SpringBoot/" class="nav-link">
  Spring Boot
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/SpringMVC/" class="nav-link">
  Spring MVC
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Java/åŸºç¡€/" class="nav-link">
  åŸºç¡€
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Tools" class="dropdown-title"><span class="title">Tools</span> <span class="arrow down"></span></button> <button type="button" aria-label="Tools" class="mobile-dropdown-title"><span class="title">Tools</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/Git/" class="nav-link">
  Git
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/æ¥å£/" class="nav-link">
  æ¥å£
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/" class="nav-link">
  æ—¥å¿—&amp;json
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/Tools/éƒ¨ç½²/" class="nav-link">
  éƒ¨ç½²
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="web" class="dropdown-title"><span class="title">web</span> <span class="arrow down"></span></button> <button type="button" aria-label="web" class="mobile-dropdown-title"><span class="title">web</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/web/vue/" class="nav-link">
  Vue
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/åŸºç¡€/" class="nav-link">
  åŸºç¡€
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/çŠ¶æ€ç®¡ç†/" class="nav-link">
  çŠ¶æ€ç®¡ç†
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/ç»„ä»¶åº“/" class="nav-link">
  ç»„ä»¶åº“
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/web/è·¯ç”±/" class="nav-link">
  è·¯ç”±
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ä¸­é—´ä»¶" class="dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow down"></span></button> <button type="button" aria-label="ä¸­é—´ä»¶" class="mobile-dropdown-title"><span class="title">ä¸­é—´ä»¶</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/ä¸­é—´ä»¶/ELK/" class="nav-link">
  ELK
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="æ•°æ®åº“" class="dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow down"></span></button> <button type="button" aria-label="æ•°æ®åº“" class="mobile-dropdown-title"><span class="title">æ•°æ®åº“</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/æ•°æ®åº“/MySQL/" class="nav-link">
  My SQL
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/æ•°æ®åº“/Redis/" class="nav-link">
  Redis
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="ç®—æ³•" class="dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow down"></span></button> <button type="button" aria-label="ç®—æ³•" class="mobile-dropdown-title"><span class="title">ç®—æ³•</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/å…¶ä»–/" class="nav-link">
  å…¶ä»–
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/åŠ¨è§„/" class="nav-link">
  åŠ¨è§„
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/è´ªå¿ƒ/" class="nav-link">
  è´ªå¿ƒ
</a></li><li class="dropdown-item"><!----> <a href="/NovaBlog/ç®—æ³•/é“¾è¡¨äºŒå‰æ ‘/" class="nav-link">
  é“¾è¡¨äºŒå‰æ ‘
</a></li></ul></div></div><div class="nav-item"><a href="https://google.com" target="_blank" rel="noopener noreferrer" class="nav-link external">
  External
  <span><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg> <span class="sr-only">(opens new window)</span></span></a></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>æ—¥å¿—&amp;json</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/NovaBlog/Tools/%E6%97%A5%E5%BF%97&amp;json/" aria-current="page" class="sidebar-link">åˆ—è¡¨</a></li><li><a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/JavaTools.html" class="active sidebar-link">JSON</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/JavaTools.html#json" class="sidebar-link">JSON</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/JavaTools.html#fastjson" class="sidebar-link">FastJson</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/JavaTools.html#jackson" class="sidebar-link">JackSon</a></li></ul></li><li class="sidebar-sub-header"><a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/JavaTools.html#logger" class="sidebar-link">Logger</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/JavaTools.html#æ¦‚è¿°" class="sidebar-link">æ¦‚è¿°</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/JavaTools.html#jul" class="sidebar-link">Jul</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/JavaTools.html#log4j" class="sidebar-link">Log4j</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/JavaTools.html#jcl" class="sidebar-link">Jcl</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/JavaTools.html#slf4j-logback" class="sidebar-link">slf4j + logback</a></li><li class="sidebar-sub-header"><a href="/NovaBlog/Tools/æ—¥å¿—&amp;json/JavaTools.html#æ—¥å¿—ä¹‹é—´åˆ‡æ¢" class="sidebar-link">æ—¥å¿—ä¹‹é—´åˆ‡æ¢</a></li></ul></li></ul></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="json"><a href="#json" class="header-anchor">#</a> JSON</h2> <p>å¸¸ç”¨çš„åº“ï¼š</p> <ul><li>fastjson</li> <li>jaskson</li> <li>gson</li></ul> <p>å°† Java å¯¹è±¡è½¬æ¢æˆ json æ ¼å¼ä¹Ÿæ˜¯<strong>åºåˆ—åŒ–æ“ä½œ</strong>ã€‚</p> <blockquote><p>åºåˆ—åŒ–ï¼šå°† beanã€ampã€collection ç­‰è½¬ä¸º json å­—ç¬¦ä¸²ã€‚</p></blockquote> <h3 id="fastjson"><a href="#fastjson" class="header-anchor">#</a> FastJson</h3> <h4 id="åºåˆ—åŒ–"><a href="#åºåˆ—åŒ–" class="header-anchor">#</a> åºåˆ—åŒ–</h4> <ul><li>ç©ºå€¼åºåˆ—åŒ–</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// Nullä¹Ÿä¼šåºåˆ—åŒ–</span>
<span class="token class-name">String</span> person <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>person<span class="token punctuation">,</span> <span class="token class-name">SerializerFeature<span class="token punctuation">.</span>WriteMapNullValue</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>æ—¥æœŸæ ¼å¼å¤„ç†</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// åœ¨å®ä½“ç±»çš„æ—¶é—´å±æ€§ä¸Šä½¿ç”¨@JSONFieldæ³¨è§£</span>

<span class="token annotation punctuation">@JSONField</span><span class="token punctuation">(</span>format <span class="token operator">=</span> <span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Date</span> registerDate<span class="token punctuation">;</span>
<span class="token annotation punctuation">@JSONField</span><span class="token punctuation">(</span>format <span class="token operator">=</span> <span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> birthDay<span class="token punctuation">;</span>
</code></pre></div><ul><li>å¼•ç”¨æ¢æµ‹ï¼Œåœ¨åºåˆ—åŒ–å«æœ‰å¤šä¸ªç›¸åŒ item çš„é›†åˆæ—¶ä¼šç”¨ <code>$ref</code> è¡¨ç¤ºé‡å¤é¡¹ï¼Œä»¥èŠ‚çœç©ºé—´ã€‚
<strong>ç¦ç”¨å¼•ç”¨æ¢æµ‹</strong></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>list<span class="token punctuation">,</span> <span class="token class-name">SerializerFeature<span class="token punctuation">.</span>DisableCircularReferenceDetect</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>å®šåˆ¶ json æ ¼å¼ï¼Œä½¿ç”¨ SerializeFilter è®¾ç½®ã€‚</p> <p>âœ…ä¾‹å­ï¼škey å€¼å¤§å†™</p></li></ul> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210100020491.png" alt="image-20221010002021055"></p> <h4 id="ååºåˆ—åŒ–"><a href="#ååºåˆ—åŒ–" class="header-anchor">#</a> ååºåˆ—åŒ–</h4> <ul><li>é»˜è®¤å¿½ç•¥ç±»ä¸­ä¸å­˜åœ¨çš„å±æ€§</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Person</span> person <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">,</span> <span class="token class-name">Person</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>ğŸŸ¢å¤„ç†æ³›å‹ã€‚åœ¨ååºåˆ—åŒ–åå¯ä»¥è‡ªåŠ¨è·å–åˆ°æ³›å‹ç±»å‹ï¼Œä¸éœ€è¦å¼ºåˆ¶è½¬æ¢ç±»å‹ã€‚</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// ResultVO</span>
<span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResultVO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
	<span class="token keyword">private</span> <span class="token class-name">Boolean</span> success <span class="token operator">=</span> <span class="token class-name">Boolean</span><span class="token punctuation">.</span><span class="token constant">TRUE</span><span class="token punctuation">;</span>
	<span class="token keyword">private</span> <span class="token class-name">T</span> data<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">ResultVO</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
    
    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">ResultVO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">buildSuccess</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ResultVO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> resultVO <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResultVO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resultVO<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> resultVO<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ResultVO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> personResultVO <span class="token operator">=</span> <span class="token class-name">ResultVO</span><span class="token punctuation">.</span><span class="token function">buildSuccess</span><span class="token punctuation">(</span>person<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åºåˆ—åŒ–</span>
<span class="token class-name">String</span> voJsonStr <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">toJSONString</span><span class="token punctuation">(</span>personResultVO<span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// ä¼ å…¥ååºåˆ—åŒ–çš„ç±»å‹</span>
<span class="token class-name">ResultVO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span></span> deSerializedVO <span class="token operator">=</span> <span class="token constant">JSON</span><span class="token punctuation">.</span><span class="token function">parseObject</span><span class="token punctuation">(</span>voJsonStr<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">TypeReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResultVO</span><span class="token punctuation">&lt;</span><span class="token class-name">Person</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span><span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// è·å–å¯¹è±¡ ä¸éœ€è¦å¼ºåˆ¶ç±»å‹è½¬æ¢</span>
<span class="token class-name">Person</span> data <span class="token operator">=</span> deSerializedVO<span class="token punctuation">.</span><span class="token function">getData</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="é€šç”¨é…ç½®"><a href="#é€šç”¨é…ç½®" class="header-anchor">#</a> é€šç”¨é…ç½®</h4> <ul><li><p>ç¾åŒ–è¾“å‡º <code>prettyFormat = true</code></p></li> <li></li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@JSONField</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;address&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> addr<span class="token punctuation">;</span>
</code></pre></div><ul><li>å¿½ç•¥æŒ‡å®šå±æ€§ï¼ˆä¸å‚ä¸åºåˆ—åŒ–ä¸ååºåˆ—åŒ–ï¼‰</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@JSONField</span><span class="token punctuation">(</span>name <span class="token operator">=</span> <span class="token string">&quot;password&quot;</span><span class="token punctuation">,</span> serialize <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">,</span> deserialize <span class="token operator">=</span> <span class="token boolean">false</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> pwd<span class="token punctuation">;</span>
</code></pre></div><h3 id="jackson"><a href="#jackson" class="header-anchor">#</a> JackSon</h3> <p>jsr319 å¤„ç† jdk 8æ—¶é—´æ—¥æœŸ api</p> <p><strong>å®‰è£…ä¾èµ–</strong></p> <p>éœ€è¦ä½¿ç”¨ <code>jackson-datatype-jsr310</code> æ¨¡å—æ¥å¤„ç† Java8 çš„æ—¶é—´æ—¥æœŸç±»å‹ï¼Œä¾‹å¦‚ LocalDateã€‚</p> <p>ä½¿ç”¨å‰è¦æ³¨å†Œæ¨¡å—ã€‚</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.core/jackson-databind --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.core<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-databind<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.13.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- jsr310 --&gt;</span>
<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/com.fasterxml.jackson.datatype/jackson-datatype-jsr310 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.fasterxml.jackson.datatype<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>jackson-datatype-jsr310<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.13.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h4 id="åºåˆ—åŒ–-2"><a href="#åºåˆ—åŒ–-2" class="header-anchor">#</a> åºåˆ—åŒ–</h4> <p>ObjectMapper çº¿ç¨‹å®‰å…¨ã€‚</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">ObjectMapper</span> objectMapper <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ObjectMapper</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">DATE_TIME_FORMAT</span> <span class="token operator">=</span> <span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">;</span>

<span class="token comment">// å…¨å±€é…ç½®</span>
<span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token comment">// ä¸æ˜¾ç¤ºç©ºå€¼</span>
    <span class="token comment">// objectMapper.setSerializationInclusion(JsonInclude.Include.NON_NULL);</span>
    
    <span class="token comment">// ç¾åŒ–è¾“å‡º</span>
    <span class="token comment">// objectMapper.configure(SerializationFeature.INDENT_OUTPUT, true);</span>
    
    <span class="token comment">// è‡ªåŠ¨æ³¨å†Œmodules</span>
    objectMapper<span class="token punctuation">.</span><span class="token function">findAndRegisterModules</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token class-name">String</span> jsonStr <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li><p>é»˜è®¤æ˜¾ç¤ºç©ºå€¼ï¼Œå¦‚éœ€ä¸æ˜¾ç¤ºè¦æ˜¾å¼è®¾ç½®</p></li> <li><p>æ—¶é—´æ—¥æœŸæ ¼å¼åŒ–</p> <ul><li><p>å±€éƒ¨è®¾ç½®ï¼šé€šè¿‡ <code>@JsonFormat</code> æ³¨è§£</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>pattern <span class="token operator">=</span> <span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">,</span> timezone <span class="token operator">=</span> <span class="token string">&quot;GMT+8&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">Date</span> birth<span class="token punctuation">;</span>
<span class="token annotation punctuation">@JsonFormat</span><span class="token punctuation">(</span>pattern <span class="token operator">=</span> <span class="token string">&quot;yyyy-MM-dd HH:mm:ss&quot;</span><span class="token punctuation">,</span> timezone <span class="token operator">=</span> <span class="token string">&quot;GMT+8&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">LocalDateTime</span> registrationDate<span class="token punctuation">;</span>
</code></pre></div></li> <li><p>å…¨å±€è®¾ç½®</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token comment">// Dateæ ¼å¼</span>
    <span class="token comment">// ä½†æ˜¯SimpleDateFormatçº¿ç¨‹ä¸å®‰å…¨ä¼šä¼ é€’ç»™ObjectMapper</span>
    objectMapper<span class="token punctuation">.</span><span class="token function">setDateFormat</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">SimpleDateFormat</span><span class="token punctuation">(</span><span class="token constant">DATE_TIME_FORMAT</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token comment">// LocalDateTimeæ ¼å¼</span>
    <span class="token class-name">JavaTimeModule</span> javaTimeModule <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">JavaTimeModule</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    javaTimeModule<span class="token punctuation">.</span><span class="token function">addSerializer</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LocalDateTimeSerializer</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token constant">DATE_TIME_FORMAT</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    javaTimeModule<span class="token punctuation">.</span><span class="token function">addDeserializer</span><span class="token punctuation">(</span><span class="token class-name">LocalDateTime</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">LocalDateTimeDeserializer</span><span class="token punctuation">(</span><span class="token class-name">DateTimeFormatter</span><span class="token punctuation">.</span><span class="token function">ofPattern</span><span class="token punctuation">(</span><span class="token constant">DATE_TIME_FORMAT</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

    objectMapper<span class="token punctuation">.</span><span class="token function">registerModule</span><span class="token punctuation">(</span>javaTimeModule<span class="token punctuation">)</span>   
<span class="token punctuation">}</span>
</code></pre></div></li></ul></li></ul> <h4 id="ååºåˆ—åŒ–-2"><a href="#ååºåˆ—åŒ–-2" class="header-anchor">#</a> ååºåˆ—åŒ–</h4> <p>ååºåˆ—åŒ–çš„ LocalDateTime ç­‰ <strong>Java8 çš„æ—¶é—´æ—¥æœŸç±»å‹</strong>ä¹Ÿè¦è®¾ç½® javaTimeModuleã€‚</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// ååºåˆ—åŒ–é…ç½®</span>
<span class="token keyword">static</span> <span class="token punctuation">{</span>
	<span class="token comment">// å¿½ç•¥ä¸å­˜åœ¨çš„å±æ€§</span>
    <span class="token comment">// objectMapper.configure(DeserializationFeature.FAIL_ON_UNKNOWN_PROPERTIES, false);</span>
    objectMapper<span class="token punctuation">.</span><span class="token function">disable</span><span class="token punctuation">(</span><span class="token class-name">DeserializationFeature</span><span class="token punctuation">.</span><span class="token constant">FAIL_ON_UNKNOWN_PROPERTIES</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">User</span> user <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>jsonStr<span class="token punctuation">,</span> <span class="token class-name">User</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">System</span><span class="token punctuation">.</span>out<span class="token punctuation">.</span><span class="token function">println</span><span class="token punctuation">(</span>user<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><ul><li>å¤„ç†æ³›å‹</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@Data</span>
<span class="token keyword">public</span> <span class="token keyword">class</span> <span class="token class-name">ResultDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token punctuation">{</span>
    <span class="token keyword">private</span> <span class="token class-name">Boolean</span> success <span class="token operator">=</span> <span class="token class-name">Boolean</span><span class="token punctuation">.</span><span class="token constant">TRUE</span><span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">T</span> data<span class="token punctuation">;</span>
    <span class="token keyword">private</span> <span class="token class-name">ResultDTO</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

    <span class="token keyword">public</span> <span class="token keyword">static</span> <span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token class-name">ResultDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> <span class="token function">buildSuccess</span><span class="token punctuation">(</span><span class="token class-name">T</span> t<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token class-name">ResultDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">T</span><span class="token punctuation">&gt;</span></span> resultDTO <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ResultDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
        resultDTO<span class="token punctuation">.</span><span class="token function">setData</span><span class="token punctuation">(</span>t<span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token keyword">return</span> resultDTO<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

</code></pre></div><div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">ResultDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> userResultDTO <span class="token operator">=</span> <span class="token class-name">ResultDTO</span><span class="token punctuation">.</span><span class="token function">buildSuccess</span><span class="token punctuation">(</span>bob<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// åºåˆ—åŒ–</span>
<span class="token class-name">String</span> dtoSerializationResult <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">writeValueAsString</span><span class="token punctuation">(</span>userResultDTO<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// ååºåˆ—åŒ–</span>
<span class="token class-name">ResultDTO</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span></span> dtoDeserializationResult <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">readValue</span><span class="token punctuation">(</span>dtoSerializationResult<span class="token punctuation">,</span> <span class="token keyword">new</span> <span class="token class-name">TypeReference</span><span class="token generics"><span class="token punctuation">&lt;</span><span class="token class-name">ResultDTO</span><span class="token punctuation">&lt;</span><span class="token class-name">User</span><span class="token punctuation">&gt;</span><span class="token punctuation">&gt;</span></span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="é€šç”¨é…ç½®-2"><a href="#é€šç”¨é…ç½®-2" class="header-anchor">#</a> é€šç”¨é…ç½®</h4> <ul><li>å±æ€§å‘½åæ ¼å¼ï¼šé©¼å³°è½¬ä¸‹åˆ’çº¿</li></ul> <p>ğŸŸ æ³¨æ„ï¼šå¦‚æœè®¾ç½®äº†<strong>é©¼å³°è½¬ä¸‹åˆ’çº¿</strong>ï¼Œååºåˆ—åŒ–çš„æ—¶å€™å°±<strong>ä¸ä¼šè¯†åˆ«é©¼å³°æ ¼å¼</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">static</span> <span class="token punctuation">{</span>
    <span class="token comment">// é©¼å³°è½¬ä¸‹åˆ’çº¿</span>
    objectMapper<span class="token punctuation">.</span><span class="token function">setPropertyNamingStrategy</span><span class="token punctuation">(</span><span class="token class-name">PropertyNamingStrategies</span><span class="token punctuation">.</span><span class="token constant">SNAKE_CASE</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><ul><li>æŒ‡å®šå±æ€§åï¼ˆååºåˆ—åŒ–çš„æ—¶å€™ä¹Ÿè¦ç”¨æ­¤åå­—ï¼‰</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@JsonProperty</span><span class="token punctuation">(</span><span class="token string">&quot;password&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> pwd<span class="token punctuation">;</span>
</code></pre></div><ul><li>å¿½ç•¥æŒ‡å®šå±æ€§ï¼ˆæœ‰å€¼ä¹Ÿä¸ä¼šååºåˆ—åŒ–ï¼‰</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token annotation punctuation">@JsonIgnore</span>
<span class="token keyword">private</span> <span class="token class-name">String</span> pwd<span class="token punctuation">;</span>
</code></pre></div><h4 id="æ›´æ–°å¯¹è±¡"><a href="#æ›´æ–°å¯¹è±¡" class="header-anchor">#</a> æ›´æ–°å¯¹è±¡</h4> <p>ç”¨æ–°çš„å¯¹è±¡çš„éç©ºå€¼æ›¿æ¢æ—§çš„å¯¹è±¡çš„å€¼ã€‚</p> <ul><li>åè€…æœ‰å€¼ï¼Œæ›¿æ¢å‰è€…</li> <li>åè€…ç©ºå€¼ï¼Œä¿ç•™å‰è€…</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">User</span> updateUser <span class="token operator">=</span> objectMapper<span class="token punctuation">.</span><span class="token function">updateValue</span><span class="token punctuation">(</span>originalUser<span class="token punctuation">,</span> newUser<span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h2 id="logger"><a href="#logger" class="header-anchor">#</a> Logger</h2> <h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="header-anchor">#</a> æ¦‚è¿°</h3> <p>æ—¥å¿—æ¡†æ¶ï¼š</p> <ul><li>log4j / log4j2 (apache)</li> <li>jul (jdkè‡ªå¸¦ java.util.logging)</li> <li>logback (qos)</li></ul> <p>æ—¥å¿—é—¨é¢ï¼š</p> <ul><li>jcl (apache)</li> <li>slf4j (qos)</li></ul> <h3 id="jul"><a href="#jul" class="header-anchor">#</a> Jul</h3> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// method1</span>
logger<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token class-name">Level</span><span class="token punctuation">.</span>xx<span class="token punctuation">,</span> <span class="token string">&quot;msg&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// method2</span>
logger<span class="token punctuation">.</span><span class="token function">warning</span><span class="token punctuation">(</span><span class="token string">&quot;msg&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>è¾“å‡ºä¿¡æ¯å°±æ˜¯çº¢è‰²ï¼ˆTomcat çš„æ—¥å¿—åº•å±‚ä¹Ÿæ˜¯è°ƒç”¨ julï¼‰ï¼Œå› ä¸ºä½¿ç”¨äº† <code>System.err</code></p> <p>é€šè¿‡ Handler æ¥æ§åˆ¶ Level è¾“å‡ºã€‚</p> <p><strong>é»˜è®¤æ—¥å¿—çº§åˆ« FINE</strong></p> <h4 id="ç»§æ‰¿å…³ç³»"><a href="#ç»§æ‰¿å…³ç³»" class="header-anchor">#</a> ç»§æ‰¿å…³ç³»</h4> <ul><li>æ‰€æœ‰ logger é»˜è®¤çš„çˆ¶çº§æ˜¯ <code>java.util.logging.LogManager$RootLogger</code></li> <li>é€šè¿‡åå­—ä¸­çš„ <code>.</code> æ¥å†³å®šçˆ¶å­å…³ç³»</li></ul> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Logger</span> logger1 <span class="token operator">=</span> <span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token string">&quot;a&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Logger</span> logger2 <span class="token operator">=</span> <span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token string">&quot;a.b&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token class-name">Logger</span> logger3 <span class="token operator">=</span> <span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token string">&quot;a.b.c&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// sout</span>
logger3<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logger3<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">==</span> logger2<span class="token punctuation">;</span>
logger1<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h4 id="ä¿®æ”¹è¾“å‡ºçº§åˆ«"><a href="#ä¿®æ”¹è¾“å‡ºçº§åˆ«" class="header-anchor">#</a> ä¿®æ”¹è¾“å‡ºçº§åˆ«</h4> <p><img src="https://docs.oracle.com/javase/8/docs/technotes/guides/logging/logging1.gif" alt="The previous context describes this graphic"></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token class-name">Logger</span> logger <span class="token operator">=</span> logger<span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token string">&quot;abc&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">setLevel</span><span class="token punctuation">(</span><span class="token class-name">Level</span><span class="token punctuation">.</span><span class="token constant">ALL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// method1</span>
<span class="token comment">// è·å–çˆ¶çº§loggerå¹¶è®¾ç½®handler(appender)çº§åˆ«</span>
<span class="token class-name">Handler</span><span class="token punctuation">[</span><span class="token punctuation">]</span> handlers <span class="token operator">=</span> logger<span class="token punctuation">.</span><span class="token function">getParent</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getHandlers</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token class-name">Handler</span> handler <span class="token operator">:</span> handlers<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    handler<span class="token punctuation">.</span><span class="token function">setLevel</span><span class="token punctuation">(</span><span class="token class-name">Level</span><span class="token punctuation">.</span><span class="token constant">ALL</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// method2</span>
<span class="token comment">// è®¾ç½®è‡ªå·±çš„handler</span>
<span class="token class-name">ConsoleHandler</span> selfHandler <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">ConsoleHandler</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">addHandler</span><span class="token punctuation">(</span>selfHander<span class="token punctuation">)</span><span class="token punctuation">;</span>
logger<span class="token punctuation">.</span><span class="token function">setUseParentHandlers</span><span class="token punctuation">(</span><span class="token boolean">false</span><span class="token punctuation">)</span><span class="token punctuation">;</span> <span class="token comment">// ä¸ç»§æ‰¿çˆ¶çº§Handler</span>
logger<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;logger3 info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><p>ç”±äº Handler é»˜è®¤ç»§æ‰¿ï¼Œå¦‚æœä¹Ÿè®¾ç½®äº†æœ¬ logger è‡ªå·±çš„ Handlerï¼Œå°±ä¼šå‡ºç°<strong>æ—¥å¿—é‡å¤è¾“å‡º</strong>é—®é¢˜ï¼Œéœ€è¦å…³é—­ç»§æ‰¿çˆ¶çº§ Handlerã€‚</p> <h4 id="é…ç½®æ–‡ä»¶"><a href="#é…ç½®æ–‡ä»¶" class="header-anchor">#</a> é…ç½®æ–‡ä»¶</h4> <blockquote><p>é»˜è®¤é…ç½®æ–‡ä»¶ <code>$JAVA_HOME/jre/lib/logging.properties</code></p></blockquote> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210111416247.png" alt="image-20221011141600638"></p> <ol><li><p>åœ¨ <code>resources</code> ç›®å½•æ–°å»º <code>logging.properties</code></p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token key attr-name">.level</span> <span class="token punctuation">=</span> <span class="token value attr-value">INFO # å…¨å±€level</span>
<span class="token key attr-name">com.ysama.logger.level</span> <span class="token punctuation">=</span> <span class="token value attr-value">WARNING # æŒ‡å®šåŒ…level</span>
</code></pre></div></li> <li><p>åŠ è½½é…ç½®æ–‡ä»¶å¹¶è®¾ç½®</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// JulService</span>
<span class="token keyword">static</span> <span class="token class-name">LogManager</span> logManager <span class="token operator">=</span> <span class="token class-name">LogManager</span><span class="token punctuation">.</span><span class="token function">getLogManager</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">static</span> <span class="token punctuation">{</span>
    logManager<span class="token punctuation">.</span><span class="token function">readConfiguration</span><span class="token punctuation">(</span><span class="token class-name">JulService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getClassLoader</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getResourceAsStream</span><span class="token punctuation">(</span><span class="token string">&quot;logging.properties&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token comment">// ä½¿ç”¨åŠ¨æ€åŒ…ååŒ¹é…æŒ‡å®šçš„level</span>
<span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">JulService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">.</span><span class="token function">getName</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></li></ol> <h3 id="log4j"><a href="#log4j" class="header-anchor">#</a> Log4j</h3> <p>å¼•å…¥ä¾èµ– <code>log4j</code> ğŸ”´æ³¨æ„æ¼æ´</p> <p>å¼€åˆ›äº†æ—¥å¿—çš„åˆ†çº§åˆ«è¾“å‡ºã€‚</p> <p>é¦–å…ˆä¼šæ ¹æ®è®¾å®šè¿‡æ»¤ Levelï¼Œå†é€šè¿‡ appender åˆ¤æ–­ Level æ˜¯å¦è¾“å‡ºåˆ°æ§åˆ¶å°ã€æ–‡ä»¶ç­‰ã€‚</p> <blockquote><p>ALL &lt; FINSET &lt; FINER &lt; FINE &lt; CONFIG &lt; INFO &lt; WARNING &lt; SEVERE &lt; OFF</p></blockquote> <p>æ‰€æœ‰æ—¥å¿—æŠ€æœ¯éƒ½æœ‰çˆ¶å­å…³ç³»çš„æ¦‚å¿µï¼Œä½¿ç”¨ <code>.</code> æ¥ç¡®å®šã€‚</p> <p><strong>Logger æ˜¯çº¿ç¨‹åŒæ­¥çš„ã€‚</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token class-name">Logger</span> logger <span class="token operator">=</span> <span class="token class-name">Logger</span><span class="token punctuation">.</span><span class="token function">getLogger</span><span class="token punctuation">(</span><span class="token class-name">Log4jService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    logger<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">&quot;trace&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p><strong>æ—¥å¿—çº§åˆ«</strong></p> <blockquote><p>trace &lt; debug &lt; info &lt; warn &lt; error &lt; fatal</p></blockquote> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210111459786.png" alt="image-20221011145942725"></p> <h4 id="é…ç½®æ–‡ä»¶-2"><a href="#é…ç½®æ–‡ä»¶-2" class="header-anchor">#</a> é…ç½®æ–‡ä»¶</h4> <p>è¿è¡Œå¿…é¡»è¦æœ‰é…ç½®æ–‡ä»¶ï¼Œé»˜è®¤å» classpath ä¸‹å¯»æ‰¾ã€‚</p> <p>åœ¨ <code>resources</code> ç›®å½•ä¸‹æ–°å»º <code>log4j.properties</code></p> <p>ğŸŸ¢å¯ä»¥å»å®˜æ–¹æ‰¾æ¨¡æ¿</p> <div class="language-properties extra-class"><pre class="language-properties"><code><span class="token comment"># å¿…é¡»è¦ç»™rootLoggerå…³è”appender å¦åˆ™ä¼šæŠ¥é”™</span>
<span class="token key attr-name">log4j.rootLogger</span><span class="token punctuation">=</span><span class="token value attr-value">INFO,xxx</span>

<span class="token comment"># é…ç½®æ§åˆ¶å°çš„appenderï¼Œxxxæ˜¯åå­—</span>
<span class="token key attr-name">log4j.appender.xxx</span> <span class="token punctuation">=</span> <span class="token value attr-value">org.apache.log4j.ConsoleAppender</span>
<span class="token key attr-name">log4j.appender.xxx.Target</span> <span class="token punctuation">=</span> <span class="token value attr-value">System.out</span>
<span class="token comment"># å•ä¸ªçš„appenderçš„Levelè¿‡æ»¤</span>
<span class="token key attr-name">log4j.appender.xxx.Threshold</span> <span class="token punctuation">=</span> <span class="token value attr-value">INFO</span>
<span class="token comment"># æ—¥å¿—æ ¼å¼</span>
<span class="token key attr-name">log4j.appender.xxx.layout</span> <span class="token punctuation">=</span> <span class="token value attr-value">org.apache.log4j.PatternLayout</span>

<span class="token key attr-name">ï¼ƒdï¼šdate</span> <span class="token value attr-value">ï¼…-5pï¼šæ—¥å¿—çº§åˆ«ï¼…20cï¼šå…¨ç±»åï¼…Lï¼šç¬¬å‡ è¡Œï¼…mï¼šè‡ªå·±æ‰“å°çš„message </span>
<span class="token key attr-name">log4j.appender.xxx.layout.ConversionPattern</span> <span class="token punctuation">=</span> <span class="token value attr-value">%d{yyyy-MM-dd HH:mm:ss} %-5p %20c %L:%m %n</span>

<span class="token comment"># æ³¨æ„æ—¥å¿—é‡å¤è¾“å‡ºé—®é¢˜ å› ä¸ºç»§æ‰¿äº†rootLogge</span>
<span class="token key attr-name">com.ysama.logger</span> <span class="token punctuation">=</span> <span class="token value attr-value">ERROR,xxx</span>
</code></pre></div><blockquote><p>DailyRollingFileAppender æ¯å¤©éƒ½è¾“å‡ºä¸€æ¬¡æ—¥å¿—</p> <p>å¦‚æœåªä¿ç•™7å¤©æ—¥å¿—ï¼Ÿ</p> <ol><li><p>linux è®¾ç½® crontab</p> <div class="language-bash extra-class"><pre class="language-bash"><code><span class="token function">find</span> /home/ysama/logs/ <span class="token parameter variable">-type</span> f <span class="token parameter variable">-mtime</span> +7 <span class="token parameter variable">-exec</span> <span class="token function">rm</span> <span class="token parameter variable">-f</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token punctuation">\</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p>RollingFileAppender å¯ä»¥æŒ‡å®šå•ä¸ªæ–‡ä»¶æœ€å¤§sizeä»¥åŠä¿ç•™å¤šå°‘ä¸ªæ—¥å¿—æ–‡ä»¶</p></li></ol></blockquote> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210111450885.png" alt="image-20221011145041645"></p> <h3 id="jcl"><a href="#jcl" class="header-anchor">#</a> Jcl</h3> <p>å¼•å…¥ä¾èµ– <code>commons-logging</code></p> <p>Jcl åªæ˜¯ä¸€ä¸ªæ—¥å¿—é—¨é¢ï¼Œåº•å±‚å¯ä»¥è®¾ç½®ä½¿ç”¨ä¸åŒçš„apiã€‚</p> <p><strong>é»˜è®¤ä½¿ç”¨ Jul ä½œä¸ºåº•å±‚ api</strong></p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// JclService</span>
<span class="token keyword">private</span> <span class="token class-name">Log</span> log <span class="token operator">=</span> <span class="token class-name">LogFactory</span><span class="token punctuation">.</span><span class="token function">getLog</span><span class="token punctuation">(</span><span class="token class-name">JclService</span><span class="token punctuation">.</span><span class="token keyword">class</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token keyword">public</span> <span class="token keyword">void</span> <span class="token function">test</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    log<span class="token punctuation">.</span><span class="token function">trace</span><span class="token punctuation">(</span><span class="token string">&quot;trace&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    log<span class="token punctuation">.</span><span class="token function">debug</span><span class="token punctuation">(</span><span class="token string">&quot;debug&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    log<span class="token punctuation">.</span><span class="token function">info</span><span class="token punctuation">(</span><span class="token string">&quot;info&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    log<span class="token punctuation">.</span><span class="token function">warn</span><span class="token punctuation">(</span><span class="token string">&quot;warn&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    log<span class="token punctuation">.</span><span class="token function">error</span><span class="token punctuation">(</span><span class="token string">&quot;error&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    log<span class="token punctuation">.</span><span class="token function">fatal</span><span class="token punctuation">(</span><span class="token string">&quot;fatal&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h4 id="åˆ‡æ¢ä½¿ç”¨-log4j-api"><a href="#åˆ‡æ¢ä½¿ç”¨-log4j-api" class="header-anchor">#</a> åˆ‡æ¢ä½¿ç”¨ log4j-api</h4> <ol><li>å¼•å…¥ log4j ä¾èµ–</li> <li>æ·»åŠ  log4j é…ç½®æ–‡ä»¶</li></ol> <p>ä¹‹åå°±ä¼šè‡ªåŠ¨åˆ‡æ¢ä¸º log4j</p> <h4 id="åˆ‡æ¢-api-åŸç†"><a href="#åˆ‡æ¢-api-åŸç†" class="header-anchor">#</a> åˆ‡æ¢ api åŸç†</h4> <blockquote><p>jcl å¯¹ä¸åŒçš„æ—¥å¿—åšäº†é€‚é…ï¼Œä½¿ç”¨é€‚é…å™¨çš„è®¾è®¡æ¨¡å¼ï¼Œåœ¨è¿è¡Œæ—¶é€šè¿‡ç±»åŠ è½½å™¨çš„æœºåˆ¶åŠ¨æ€è·å– loggerImpl</p></blockquote> <p>â˜•æŸ¥çœ‹æºç ï¼š</p> <ul><li><p><code>LogFactory</code> -&gt; <code>getFactory()</code>ï¼Œä¼šè‡ªåŠ¨å¯»æ‰¾é…ç½®æ–‡ä»¶ <code>commons-logging.properties</code>ï¼Œè¿”å›å·¥å‚å®ä¾‹</p></li> <li><p><code>LogFactory</code> -&gt; <code>getInstance()</code>ï¼Œä»æŠ½è±¡ç±»æ‰¾åˆ°å®ä¾‹ <code>LogFactoryImpl</code>ï¼Œæ¥ç€æ‰¾åˆ° <code>newInstance()</code> -&gt; <code>discoverLogImplementation()</code> æ–¹æ³•</p></li> <li><p>åœ¨ä¸Šé¢æ‰¾åˆ°çš„æ–¹æ³•ä¸­çœ‹åˆ°æœ‰ä¸€è¡Œä»£ç ï¼š</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token comment">// åªè¦è·å–åˆ°ä¸€ä¸ªLoggerå®ä¾‹å°±ä¼šé€€å‡ºå¾ªç¯</span>
<span class="token keyword">for</span><span class="token punctuation">(</span><span class="token keyword">int</span> i<span class="token operator">=</span><span class="token number">0</span><span class="token punctuation">;</span> i<span class="token operator">&lt;</span>classesToDiscover<span class="token punctuation">.</span>length <span class="token operator">&amp;&amp;</span> result <span class="token operator">==</span> <span class="token keyword">null</span><span class="token punctuation">;</span> <span class="token operator">++</span>i<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    result <span class="token operator">=</span> <span class="token function">createLogFromClass</span><span class="token punctuation">(</span>classesToDiscover<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> logCategory<span class="token punctuation">,</span> <span class="token boolean">true</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æŸ¥çœ‹å˜é‡ï¼Œæ‰¾åˆ°äº† log4j çš„ä¸€ä¸ª logger å®ç°</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span><span class="token punctuation">[</span><span class="token punctuation">]</span> classesToDiscover <span class="token operator">=</span> <span class="token punctuation">{</span>
    <span class="token constant">LOGGING_IMPL_LOG4J_LOGGER</span><span class="token punctuation">,</span>
    <span class="token string">&quot;org.apache.commons.logging.impl.Jdk14Logger&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;org.apache.commons.logging.impl.Jdk13LumberjackLogger&quot;</span><span class="token punctuation">,</span>
    <span class="token string">&quot;org.apache.commons.logging.impl.SimpleLog&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">;</span>

<span class="token keyword">private</span> <span class="token keyword">static</span> <span class="token keyword">final</span> <span class="token class-name">String</span> <span class="token constant">LOGGING_IMPL_LOG4J_LOGGER</span> <span class="token operator">=</span> <span class="token string">&quot;org.apache.commons.logging.impl.Log4JLogger&quot;</span><span class="token punctuation">;</span>
</code></pre></div></li> <li><p><code>createLogFromClass()</code> æ–¹æ³•è´Ÿè´£åˆ›å»ºä¸Šé¢å„ä¸ª logger å®ç°ç±»çš„å®ä¾‹ã€‚</p> <p>åœ¨æ–¹æ³•ä¸­é¦–å…ˆä¼šå°è¯•ä½¿ç”¨ <code>Class.forNmae</code> å¯»æ‰¾ <code>org.apache.commons.logging.impl.Log4JLogger</code>ï¼Œ<code>Log4JLogger</code> ä¸­å¼•ç”¨äº† log4j çš„ Loggerï¼Œä½†å› ä¸ºæ²¡æœ‰å¯¼å…¥ log4j ä¾èµ–äºæ˜¯æŠ¥é”™å¯¼è‡´ logAdatper æ²¡æœ‰èµ‹å€¼ï¼Œä¼šè¿”å›ç©ºçš„ Loggerã€‚ï¼ˆå¦‚æœæˆåŠŸä¼šè¿”å› Log4JLogger é€‚é…å™¨å®ä¾‹ï¼‰</p></li> <li><p><code>Jdk14Logger</code> ä¸­å¼•å…¥çš„æ˜¯ <strong>jul çš„ Logger</strong>ï¼Œæ˜¯ä¸€ç§é€‚é…å™¨æ¨¡å¼ã€‚</p></li></ul> <h3 id="slf4j-logback"><a href="#slf4j-logback" class="header-anchor">#</a> slf4j + logback</h3> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>ch.qos.logback<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>logback-classic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.4.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

</code></pre></div><p>åŒæ—¶è‡ªå¸¦äº† <code>slf4j-api</code> å’Œ <code>logback-core</code>ï¼Œä½†è¿˜æ˜¯å†å¼•å…¥ä¸€æ¬¡ <code>slf4j-api</code> æœ€å¥½ï¼Œé¿å…æ‰¾ä¸åˆ°ä¾èµ–ã€‚</p> <p>ğŸŸ  éœ€è¦ä½¿ç”¨ <code>logback.xml</code> é…ç½®æ–‡ä»¶</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>configuration</span><span class="token punctuation">&gt;</span></span>
    <span class="token comment">&lt;!-- ä¹Ÿå¯ä»¥ç”¨${user.home} --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>LOG_HOME<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>./logs<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>property</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>appName<span class="token punctuation">&quot;</span></span> <span class="token attr-name">value</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>test<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.ConsoleAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>appLogAppender<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.RollingFileAppender<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>file</span><span class="token punctuation">&gt;</span></span>${LOG_HOME}/${appName}.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>file</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>rollingPolicy</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ch.qos.logback.core.rolling.SizeAndTimeBasedRollingPolicy<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
            <span class="token comment">&lt;!-- è¶…å‡ºå®¹é‡åä¼šé‡å‘½å --&gt;</span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>${LOG_HOME}/${appName}-%d{yyyy-MM-dd}-%i.log<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>fileNamePattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxHistory</span><span class="token punctuation">&gt;</span></span>1<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxHistory</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>maxFileSize</span><span class="token punctuation">&gt;</span></span>100MB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>maxFileSize</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>totalSizeCap</span><span class="token punctuation">&gt;</span></span>1GB<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>totalSizeCap</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>rollingPolicy</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>encoder</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>pattern</span><span class="token punctuation">&gt;</span></span>%d{HH:mm:ss.SSS} [%thread] %-5level %logger{36} - %msg%n<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>pattern</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>charset</span><span class="token punctuation">&gt;</span></span>UTF-8<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>charset</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>encoder</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>appender</span><span class="token punctuation">&gt;</span></span>

    <span class="token comment">&lt;!-- additivity=falseè¡¨ç¤ºä¸ç»§æ‰¿çˆ¶çº§appender --&gt;</span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>logger</span> <span class="token attr-name">name</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>com.ysama.TestSlf4j<span class="token punctuation">&quot;</span></span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>FINE<span class="token punctuation">&quot;</span></span> <span class="token attr-name">additivity</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>false<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>appLogAppender<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>logger</span><span class="token punctuation">&gt;</span></span>

    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>root</span> <span class="token attr-name">level</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>debug<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>STDOUT<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>appender-ref</span> <span class="token attr-name">ref</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>appLogAppender<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>root</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>configuration</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="æ—¥å¿—ä¹‹é—´åˆ‡æ¢"><a href="#æ—¥å¿—ä¹‹é—´åˆ‡æ¢" class="header-anchor">#</a> æ—¥å¿—ä¹‹é—´åˆ‡æ¢</h3> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210121330071.png" alt="image-20221012133026611"></p> <p>ä¸€èˆ¬çš„æ­é…æƒ…å†µï¼š</p> <ol><li>jcl é—¨é¢ + log4j / jul åº•å±‚ api</li> <li>slf4j é—¨é¢ + logback åº•å±‚ api</li> <li>slf4j é—¨é¢ + å¼•å…¥é€‚é…å™¨åŒ… + [jcl çš„ä½“ç³»] / log4j / jul åº•å±‚ã€‚ï¼ˆæŠ½è±¡å±‚ + ä¸­é—´å±‚ + å®ç°å±‚ï¼‰
<strong>åŸç†ï¼šå°† log4j ç­‰çš„ Logger åŒ…è£…æˆ slf4j çš„ Loggerï¼Œæœ€ç»ˆè¾“å‡ºç”¨çš„æ˜¯ log4jã€‚</strong></li> <li>æœ¬é¡¹ç›®ä½¿ç”¨çš„æ˜¯ slf4j + logbackï¼Œå¼•å…¥çš„ä¾èµ–ä½¿ç”¨äº† log4jï¼Œéœ€è¦å°†å¼•å…¥ä¾èµ–çš„æ—¥å¿—è¾“å‡º<strong>æ¡¥æ¥</strong>åˆ°  slf4j é—¨é¢è¿›è¡Œè¾“å‡ºï¼Œä¸éœ€è¦å†å•ç‹¬è®¾ç½® log4j çš„é…ç½®æ–‡ä»¶ã€‚</li></ol> <p><img src="https://cdn.jsdelivr.net/gh/Nova-mist/HexoBlogResources/images/2022/202210121414008.png" alt="image-20221012141414803"></p> <h4 id="slf4j-log4j"><a href="#slf4j-log4j" class="header-anchor">#</a> slf4j + log4j</h4> <ol><li>å¼•å…¥ä¾èµ– <code>slf4j</code> + <code>slf4j-log4j</code></li></ol> <p>æ³¨æ„ä¾èµ–çš„ <code>&lt;scope&gt;</code> ä¸èƒ½æ˜¯ testï¼Œå»æ‰å³å¯ã€‚å¦åˆ™ä¼šæŠ¥é”™ <code>No SLF4J providers were found.</code></p> <p><strong>æ³¨æ„ç‰ˆæœ¬é—®é¢˜</strong></p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-log4j12 --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-log4j12<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><ol start="2"><li>åœ¨ <code>resources</code> ç›®å½•ä¸‹æ–°å»º <code>log4j.properties</code> é…ç½®æ–‡ä»¶ã€‚</li></ol> <h4 id="log4j-æ¡¥æ¥åˆ°-slf4j"><a href="#log4j-æ¡¥æ¥åˆ°-slf4j" class="header-anchor">#</a> log4j æ¡¥æ¥åˆ° slf4j</h4> <ol><li><p>å‡†å¤‡æµ‹è¯•ç¯å¢ƒï¼š</p> <ul><li>log4j ä¾èµ–æ¨¡å—</li> <li>slf4j + logback ä¸»æ¨¡å—</li></ul></li> <li><p>ä¸»æ¨¡å—ä¾èµ–</p> <p>å¼•å…¥äº†å­æ¨¡å—çš„ service ä½†æ˜¯<strong>æ’é™¤äº†å­æ¨¡å—çš„ log4j ä¾èµ–</strong>ï¼ˆæ¡¥æ¥å™¨çš„ä¼˜å…ˆçº§è¦é«˜äºlog4jï¼‰</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.example<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>module-6-logger-log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.0-SNAPSHOT<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusions</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>exclusion</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
            <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>log4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
        <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusion</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>exclusions</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
<span class="token comment">&lt;!-- slf4j + logback --&gt;</span>
<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/ch.qos.logback/logback-classic --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>ch.qos.logback<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>logback-classic<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>1.4.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>scope</span><span class="token punctuation">&gt;</span></span>test<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>scope</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>


<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.slf4j/slf4j-api --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>slf4j-api<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>

<span class="token comment">&lt;!-- æ¡¥æ¥ä¾èµ–çš„log4j --&gt;</span>
<span class="token comment">&lt;!-- https://mvnrepository.com/artifact/org.slf4j/log4j-over-slf4j --&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>org.slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>log4j-over-slf4j<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.3<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div></li></ol> <p>æ¡¥æ¥å™¨çš„å†…éƒ¨åŒ…åå’Œç±»åå’Œ log4j ç›¸åŒï¼ˆapi ç›¸åŒï¼‰ï¼Œä½†æ˜¯å…·ä½“çš„å®ç°åˆ™æ˜¯è°ƒç”¨äº† slf4j çš„ apiã€‚<strong>å­ä¾èµ–è°ƒç”¨çš„ log4j æ¥å£çš„å†…éƒ¨å®ç°æ˜¯ slf4j æ¥å£ã€‚</strong></p></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">11/8/2022, 2:56:58 AM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      â†
      <a href="/NovaBlog/Tools/%E6%97%A5%E5%BF%97&amp;json/" class="prev router-link-active">
        åˆ—è¡¨
      </a></span> <!----></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/NovaBlog/assets/js/app.7283b6f5.js" defer></script><script src="/NovaBlog/assets/js/2.6539ea43.js" defer></script><script src="/NovaBlog/assets/js/36.44753080.js" defer></script>
  </body>
</html>
