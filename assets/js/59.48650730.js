(window.webpackJsonp=window.webpackJsonp||[]).push([[59],{329:function(a,t,s){"use strict";s.r(t);var e=s(13),v=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("img",{staticStyle:{zoom:"50%"},attrs:{src:"https://raw.githubusercontent.com/Nova-mist/HexoBlogResources/main/images/2021/JulyNicePng_mysql-logo-transparent-png_2693138.png",alt:"NicePng_mysql-logo-transparent-png_2693138"}}),a._v(" "),t("p",[t("strong",[a._v("今天复习一些基础知识。")]),a._v("（准备专业课期末考试中 Busy 🥛）")]),a._v(" "),t("h2",{attrs:{id:"准备"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#准备"}},[a._v("#")]),a._v(" 准备")]),a._v(" "),t("ul",[t("li",[a._v("安装了 "),t("code",[a._v("MySQL Workbench")]),a._v(" 图形化界面")]),a._v(" "),t("li",[a._v("下载了书中附录的"),t("a",{attrs:{href:"https://forta.com/books/0672336073/",target:"_blank",rel:"noopener noreferrer"}},[a._v("建库代码"),t("OutboundLink")],1)])]),a._v(" "),t("p",[a._v("资料参考：")]),a._v(" "),t("ul",[t("li",[a._v("https://www.runoob.com/mysql/mysql-tutorial.html")]),a._v(" "),t("li",[a._v("https://www.liaoxuefeng.com/wiki/1177760294764384")])]),a._v(" "),t("h3",{attrs:{id:"登录命令"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#登录命令"}},[a._v("#")]),a._v(" 登录命令")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("mysql "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-uroot")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v("\nEnter"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("# 输入密码")]),a._v("\n")])])]),a._v(" "),t("h2",{attrs:{id:"概述"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[a._v("#")]),a._v(" 概述")]),a._v(" "),t("p",[a._v("数据库（database）是一个以某种有组织的方式存储的数据集合。")]),a._v(" "),t("p",[a._v("数据库管理系统（DBMS）创建和操纵数据库这个容器。")]),a._v(" "),t("p",[a._v("表（table）是某种特定类型数据的结构化清单。"),t("strong",[a._v("每个数据库中的表名唯一。")])]),a._v(" "),t("p",[t("em",[a._v("每个表存储一组相关的数据")])]),a._v(" "),t("p",[a._v("表由列（column）组成，列是表中的一个字段。"),t("strong",[a._v("每个列都有相应的数据类型。")])]),a._v(" "),t("p",[a._v("表中的数据按行（row）存储.")]),a._v(" "),t("p",[t("strong",[a._v("主键：每一行中可以唯一标识自己的一列或一组列。ID 编号")])]),a._v(" "),t("p",[t("strong",[a._v("SQL ( Structured Query Language)")])]),a._v(" "),t("p",[t("strong",[a._v("SQL语言定义了操作数据库的能力")])]),a._v(" "),t("blockquote",[t("p",[t("strong",[a._v("DDL：Data Definition Language")])]),a._v(" "),t("p",[a._v("DDL允许用户定义数据，也就是创建表、删除表、修改表结构这些操作。通常，DDL由数据库管理员执行。")]),a._v(" "),t("p",[a._v("CREATE, DROP, ALTER, TRUNCATE")]),a._v(" "),t("p",[t("strong",[a._v("DML：Data Manipulation Language")])]),a._v(" "),t("p",[a._v("DML为用户提供添加、删除、更新数据的能力，这些是应用程序对数据库的日常操作。")]),a._v(" "),t("p",[a._v("UPDATE, DELETE, INSERT")]),a._v(" "),t("p",[t("strong",[a._v("DQL：Data Query Language")])]),a._v(" "),t("p",[a._v("DQL允许用户查询数据，这也是通常最频繁的数据库日常操作。")]),a._v(" "),t("p",[a._v("SELECT")])]),a._v(" "),t("h2",{attrs:{id:"关系模型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#关系模型"}},[a._v("#")]),a._v(" 关系模型")]),a._v(" "),t("h3",{attrs:{id:"主键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#主键"}},[a._v("#")]),a._v(" 主键")]),a._v(" "),t("p",[a._v("主键是用来唯一定位记录的，最好不要修改。")]),a._v(" "),t("ul",[t("li",[a._v("自增整数类型")]),a._v(" "),t("li",[a._v("全局唯一 GUID 类型")])]),a._v(" "),t("blockquote",[t("p",[a._v("任意列都可以作为主键，只要")]),a._v(" "),t("ul",[t("li",[a._v("每行的主键值唯一")]),a._v(" "),t("li",[a._v("主键列中的值不允许修改或更新")]),a._v(" "),t("li",[a._v("主键值不能重用，删除一行，他的主键也不能赋给新的行。")])])]),a._v(" "),t("h3",{attrs:{id:"联合主键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#联合主键"}},[a._v("#")]),a._v(" 联合主键")]),a._v(" "),t("p",[a._v("多个字段设置为主键")]),a._v(" "),t("p",[t("strong",[a._v("允许重复，只要不是所有主键列都重复。")])]),a._v(" "),t("h3",{attrs:{id:"外键"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#外键"}},[a._v("#")]),a._v(" 外键")]),a._v(" "),t("p",[a._v("实现 一对多、多对多、一对一 的关系。")]),a._v(" "),t("blockquote",[t("p",[a._v("在"),t("code",[a._v("students")]),a._v("表中，通过"),t("code",[a._v("class_id")]),a._v("的字段，可以把数据与另一张表关联起来，这种列称为"),t("code",[a._v("外键")]),a._v("。")])]),a._v(" "),t("p",[t("strong",[a._v("外键并不是通过列名实现的，而是通过定义外键约束实现的。")])]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE students\nADD CONSTRAINT fk_class_id\nFOREIGN KEY (class_id)\nREFERENCES classes (id);\n \n# 删除外键\nALTER TABLE students\nDROP FOREIGN KEY fk_class_id;\n \n# 删除列\nDROP COLUMN ...\n")])])]),t("blockquote",[t("p",[a._v("外键约束的名称"),t("code",[a._v("fk_class_id")]),a._v("可以任意，"),t("code",[a._v("FOREIGN KEY (class_id)")]),a._v("指定了"),t("code",[a._v("class_id")]),a._v("作为外键，"),t("code",[a._v("REFERENCES classes (id)")]),a._v("指定了这个外键将关联到"),t("code",[a._v("classes")]),a._v("表的"),t("code",[a._v("id")]),a._v("列（即"),t("code",[a._v("classes")]),a._v("表的主键）。")]),a._v(" "),t("p",[t("strong",[a._v("通过定义外键约束，关系数据库可以保证无法插入无效的数据。即如果"),t("code",[a._v("classes")]),a._v("表不存在"),t("code",[a._v("id=99")]),a._v("的记录，"),t("code",[a._v("students")]),a._v("表就无法插入"),t("code",[a._v("class_id=99")]),a._v("的记录。")])])]),a._v(" "),t("h3",{attrs:{id:"索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#索引"}},[a._v("#")]),a._v(" 索引")]),a._v(" "),t("blockquote",[t("p",[a._v("索引是关系数据库中对某一列或多给个列的值进行预排序的数据结构。通过使用索引，可以让数据库系统不必扫描整个表，而是直接定位到符合条件的记录，这样就大大加快了查询速度。")])]),a._v(" "),t("p",[t("strong",[a._v("索引的效率取决于索引列的值是否散列，即该列的值如果越互不相同，那么索引效率越高。")])]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE students\nADD INDEX idx_score (score);\n \nALTER TABLE students\nADD INDEX idx_name_score (name, score);\n")])])]),t("p",[t("strong",[a._v("添加唯一索引保持唯一性约束：不能出现同一个身份证号")])]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE students\nADD UNIQUE INDEX uni_name (name);\n \n# 或者只对某一列添加一个唯一约束而不创建唯一索引\nALTER TABLE students\nADD CONSTRAINT uni_name UNIQUE (name);\n")])])]),t("h2",{attrs:{id:"sql-数据类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql-数据类型"}},[a._v("#")]),a._v(" "),t("a",{attrs:{href:"https://www.runoob.com/mysql/mysql-data-types.html",target:"_blank",rel:"noopener noreferrer"}},[a._v("SQL 数据类型"),t("OutboundLink")],1)]),a._v(" "),t("ul",[t("li",[a._v("数据类型可以限制存储的数据。")]),a._v(" "),t("li",[a._v("数据类型允许在内部更有效的存储数据。")]),a._v(" "),t("li",[a._v("数据类型允许变换排序顺序。例如字符串中 1>10>2")])]),a._v(" "),t("h3",{attrs:{id:"字符串"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#字符串"}},[a._v("#")]),a._v(" 字符串")]),a._v(" "),t("p",[a._v("字符串值必须阔在"),t("strong",[a._v("单引号")]),a._v("中。")]),a._v(" "),t("ul",[t("li",[a._v("CHAR 定长字符，"),t("strong",[a._v("长度必须在创建时规定")]),a._v("。")]),a._v(" "),t("li",[a._v("TEXT（LONG 、VARCHAR） 边长文本，处理效率低。")])]),a._v(" "),t("h3",{attrs:{id:"数值"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数值"}},[a._v("#")]),a._v(" 数值")]),a._v(" "),t("ul",[t("li",[a._v("BIT 0/1")]),a._v(" "),t("li",[a._v("DECIMAL （NUMERIC）定点或精度可变的浮点值")]),a._v(" "),t("li",[a._v("FLOAT （NUMBER） 浮点值")]),a._v(" "),t("li",[a._v("INT （INTEGER）4 Bytes 整数值")]),a._v(" "),t("li",[a._v("REAL 4 Bytes 浮点值")]),a._v(" "),t("li",[a._v("SMALLINT 2 Bytes 整数")]),a._v(" "),t("li",[a._v("TINYINT 1 Bytes 整数，0~255")])]),a._v(" "),t("h3",{attrs:{id:"日期和时间"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#日期和时间"}},[a._v("#")]),a._v(" 日期和时间")]),a._v(" "),t("ul",[t("li",[a._v("DATE 日期")]),a._v(" "),t("li",[a._v("TIME 时间")]),a._v(" "),t("li",[a._v("DATETIME （TIMESTAMP） 日期时间")])]),a._v(" "),t("h3",{attrs:{id:"二级制数据类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#二级制数据类型"}},[a._v("#")]),a._v(" 二级制数据类型")]),a._v(" "),t("h2",{attrs:{id:"常用sql语句的语法"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#常用sql语句的语法"}},[a._v("#")]),a._v(" 常用SQL语句的语法")]),a._v(" "),t("h3",{attrs:{id:"alter-table"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#alter-table"}},[a._v("#")]),a._v(" ALTER　TABLE")]),a._v(" "),t("p",[a._v("更新已存在表的结构。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ALTER TABLE tablename\n{\n\tADD|DROP column datatype [NULL|NOT NULL] [CONSTRAINS],\n\tADD|DROP column datatype [NULL|NOT NULL] [CONSTRAINS]\n};\n")])])]),t("h3",{attrs:{id:"commit"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#commit"}},[a._v("#")]),a._v(" COMMIT")]),a._v(" "),t("p",[a._v("用来将事务写入数据库。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("COMMIT [TRANSACTION];\n")])])]),t("h3",{attrs:{id:"create-index"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-index"}},[a._v("#")]),a._v(" CREATE INDEX")]),a._v(" "),t("p",[a._v("在一个或多个列上创建索引。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE INDEX indexname\nON tablename (colunm, ...);\n")])])]),t("h3",{attrs:{id:"create-procedure"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-procedure"}},[a._v("#")]),a._v(" CREATE PROCEDURE")]),a._v(" "),t("p",[a._v("创建存储过程。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE PROCEDURE procedurename [parameters] [options]\nAS\nSQL statement;\n")])])]),t("h3",{attrs:{id:"create-talbe"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-talbe"}},[a._v("#")]),a._v(" CREATE TALBE")]),a._v(" "),t("p",[a._v("创建新数据库表。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE TABLE tablename\n{\n\tcolumn datatype [NULL|NOT NULL] [CONSTRAINTS],\n\tcolumn datatype [NULL|NOT NULL] [CONSTRAINTS]\n};\n")])])]),t("h3",{attrs:{id:"create-view"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#create-view"}},[a._v("#")]),a._v(" CREATE VIEW")]),a._v(" "),t("p",[a._v("创建一个或多个表上的新视图。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("CREATE VIEW viewname AS\nSELECT columns, ...\nFROM tables, ...\n[WHERE ...]\n[GROUP BY ...]\n[HAVING ...];\n")])])]),t("h3",{attrs:{id:"delete"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete"}},[a._v("#")]),a._v(" DELETE")]),a._v(" "),t("p",[a._v("从表中删除一行或多行。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("DELETE FROM tablename\n[WHERE ...];\n")])])]),t("h3",{attrs:{id:"drop"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#drop"}},[a._v("#")]),a._v(" DROP")]),a._v(" "),t("p",[a._v("​\t永久的删除数据库对象（表、视图、对象）。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("DROP INDEX|PROCEDURE|TABLE|VIEW\nindexname|procedurename|tablename|viewname;\n")])])]),t("h3",{attrs:{id:"insert"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#insert"}},[a._v("#")]),a._v(" INSERT")]),a._v(" "),t("p",[a._v("为表添加一行。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("INSERT INTO tablename [(columns, ...)]\nVALUES(values, ...);\n")])])]),t("h3",{attrs:{id:"insert-select"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#insert-select"}},[a._v("#")]),a._v(" INSERT SELECT")]),a._v(" "),t("p",[a._v("将 SELECT 结果插入到一个表。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("INSERT INTO tablename [(columns, ...)]\nSELECT columns, ... FROM tablename, ...\n[WHERE ...];\n")])])]),t("h3",{attrs:{id:"rollback"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#rollback"}},[a._v("#")]),a._v(" ROLLBACK")]),a._v(" "),t("p",[a._v("用于撤销一个事务块。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("ROLLBACK [TO savepointname];\nROLLBACK TRANSACITON;\n")])])]),t("h3",{attrs:{id:"select"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#select"}},[a._v("#")]),a._v(" SELECT")]),a._v(" "),t("p",[a._v("从一个或多个表（视图）中检索数据。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("SELECT columnname, ...\nFROM table, ...\n[WHERE ...]\n[UNION ...]\n[GROUP BY ...]\n[HAVING ...]\n[ORDER BY ...];\n")])])]),t("h3",{attrs:{id:"update"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#update"}},[a._v("#")]),a._v(" UPDATE")]),a._v(" "),t("p",[a._v("更新表中的一行或多行。")]),a._v(" "),t("div",{staticClass:"language-mysql extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("UPDATE tablename\nSET colummname = value, ...\n[WHERE ...];\n")])])])])}),[],!1,null,null,null);t.default=v.exports}}]);